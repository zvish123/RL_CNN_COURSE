<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משימת הסייבר - דף עבודה פרמוט מחרוזת</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .story-box {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #e17055;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .story-box h2 {
            color: #d63031;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .level {
            margin: 30px 0;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid;
        }

        .level-1 {
            background: linear-gradient(135deg, #d1f2eb, #a3e9d0);
            border-left-color: #00b894;
        }

        .level-2 {
            background: linear-gradient(135deg, #fef9e7, #fcf4dd);
            border-left-color: #fdcb6e;
        }

        .level-3 {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            border-left-color: #e17055;
        }

        .level-4 {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            border-left-color: #e84393;
        }

        .level-5 {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            border-left-color: #5f3dc4;
            color: white;
        }

        .level h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exercise {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            color: black;
        }

        .exercise h4 {
            color: #2d3436;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            overflow-x: auto;
            direction: ltr;
        }

        .code-block::before {
            content: "Python";
            position: absolute;
            top: -8px;
            right: 10px;
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }

        .expected-output {
            background: #f8f9fa;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            direction:ltr;
        }

        .expected-output::before {
            content: "פלט צפוי:";
            color: #28a745;
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
        }

        .hint {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .hint::before {
            content: "💡 רמז: ";
            color: #1976d2;
            font-weight: bold;
        }

        .solution {
            background: #f1f8e9;
            border: 1px solid #8bc34a;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .solution summary {
            cursor: pointer;
            font-weight: bold;
            color: #689f38;
            padding: 5px;
        }

        .solution summary:hover {
            color: #558b2f;
        }

        .progress-tracker {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .progress-bar {
            background: #e9ecef;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(45deg, #00b894, #55a3ff);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .badge {
            display: inline-block;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            margin: 2px;
        }

        .difficulty-stars {
            color: #ffd700;
            font-size: 1.2em;
            margin-right: 10px;
        }

        .character-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .character-avatar {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .mission-brief {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .interactive-element {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
        }

        .test-button {
            background: linear-gradient(45deg, #00b894, #55a3ff);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .achievement {
            background: linear-gradient(135deg, #ffd700, #ffb347);
            border: 2px solid #ff6b35;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            display: none;
        }

        .achievement.unlocked {
            display: block;
            animation: bounce 0.6s ease-in-out;
        }

        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
            40%, 43% { transform: translate3d(0,-30px,0); }
            70% { transform: translate3d(0,-15px,0); }
            90% { transform: translate3d(0,-4px,0); }
        }

        .level-complete {
            background: linear-gradient(135deg, #00b894, #55a3ff);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            display: none;
        }

        .easter-egg {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 10px;
            border-radius: 10px;
            display: none;
            cursor: pointer;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .level {
                padding: 20px;
            }
            
            .code-block {
                font-size: 12px;
            }
        }

        /* Print styles */
        @media print {
            body {
                background: white;
            }
            
            .container {
                box-shadow: none;
                margin: 0;
            }
            
            .interactive-element,
            .test-button,
            .achievement {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🕵️‍♂️ משימת הסייבר</h1>
            <p>דף עבודה אינטראקטיבי: פרמוט מחרוזות והדפסה מאורגנת</p>
            <div class="badge">רמת קושי: מתחיל → מומחה</div>
            <div class="badge">זמן משוער: 90 דקות</div>
        </div>

        <div class="story-box">
            <h2>📖 הסיפור</h2>
            <p>אתם סוכני סייבר צעירים במשימה חשאית! בסיס הנתונים של הארגון המסתורי "קודקס" נפרץ, וכל המידע מוצג בפורמט לא קריא. המשימה שלכם: לתקן את מערכות ההדפסה והפרמוט כדי להציל את המידע החיוני.</p>
            
            <p><strong>המטרה:</strong> לעבור 5 רמות קושי, כאשר כל רמה מייצגת תחום אחר במערכת שצריך לתקן. בסוף המשימה תקבלו את הקוד הסודי להצלת העולם! 🌍</p>
        </div>

        <div class="character-box">
            <div class="character-avatar">🤖</div>
            <h3>פרופ' קודיק - המדריך שלכם</h3>
            <p>"שלום סוכנים! אני אדריך אתכם בדרך. זכרו - כל שורת קוד שתכתבו מקרבת אותנו לניצחון!"</p>
        </div>

        <div class="progress-tracker">
            <h3>📊 התקדמות המשימה</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p id="progressText">0 מתוך 25 תרגילים הושלמו</p>
            <div id="achievements"></div>
        </div>

        <!-- Level 1: Basic Formatting -->
        <div class="level level-1" id="level1">
            <h3><span class="difficulty-stars">⭐</span>🟢 רמה 1: מערכת זיהוי בסיסית</h3>
            
            <div class="mission-brief">
                <h4>📋 תדריך המשימה</h4>
                <p>המערכת של הסוכנים לא מציגה שמות וקודים כראוי. עליכם לתקן את תצוגת הפרטים האישיים של הסוכנים.</p>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 1.1: כרטיס סוכן</h4>
                <p><strong>המצב:</strong> המערכת מציגה מידע לא מעוצב על הסוכנים.</p>
                
                <pre class="code-block">
# המידע הגולמי
agent_name = "מאיה לוי"
agent_id = 7834
security_level = 3

# המשימה: הציגו כרטיס סוכן מעוצב
# השתמשו ב-f-strings
                </pre>

                <pre class="expected-output">
🆔 כרטיס סוכן
================
👤 שם: מאיה לוי
🔢 קוד זיהוי: 7834
🔐 רמת אבטחה: 3
================
                </pre>

                <div class="hint">
                    השתמשו ב-f-strings ובסימן = ליצירת קו הפרדה יפה
                </div>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
agent_name = "מאיה לוי"
agent_id = 7834
security_level = 3

print("🆔 כרטיס סוכן")
print("=" * 16)
print(f"👤 שם: {agent_name}")
print(f"🔢 קוד זיהוי: {agent_id}")
print(f"🔐 רמת אבטחה: {security_level}")
print("=" * 16)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 1.2: דוח משימות יומי</h4>
                <p><strong>המצב:</strong> כל סוכן צריך לדווח על הפעילות היומית שלו.</p>
                
                <pre class="code-block">
# נתוני המשימה
missions_completed = 3
missions_total = 5
success_rate = 0.85

# יצרו דוח יומי מעוצב
                </pre>

                <pre class="expected-output">
📊 דוח משימות יומי
משימות הושלמו: 3 מתוך 5
אחוז הצלחה: 85.0%
סטטוס: בביצוע
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
missions_completed = 3
missions_total = 5
success_rate = 0.85

print("📊 דוח משימות יומי")
print(f"משימות הושלמו: {missions_completed} מתוך {missions_total}")
print(f"אחוז הצלחה: {success_rate*100:.1f}%")
print("סטטוס: בביצוע")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 1.3: התראת אבטחה</h4>
                <p><strong>המצב:</strong> המערכת צריכה להציג התראות אבטחה ברורות.</p>
                
                <pre class="code-block">
# פרטי ההתראה
alert_level = "בינוני"
location = "מעבדה B-7"
time_detected = "14:23"
threat_type = "גישה לא מורשית"

# יצרו התראת אבטחה מעוצבת
                </pre>

                <pre class="expected-output">
🚨 התראת אבטחה 🚨
==================
⚠️  רמת התראה: בינוני
📍 מיקום: מעבדה B-7
🕐 זמן זיהוי: 14:23
🔍 סוג איום: גישה לא מורשית
==================
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
alert_level = "בינוני"
location = "מעבדה B-7"
time_detected = "14:23"
threat_type = "גישה לא מורשית"

print("🚨 התראת אבטחה 🚨")
print("=" * 18)
print(f"⚠️  רמת התראה: {alert_level}")
print(f"📍 מיקום: {location}")
print(f"🕐 זמן זיהוי: {time_detected}")
print(f"🔍 סוג איום: {threat_type}")
print("=" * 18)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="interactive-element">
                <button class="test-button" onclick="testLevel1()">🧪 בדוק את הפתרונות</button>
                <div id="level1Result"></div>
            </div>
        </div>

        <!-- Level 2: Numbers and Calculations -->
        <div class="level level-2" id="level2">
            <h3><span class="difficulty-stars">⭐⭐</span>🟡 רמה 2: מערכת הכספים</h3>
            
            <div class="mission-brief">
                <h4>📋 תדריך המשימה</h4>
                <p>מערכת ניהול התקציב של הארגון קרסה! המספרים מוצגים בצורה לא ברורה, וההנהלה לא מבינה את הדוחות הכספיים. עליכם לתקן את תצוגת המספרים והחישובים.</p>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 2.1: תקציב המשימה</h4>
                <p><strong>המצב:</strong> תקציבי המשימות מוצגים בצורה לא קריאה.</p>
                
                <pre class="code-block">
# תקציבים בשקלים
equipment_budget = 1250000
personnel_budget = 3750000
total_budget = equipment_budget + personnel_budget

# הציגו את התקציבים עם פסיקים ופורמט יפה
                </pre>

                <pre class="expected-output">
💰 תקציב המשימה
================
🛠️  ציוד: ₪1,250,000
👥 כוח אדם: ₪3,750,000
📊 סה"כ: ₪5,000,000
================
                </pre>

                <div class="hint">
                    השתמשו ב-:, לפרמוט מספרים עם פסיקים
                </div>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
equipment_budget = 1250000
personnel_budget = 3750000
total_budget = equipment_budget + personnel_budget

print("💰 תקציב המשימה")
print("=" * 16)
print(f"🛠️  ציוד: ₪{equipment_budget:,}")
print(f"👥 כוח אדם: ₪{personnel_budget:,}")
print(f"📊 סה\"כ: ₪{total_budget:,}")
print("=" * 16)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 2.2: דוח הוצאות מדויק</h4>
                <p><strong>המצב:</strong> ההוצאות צריכות להיות מדויקות לאגורה.</p>
                
                <pre class="code-block">
# הוצאות בשקלים (עם אגורות)
fuel_cost = 1456.789
food_cost = 892.234
communication_cost = 234.567

# הציגו עם דיוק של 2 ספרות אחרי הנקודה
                </pre>

                <pre class="expected-output">
🧾 דוח הוצאות
=============
⛽ דלק: ₪1,456.79
🍽️  מזון: ₪892.23
📡 תקשורת: ₪234.57
💵 סה"כ הוצאות: ₪2,583.59
=============
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
fuel_cost = 1456.789
food_cost = 892.234
communication_cost = 234.567

total_cost = fuel_cost + food_cost + communication_cost

print("🧾 דוח הוצאות")
print("=" * 13)
print(f"⛽ דלק: ₪{fuel_cost:,.2f}")
print(f"🍽️  מזון: ₪{food_cost:,.2f}")
print(f"📡 תקשורת: ₪{communication_cost:,.2f}")
print(f"💵 סה\"כ הוצאות: ₪{total_cost:,.2f}")
print("=" * 13)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 2.3: אחוזי הצלחה</h4>
                <p><strong>המצב:</strong> דוחות ההצלחה של המשימות צריכים להיות מדויקים.</p>
                
                <pre class="code-block">
# נתוני הצלחה
successful_missions = 47
total_missions = 52
efficiency_rate = 0.8974

# הציגו אחוזים מעוצבים
                </pre>

                <pre class="expected-output">
📈 דוח הצלחה
============
✅ משימות מוצלחות: 47/52
📊 אחוז הצלחה: 90.4%
⚡ יעילות כללית: 89.7%
🎯 דירוג: מצוין
============
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
successful_missions = 47
total_missions = 52
efficiency_rate = 0.8974

success_percentage = (successful_missions / total_missions) * 100

print("📈 דוח הצלחה")
print("=" * 12)
print(f"✅ משימות מוצלחות: {successful_missions}/{total_missions}")
print(f"📊 אחוז הצלחה: {success_percentage:.1f}%")
print(f"⚡ יעילות כללית: {efficiency_rate:.1%}")
print("🎯 דירוג: מצוין")
print("=" * 12)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="interactive-element">
                <button class="test-button" onclick="testLevel2()">🧪 בדוק את הפתרונות</button>
                <div id="level2Result"></div>
            </div>
        </div>

        <!-- Level 3: Dates and Times -->
        <div class="level level-3" id="level3">
            <h3><span class="difficulty-stars">⭐⭐⭐</span>🟠 רמה 3: מערכת הזמן</h3>
            
            <div class="mission-brief">
                <h4>📋 תדריך המשימה</h4>
                <p>מערכת ניהול הזמנים של המשימות מקולקלת! התאריכים והשעות מוצגים בפורמט לא ברור, והסוכנים מתבלבלים במועדי המשימות. עליכם לסדר את מערכת הזמן.</p>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 3.1: יומן משימות</h4>
                <p><strong>המצב:</strong> היומן צריך להציג תאריכים וזמנים בפורמט ישראלי.</p>
                
                <pre class="code-block">
from datetime import datetime

# יצירת תאריך ושעת משימה
mission_date = datetime(2025, 9, 16, 14, 30)
current_time = datetime.now()

# הציגו את פרטי המשימה בפורמט יפה
                </pre>

                <pre class="expected-output">
📅 יומן משימות
==============
🎯 משימה מתוכננת: יום שלישי, 16/09/2025 בשעה 14:30
⏰ זמן נוכחי: 16/09/2025, 15:45
⏳ זמן עד המשימה: מתחילה עכשיו
==============
                </pre>

                <div class="hint">
                    השתמשו ב-%d/%m/%Y %H:%M לפורמט תאריך ושעה
                </div>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
from datetime import datetime

mission_date = datetime(2025, 9, 16, 14, 30)
current_time = datetime.now()

# מילון ימי השבוע בעברית
hebrew_days = {
    0: "שני", 1: "שלישי", 2: "רביעי", 3: "חמישי",
    4: "שישי", 5: "שבת", 6: "ראשון"
}

day_name = hebrew_days[mission_date.weekday()]

print("📅 יומן משימות")
print("=" * 14)
print(f"🎯 משימה מתוכננת: יום {day_name}, {mission_date:%d/%m/%Y} בשעה {mission_date:%H:%M}")
print(f"⏰ זמן נוכחי: {current_time:%d/%m/%Y, %H:%M}")

# חישוב זמן עד המשימה (פשוט)
if mission_date > current_time:
    print("⏳ זמן עד המשימה: בקרוב")
else:
    print("⏳ זמן עד המשימה: מתחילה עכשיו")
print("=" * 14)
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 3.2: לוח זמנים שבועי</h4>
                <p><strong>המצב:</strong> הסוכנים צריכים לראות את כל המשימות השבוע.</p>
                
                <pre class="code-block">
# משימות השבוע
weekly_missions = [
    {"day": "ראשון", "time": "09:00", "mission": "סריקת מודיעין"},
    {"day": "שני", "time": "14:30", "mission": "פגישה סודית"},
    {"day": "רביעי", "time": "20:00", "mission": "מבצע לילי"},
    {"day": "שישי", "time": "16:15", "mission": "דוח סיכום"}
]

# יצרו לוח זמנים מעוצב
                </pre>

                <pre class="expected-output">
📋 לוח זמנים שבועי
==================
יום ראשון   | 09:00 | סריקת מודיעין
יום שני     | 14:30 | פגישה סודית  
יום רביעי   | 20:00 | מבצע לילי    
יום שישי    | 16:15 | דוח סיכום    
==================
סה"כ משימות: 4
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
weekly_missions = [
    {"day": "ראשון", "time": "09:00", "mission": "סריקת מודיעין"},
    {"day": "שני", "time": "14:30", "mission": "פגישה סודית"},
    {"day": "רביעי", "time": "20:00", "mission": "מבצע לילי"},
    {"day": "שישי", "time": "16:15", "mission": "דוח סיכום"}
]

print("📋 לוח זמנים שבועי")
print("=" * 18)

for mission in weekly_missions:
    print(f"יום {mission['day']:<6} | {mission['time']} | {mission['mission']:<15}")

print("=" * 18)
print(f"סה\"כ משימות: {len(weekly_missions)}")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 3.3: יומן פעילות</h4>
                <p><strong>המצב:</strong> כל פעולה צריכה להירשם ביומן עם חותמת זמן.</p>
                
                <pre class="code-block">
from datetime import datetime

# רישום פעילות
activities = [
    {"action": "כניסה למערכת", "time": datetime(2025, 9, 16, 8, 15)},
    {"action": "קריאת הודעות", "time": datetime(2025, 9, 16, 8, 22)},
    {"action": "עדכון סטטוס", "time": datetime(2025, 9, 16, 9, 45)},
    {"action": "יציאה מהמערכת", "time": datetime(2025, 9, 16, 17, 30)}
]

# יצרו יומן פעילות מפורט
                </pre>

                <pre class="expected-output">
📖 יומן פעילות - 16/09/2025
============================
[08:15] כניסה למערכת
[08:22] קריאת הודעות  
[09:45] עדכון סטטוס    
[17:30] יציאה מהמערכת  
============================
משך פעילות: 9 שעות 15 דקות
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
from datetime import datetime

activities = [
    {"action": "כניסה למערכת", "time": datetime(2025, 9, 16, 8, 15)},
    {"action": "קריאת הודעות", "time": datetime(2025, 9, 16, 8, 22)},
    {"action": "עדכון סטטוס", "time": datetime(2025, 9, 16, 9, 45)},
    {"action": "יציאה מהמערכת", "time": datetime(2025, 9, 16, 17, 30)}
]

# הדפסת היומן
first_activity = activities[0]["time"]
print(f"📖 יומן פעילות - {first_activity:%d/%m/%Y}")
print("=" * 28)

for activity in activities:
    print(f"[{activity['time']:%H:%M}] {activity['action']:<15}")

print("=" * 28)

# חישוב משך הפעילות
start_time = activities[0]["time"]
end_time = activities[-1]["time"]
duration = end_time - start_time
hours = duration.seconds // 3600
minutes = (duration.seconds % 3600) // 60

print(f"משך פעילות: {hours} שעות {minutes} דקות")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="interactive-element">
                <button class="test-button" onclick="testLevel3()">🧪 בדוק את הפתרונות</button>
                <div id="level3Result"></div>
            </div>
        </div>

        <!-- Level 4: Lists and Tables -->
        <div class="level level-4" id="level4">
            <h3><span class="difficulty-stars">⭐⭐⭐⭐</span>🔴 רמה 4: בסיס הנתונים</h3>
            
            <div class="mission-brief">
                <h4>📋 תדריך המשימה</h4>
                <p>בסיס הנתונים של הסוכנים והמשימות פגום! הטבלאות לא מוצגות כראוי והמידע מבולגן. עליכם ליצור מערכת הצגה מאורגנת לכל המידע.</p>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 4.1: רשימת סוכנים פעילים</h4>
                <p><strong>המצב:</strong> רשימת הסוכנים צריכה להיות מאורגנת בטבלה ברורה.</p>
                
                <pre class="code-block">
# נתוני סוכנים
agents = [
    {"name": "מאיה לוי", "code": "007", "missions": 23, "success_rate": 0.91},
    {"name": "דן כהן", "code": "009", "missions": 18, "success_rate": 0.88},
    {"name": "שרה גל", "code": "012", "missions": 31, "success_rate": 0.94},
    {"name": "יוסי ברק", "code": "015", "missions": 12, "success_rate": 0.83}
]

# יצרו טבלת סוכנים מפורטת
                </pre>

                <pre class="expected-output">
🕵️ טבלת סוכנים פעילים
==================================
קוד  | שם        | משימות | הצלחה  
-----|-----------|--------|--------
007  | מאיה לוי   |     23 | 91.0%  
009  | דן כהן    |     18 | 88.0%  
012  | שרה גל    |     31 | 94.0%  
015  | יוסי ברק  |     12 | 83.0%  
==================================
סה"כ סוכנים: 4 | משימות: 84
                </pre>

                <div class="hint">
                    השתמשו ב-< > ^ לייישור טקסט (שמאל, ימין, מרכז)
                </div>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
agents = [
    {"name": "מאיה לוי", "code": "007", "missions": 23, "success_rate": 0.91},
    {"name": "דן כהן", "code": "009", "missions": 18, "success_rate": 0.88},
    {"name": "שרה גל", "code": "012", "missions": 31, "success_rate": 0.94},
    {"name": "יוסי ברק", "code": "015", "missions": 12, "success_rate": 0.83}
]

print("🕵️ טבלת סוכנים פעילים")
print("=" * 34)
print("קוד  | שם        | משימות | הצלחה  ")
print("-----|-----------|--------|--------")

total_missions = 0
for agent in agents:
    total_missions += agent["missions"]
    print(f"{agent['code']} | {agent['name']:<9} | {agent['missions']:>6} | {agent['success_rate']:.1%}  ")

print("=" * 34)
print(f"סה\"כ סוכנים: {len(agents)} | משימות: {total_missions}")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 4.2: דוח ציוד ואמצעים</h4>
                <p><strong>המצב:</strong> מחסן הציוד צריך דוח מלאי מעודכן.</p>
                
                <pre class="code-block">
# מלאי ציוד
equipment = [
    {"item": "משקפי ראיית לילה", "quantity": 15, "price": 2500.50},
    {"item": "מכשיר קשר מוצפן", "quantity": 8, "price": 890.75},
    {"item": "מעקב GPS", "quantity": 22, "price": 340.25},
    {"item": "מצלמת ריגול", "quantity": 5, "price": 1250.00}
]

# יצרו דוח מלאי מפורט עם חישוב ערך כולל
                </pre>

                <pre class="expected-output">
📦 דוח מלאי ציוד
================================
פריט                  | כמות | מחיר יחידה | ערך כולל    
----------------------|------|------------|-------------
משקפי ראיית לילה     |   15 | ₪2,500.50  | ₪37,507.50  
מכשיר קשר מוצפן      |    8 | ₪890.75    | ₪7,126.00   
מעקב GPS              |   22 | ₪340.25    | ₪7,485.50   
מצלמת ריגול          |    5 | ₪1,250.00  | ₪6,250.00   
================================
סה"כ ערך מלאי: ₪58,369.00
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
equipment = [
    {"item": "משקפי ראיית לילה", "quantity": 15, "price": 2500.50},
    {"item": "מכשיר קשר מוצפן", "quantity": 8, "price": 890.75},
    {"item": "מעקב GPS", "quantity": 22, "price": 340.25},
    {"item": "מצלמת ריגול", "quantity": 5, "price": 1250.00}
]

print("📦 דוח מלאי ציוד")
print("=" * 32)
print("פריט                  | כמות | מחיר יחידה | ערך כולל    ")
print("----------------------|------|------------|-------------")

total_value = 0
for item in equipment:
    item_value = item["quantity"] * item["price"]
    total_value += item_value
    
    print(f"{item['item']:<20} | {item['quantity']:>4} | ₪{item['price']:>8,.2f} | ₪{item_value:>9,.2f}  ")

print("=" * 32)
print(f"סה\"כ ערך מלאי: ₪{total_value:,.2f}")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="exercise">
                <h4>🎯 תרגיל 4.3: דירוג ביצועים</h4>
                <p><strong>המצב:</strong> ההנהלה צריכה לראות דירוג ביצועים של כל הסוכנים.</p>
                
                <pre class="code-block">
# נתוני ביצועים
performance_data = [
    {"name": "שרה גל", "score": 94.5},
    {"name": "מאיה לוי", "score": 91.2},
    {"name": "דן כהן", "score": 88.7},
    {"name": "יוסי ברק", "score": 83.4},
    {"name": "רונית זר", "score": 79.8}
]

# יצרו דוח דירוג עם מדליות ורמות
                </pre>

                <pre class="expected-output">
🏆 דירוג ביצועים - חודש ספטמבר
==================================
מקום | שם         | ציון  | רמה      
-----|------------|-------|----------
🥇 1 | שרה גל     | 94.5  | מעולה    
🥈 2 | מאיה לוי   | 91.2  | מעולה    
🥉 3 | דן כהן     | 88.7  | טוב מאוד 
  4  | יוסי ברק   | 83.4  | טוב      
  5  | רונית זר   | 79.8  | בסיסי    
==================================
ממוצע כללי: 87.5
                </pre>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון</summary>
                        <pre class="code-block" style="margin-top: 10px;">
performance_data = [
    {"name": "שרה גל", "score": 94.5},
    {"name": "מאיה לוי", "score": 91.2},
    {"name": "דן כהן", "score": 88.7},
    {"name": "יוסי ברק", "score": 83.4},
    {"name": "רונית זר", "score": 79.8}
]

print("🏆 דירוג ביצועים - חודש ספטמבר")
print("=" * 34)
print("מקום | שם         | ציון  | רמה      ")
print("-----|------------|-------|----------")

medals = ["🥇", "🥈", "🥉"]
total_score = 0

for i, agent in enumerate(performance_data):
    total_score += agent["score"]
    
    # קביעת רמה לפי ציון
    if agent["score"] >= 90:
        level = "מעולה"
    elif agent["score"] >= 85:
        level = "טוב מאוד"
    elif agent["score"] >= 80:
        level = "טוב"
    else:
        level = "בסיסי"
    
    # מדליה לשלושה הראשונים
    place_str = f"{medals[i]} {i+1}" if i < 3 else f"  {i+1}"
    
    print(f"{place_str:<4} | {agent['name']:<10} | {agent['score']:<5} | {level:<8} ")

print("=" * 34)
average = total_score / len(performance_data)
print(f"ממוצע כללי: {average:.1f}")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="interactive-element">
                <button class="test-button" onclick="testLevel4()">🧪 בדוק את הפתרונות</button>
                <div id="level4Result"></div>
            </div>
        </div>

        <!-- Level 5: Advanced Challenges -->
        <div class="level level-5" id="level5">
            <h3><span class="difficulty-stars">⭐⭐⭐⭐⭐</span>⚫ רמה 5: המבצע הגדול</h3>
            
            <div class="mission-brief">
                <h4>📋 תדריך המשימה הסופי</h4>
                <p>זהו זה! המבצע הגדול להצלת העולם מתחיל! עליכם ליצור מערכת מלאה לניהול המבצע - עם כל מה שלמדתם עד כה. רק אם תצליחו, תקבלו את הקוד הסודי להצלת העולם!</p>
            </div>

            <div class="exercise">
                <h4>🎯 משימה סופית: מערכת פיקוד ושליטה</h4>
                <p><strong>המצב:</strong> עליכם ליצור מערכת מלאה שמציגה את כל המידע החיוני למבצע.</p>
                
                <pre class="code-block">
from datetime import datetime

# נתוני המבצע הגדול
operation_data = {
    "name": "מבצע עין הנץ",
    "classification": "סודי ביותר",
    "start_time": datetime(2025, 9, 16, 22, 0),
    "estimated_duration": 180,  # דקות
    "budget": 15750000,
    "teams": [
        {"name": "אלפא", "members": 8, "speciality": "חדירה", "success_rate": 0.95},
        {"name": "בטא", "members": 6, "speciality": "תקשורת", "success_rate": 0.89},
        {"name": "גמא", "members": 12, "speciality": "לוחמה", "success_rate": 0.92},
        {"name": "דלתא", "members": 4, "speciality": "מעקב", "success_rate": 0.97}
    ],
    "equipment": [
        {"item": "כלי רכב מיוחדים", "quantity": 15, "cost": 250000},
        {"item": "מכ\"ם נייד", "quantity": 3, "cost": 1500000},
        {"item": "ציוד תקשורת", "quantity": 50, "cost": 75000}
    ],
    "risk_level": "גבוה",
    "success_probability": 0.87
}

# יצרו דוח מבצע מקיף שכולל:
# 1. כותרת המבצע עם פרטים בסיסיים
# 2. פירוט צוותים ויכולות
# 3. תקציב וציוד מפורט
# 4. הערכת סיכונים והצלחה
# 5. סיכום והחלטה
                </pre>

                <pre class="expected-output">
🚁 דוח מבצע: מבצע עין הנץ 🚁
=====================================
📊 פרטים בסיסיים
=====================================
🔐 רמת סיווג: סודי ביותר
⏰ תחילה: 16/09/2025 בשעה 22:00
⏱️  משך משוער: 3.0 שעות
💰 תקציב כולל: ₪15,750,000
⚠️  רמת סיכון: גבוה
📈 הסתברות הצלחה: 87.0%

🎯 פירוט צוותים
=====================================
צוות  | חברים | התמחות    | הצלחה  
------|--------|-----------|--------
אלפא  |      8 | חדירה     | 95.0%  
בטא   |      6 | תקשורת    | 89.0%  
גמא   |     12 | לוחמה     | 92.0%  
דלתא  |      4 | מעקב      | 97.0%  
------|--------|-----------|--------
סה"כ: 30 לוחמים | ממוצע: 93.2%

📦 ציוד ומשאבים
=====================================
פריט                  | כמות | עלות יחידה | סה"כ       
----------------------|------|------------|------------
כלי רכב מיוחדים      |   15 | ₪250,000   | ₪3,750,000 
מכ"ם נייד            |    3 | ₪1,500,000 | ₪4,500,000 
ציוד תקשורת          |   50 | ₪75,000    | ₪3,750,000 
=====================================
סה"כ ציוד: ₪12,000,000
יתרת תקציב: ₪3,750,000

⚡ הערכת מצב
=====================================
✅ נקודות חוזק:
   • צוותים מנוסים עם אחוז הצלחה גבוה
   • ציוד מתקדם ומתאים למשימה
   • תקציב מספיק עם מרווח בטחון

⚠️  סיכונים:
   • רמת סיכון גבוהה
   • מבצע לילי מורכב
   • תלות בתנאי מזג אוויר

🎯 החלטה: המבצע מאושר!
=====================================
פקד בסיס, המבצע זוכה לאישור עליון.
כל הצוותים מוכנים ומצופה להצלחה.

🌟 בהצלחה לוחמים! 🌟
                </pre>

                <div class="hint">
                    זה האתגר הגדול! השתמשו בכל הטכניקות שלמדתם: f-strings, פרמוט מספרים, טבלאות, חישובים ועיצוב יפה
                </div>

                <div class="solution">
                    <details>
                        <summary>🔓 פתרון המשימה הסופית</summary>
                        <pre class="code-block" style="margin-top: 10px;">
from datetime import datetime

operation_data = {
    "name": "מבצע עין הנץ",
    "classification": "סודי ביותר",
    "start_time": datetime(2025, 9, 16, 22, 0),
    "estimated_duration": 180,
    "budget": 15750000,
    "teams": [
        {"name": "אלפא", "members": 8, "speciality": "חדירה", "success_rate": 0.95},
        {"name": "בטא", "members": 6, "speciality": "תקשורת", "success_rate": 0.89},
        {"name": "גמא", "members": 12, "speciality": "לוחמה", "success_rate": 0.92},
        {"name": "דלתא", "members": 4, "speciality": "מעקב", "success_rate": 0.97}
    ],
    "equipment": [
        {"item": "כלי רכב מיוחדים", "quantity": 15, "cost": 250000},
        {"item": "מכ\"ם נייד", "quantity": 3, "cost": 1500000},
        {"item": "ציוד תקשורת", "quantity": 50, "cost": 75000}
    ],
    "risk_level": "גבוה",
    "success_probability": 0.87
}

# כותרת המבצע
print(f"🚁 דוח מבצע: {operation_data['name']} 🚁")
print("=" * 37)

# פרטים בסיסיים
print("📊 פרטים בסיסיים")
print("=" * 37)
duration_hours = operation_data['estimated_duration'] / 60
print(f"🔐 רמת סיווג: {operation_data['classification']}")
print(f"⏰ תחילה: {operation_data['start_time']:%d/%m/%Y} בשעה {operation_data['start_time']:%H:%M}")
print(f"⏱️  משך משוער: {duration_hours:.1f} שעות")
print(f"💰 תקציב כולל: ₪{operation_data['budget']:,}")
print(f"⚠️  רמת סיכון: {operation_data['risk_level']}")
print(f"📈 הסתברות הצלחה: {operation_data['success_probability']:.1%}")

print()

# פירוט צוותים
print("🎯 פירוט צוותים")
print("=" * 37)
print("צוות  | חברים | התמחות    | הצלחה  ")
print("------|--------|-----------|--------")

total_members = 0
total_success = 0

for team in operation_data['teams']:
    total_members += team['members']
    total_success += team['success_rate']
    print(f"{team['name']:<5} | {team['members']:>6} | {team['speciality']:<9} | {team['success_rate']:.1%}  ")

average_success = total_success / len(operation_data['teams'])
print("------|--------|-----------|--------")
print(f"סה\"כ: {total_members} לוחמים | ממוצע: {average_success:.1%}")

print()

# ציוד ומשאבים
print("📦 ציוד ומשאבים")
print("=" * 37)
print("פריט                  | כמות | עלות יחידה | סה\"כ       ")
print("----------------------|------|------------|------------")

total_equipment_cost = 0
for item in operation_data['equipment']:
    item_total = item['quantity'] * item['cost']
    total_equipment_cost += item_total
    print(f"{item['item']:<20} | {item['quantity']:>4} | ₪{item['cost']:>9,} | ₪{item_total:>9,} ")

remaining_budget = operation_data['budget'] - total_equipment_cost
print("=" * 37)
print(f"סה\"כ ציוד: ₪{total_equipment_cost:,}")
print(f"יתרת תקציב: ₪{remaining_budget:,}")

print()

# הערכת מצב
print("⚡ הערכת מצב")
print("=" * 37)
print("✅ נקודות חוזק:")
print("   • צוותים מנוסים עם אחוז הצלחה גבוה")
print("   • ציוד מתקדם ומתאים למשימה")
print("   • תקציב מספיק עם מרווח בטחון")
print()
print("⚠️  סיכונים:")
print("   • רמת סיכון גבוהה")
print("   • מבצע לילי מורכב")
print("   • תלות בתנאי מזג אוויר")

print()

# החלטה
print("🎯 החלטה: המבצע מאושר!")
print("=" * 37)
print("פקד בסיס, המבצע זוכה לאישור עליון.")
print("כל הצוותים מוכנים ומצופה להצלחה.")
print()
print("🌟 בהצלחה לוחמים! 🌟")
                        </pre>
                    </details>
                </div>
            </div>

            <div class="interactive-element">
                <button class="test-button" onclick="testLevel5()">🚀 השלם את המשימה הסופית!</button>
                <div id="level5Result"></div>
            </div>
        </div>

        <!-- Final Victory -->
        <div class="achievement" id="finalVictory">
            <h2>🎉 מזל טוב! משימת הסייבר הושלמה! 🎉</h2>
            <h3>🔐 הקוד הסודי שלכם: PYTHON_MASTER_2025</h3>
            <p>עברתם את כל הרמות בהצלחה! אתם עכשיו מומחים בפרמוט מחרוזות!</p>
            <div class="badge">🏆 מומחה פיתון</div>
            <div class="badge">🎯 פורמט מאסטר</div>
            <div class="badge">💻 סייבר היירו</div>
        </div>

        <!-- Summary and Learning Points -->
        <div class="story-box" style="margin-top: 30px;">
            <h2>📚 מה למדנו במשימה?</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                <div class="exercise">
                    <h4>🎯 f-strings</h4>
                    <p>הדרך המודרנית והקלה ביותר לפרמוט מחרוזות ב-Python</p>
                </div>
                <div class="exercise">
                    <h4>🔢 מספרים</h4>
                    <p>עיצוב מספרים עם פסיקים, דיוק עשרוני ואחוזים</p>
                </div>
                <div class="exercise">
                    <h4>⏰ תאריכים</h4>
                    <p>הצגת זמנים ותאריכים בפורמטים שונים</p>
                </div>
                <div class="exercise">
                    <h4>📊 טבלאות</h4>
                    <p>יצירת טבלאות מאורגנות וקלות לקריאה</p>
                </div>
            </div>
            
            <h3>💡 עצות לעתיד:</h3>
            <ul>
                <li><strong>תרגלו באופן קבוע</strong> - כל פרויקט הוא הזדמנות להשתפר</li>
                <li><strong>קראו קוד של אחרים</strong> - למדו מסגנונות שונים</li>
                <li><strong>השתמשו בכלים</strong> - עורכים עם סיוע פיתוח</li>
                <li><strong>זכרו את המטרה</strong> - קוד צריך להיות ברור לבני אדם</li>
            </ul>

            <div class="character-box" style="margin-top: 20px;">
                <div class="character-avatar">🎓</div>
                <h3>פרופ' קודיק אומר:</h3>
                <p>"כל הכבוד! הוכחתם שאתם מסוגלים ליצור קוד מקצועי וברור. המשיכו להתאמן ותהפכו למפתחים מעולים!"</p>
            </div>
        </div>

        <!-- Easter Egg -->
        <div class="easter-egg" id="easterEgg" onclick="showSecretMessage()">
            🥚 לחצו כאן לפתעה!
        </div>

        <!-- Progress Summary -->
        <div class="progress-tracker" style="margin-top: 30px;">
            <h3>📊 סיכום הישגים</h3>
            <div id="finalStats">
                <!-- יוכלס ב-JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Progress tracking
        let completedExercises = 0;
        const totalExercises = 25;
        let achievements = [];

        // Update progress bar
        function updateProgress() {
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const percentage = (completedExercises / totalExercises) * 100;
            
            progressBar.style.width = percentage + '%';
            progressText.textContent = `${completedExercises} מתוך ${totalExercises} תרגילים הושלמו`;

            // Check for achievements
            checkAchievements();
        }

        // Check and unlock achievements
        function checkAchievements() {
            const achievementsDiv = document.getElementById('achievements');
            
            if (completedExercises >= 5 && !achievements.includes('firstLevel')) {
                achievements.push('firstLevel');
                showAchievement('🌟 רמה ראשונה!', 'השלמתם את הרמה הבסיסית');
            }
            
            if (completedExercises >= 10 && !achievements.includes('halfWay')) {
                achievements.push('halfWay');
                showAchievement('🔥 חצי דרך!', 'אתם במחצית הדרך להצלת העולם');
            }
            
            if (completedExercises >= 20 && !achievements.includes('expert')) {
                achievements.push('expert');
                showAchievement('🎓 מומחה!', 'הפכתם למומחי פרמוט מחרוזות');
            }
            
            if (completedExercises === totalExercises) {
                showFinalVictory();
            }
        }

        // Show achievement popup
        function showAchievement(title, description) {
            const achievementDiv = document.createElement('div');
            achievementDiv.className = 'achievement unlocked';
            achievementDiv.innerHTML = `<strong>${title}</strong><br>${description}`;
            document.getElementById('achievements').appendChild(achievementDiv);
        }

        // Show final victory
        function showFinalVictory() {
            document.getElementById('finalVictory').classList.add('unlocked');
            showFinalStats();
            
            // Show easter egg
            setTimeout(() => {
                document.getElementById('easterEgg').style.display = 'block';
            }, 2000);
        }

        // Level testing functions
        function testLevel1() {
            const result = document.getElementById('level1Result');
            completedExercises += 3;
            updateProgress();
            
            result.innerHTML = `
                <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-top: 10px;">
                    <strong>✅ מצוין! רמה 1 הושלמה</strong><br>
                    השגתם: כרטיס סוכן מעוצב ✓ דוח משימות ✓ התראת אבטחה ✓<br>
                    <div class="badge">+50 נק' ניסיון</div>
                </div>
            `;
        }

        function testLevel2() {
            const result = document.getElementById('level2Result');
            completedExercises += 3;
            updateProgress();
            
            result.innerHTML = `
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 10px;">
                    <strong>✅ מעולה! רמה 2 הושלמה</strong><br>
                    תיקנתם: תקציבים ✓ הוצאות מדויקות ✓ אחוזי הצלחה ✓<br>
                    <div class="badge">+75 נק' ניסיון</div>
                </div>
            `;
        }

        function testLevel3() {
            const result = document.getElementById('level3Result');
            completedExercises += 3;
            updateProgress();
            
            result.innerHTML = `
                <div style="background: #f8d7da; padding: 15px; border-radius: 8px; margin-top: 10px;">
                    <strong>✅ נפלא! רמה 3 הושלמה</strong><br>
                    סידרתם: יומן משימות ✓ לוח זמנים ✓ יומן פעילות ✓<br>
                    <div class="badge">+100 נק' ניסיון</div>
                </div>
            `;
        }

        function testLevel4() {
            const result = document.getElementById('level4Result');
            completedExercises += 3;
            updateProgress();
            
            result.innerHTML = `
                <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-top: 10px;">
                    <strong>✅ פנטסטי! רמה 4 הושלמה</strong><br>
                    יצרתם: טבלת סוכנים ✓ דוח מלאי ✓ דירוג ביצועים ✓<br>
                    <div class="badge">+150 נק' ניסיון</div>
                </div>
            `;
        }

        function testLevel5() {
            const result = document.getElementById('level5Result');
            completedExercises += 13; // Final mission is worth more
            updateProgress();
            
            result.innerHTML = `
                <div style="background: linear-gradient(135deg, #ffd700, #ffb347); padding: 20px; border-radius: 10px; margin-top: 10px; text-align: center;">
                    <h3>🚀 המשימה הסופית הושלמה! 🚀</h3>
                    <p><strong>מערכת פיקוד ושליטה פועלת בהצלחה!</strong></p>
                    <p>העולם ניצל בזכותכם! 🌍</p>
                    <div class="badge">+500 נק' ניסיון</div>
                    <div class="badge">🏆 גיבור עולמי</div>
                </div>
            `;
            
            // Scroll to final victory
            setTimeout(() => {
                document.getElementById('finalVictory').scrollIntoView({ behavior: 'smooth' });
            }, 1000);
        }

        // Show final statistics
        function showFinalStats() {
            document.getElementById('finalStats').innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="exercise">
                        <h4>📊 סטטיסטיקות</h4>
                        <p>תרגילים: ${totalExercises}/${totalExercises}</p>
                        <p>הישגים: ${achievements.length}</p>
                        <p>ניקוד: 875 נקודות</p>
                    </div>
                    <div class="exercise">
                        <h4>🎯 כישורים נרכשו</h4>
                        <p>✅ f-strings מומחיות</p>
                        <p>✅ פרמוט מספרים</p>
                        <p>✅ טבלאות מעוצבות</p>
                        <p>✅ ניהול תאריכים</p>
                    </div>
                    <div class="exercise">
                        <h4>🏆 תארים</h4>
                        <p>🥇 פיתון מאסטר</p>
                        <p>🎨 פורמט אמן</p>
                        <p>🛡️ סייבר גיבור</p>
                    </div>
                </div>
            `;
        }

        // Easter egg function
        function showSecretMessage() {
            alert(`🎉 הודעה סודית מפרופ' קודיק 🎉\n\n"אתם לא רק למדתם פרמוט מחרוזות - אתם למדתם לחשוב כמו מתכנתים אמיתיים!\n\nהסוד האמיתי: תמיד תכתבו קוד כאילו האדם שיקרא אותו הוא פסיכופת אלים שיודע איפה אתם גרים. 😄\n\nבהצלחה בהמשך המסע שלכם בעולם התכנות!"`);
            
            document.getElementById('easterEgg').style.display = 'none';
        }

        // Initialize progress
        updateProgress();

        // Add some interactive elements on page load
        window.addEventListener('load', function() {
            // Animate progress bar on load
            setTimeout(() => {
                document.querySelector('.progress-fill').style.transition = 'width 2s ease';
            }, 500);

            // Add typing effect to main title
            const title = document.querySelector('.header h1');
            const originalText = title.textContent;
            title.textContent = '';
            
            let i = 0;
            function typeWriter() {
                if (i < originalText.length) {
                    title.textContent += originalText.charAt(i);
                    i++;
                    setTimeout(typeWriter, 100);
                }
            }
            
            setTimeout(typeWriter, 1000);
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // Press 'T' to test current level
            if (event.key === 't' || event.key === 'T') {
                const visibleLevel = document.querySelector('.level:hover');
                if (visibleLevel) {
                    const levelNum = visibleLevel.id.replace('level', '');
                    if (levelNum && window[`testLevel${levelNum}`]) {
                        window[`testLevel${levelNum}`]();
                    }
                }
            }
            
            // Press 'R' to reset progress (for testing)
            if (event.key === 'r' && event.ctrlKey) {
                completedExercises = 0;
                achievements = [];
                updateProgress();
                document.querySelectorAll('[id$="Result"]').forEach(el => el.innerHTML = '');
                document.getElementById('finalVictory').classList.remove('unlocked');
                document.getElementById('easterEgg').style.display = 'none';
            }
        });

        // Add smooth scrolling for better UX
        document.querySelectorAll('.test-button').forEach(button => {
            button.addEventListener('click', function() {
                setTimeout(() => {
                    this.nextElementSibling.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }, 500);
            });
        });

        // Add print functionality
        function printWorksheet() {
            window.print();
        }

        // Add save progress to localStorage (if available)
        function saveProgress() {
            try {
                localStorage.setItem('cyber_mission_progress', JSON.stringify({
                    completedExercises: completedExercises,
                    achievements: achievements
                }));
            } catch (e) {
                console.log('לא ניתן לשמור התקדמות');
            }
        }

        function loadProgress() {
            try {
                const saved = localStorage.getItem('cyber_mission_progress');
                if (saved) {
                    const data = JSON.parse(saved);
                    completedExercises = data.completedExercises || 0;
                    achievements = data.achievements || [];
                    updateProgress();
                }
            } catch (e) {
                console.log('לא ניתן לטעון התקדמות');
            }
        }

        // Load progress on page load
        loadProgress();

        // Save progress when exercises are completed
        function saveProgressWrapper(originalFunction) {
            return function() {
                originalFunction.apply(this, arguments);
                saveProgress();
            };
        }

        // Wrap test functions with progress saving
        testLevel1 = saveProgressWrapper(testLevel1);
        testLevel2 = saveProgressWrapper(testLevel2);
        testLevel3 = saveProgressWrapper(testLevel3);
        testLevel4 = saveProgressWrapper(testLevel4);
        testLevel5 = saveProgressWrapper(testLevel5);
    </script>
</body>
</html>
                