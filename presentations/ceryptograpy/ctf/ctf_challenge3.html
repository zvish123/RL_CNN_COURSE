<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” ××ª×’×¨ CTF - ×¦×•×¤×Ÿ ×”×”×—×œ×¤×” ×”×¡×•×“×™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.05) 10px,
                rgba(255,255,255,0.05) 20px
            );
            animation: slide 20s linear infinite;
        }

        @keyframes slide {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .mission-briefing {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .mission-briefing h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .story {
            background: #f8f9fa;
            padding: 25px;
            border-right: 5px solid #667eea;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.8;
            font-size: 1.1em;
        }

        .cipher-box {
            background: #1a1a2e;
            color: #00ff00;
            padding: 30px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1em;
            line-height: 1.8;
            margin: 20px 0;
            box-shadow: inset 0 0 20px rgba(0,255,0,0.2);
            border: 2px solid #00ff00;
            white-space: pre-wrap;
            word-wrap: break-word;
            direction: ltr;
            text-align: left;
        }

        .hints-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .hints-section h2 {
            color: #f59e0b;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .hint {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-right: 5px solid #f59e0b;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .hint-number {
            background: #f59e0b;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
        }

        .answer-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .answer-section h2 {
            color: #10b981;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        #flagInput {
            flex: 1;
            min-width: 250px;
            padding: 18px;
            font-size: 1.2em;
            border: 3px solid #ddd;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
        }

        #flagInput:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .btn {
            padding: 18px 35px;
            font-size: 1.2em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-submit {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16,185,129,0.4);
        }

        .btn-hint {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .btn-hint:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245,158,11,0.4);
        }

        .feedback {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .feedback.success {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
            border: 3px solid #10b981;
        }

        .feedback.error {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #991b1b;
            border: 3px solid #ef4444;
        }

        .guide-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            display: none;
        }

        .guide-section h2 {
            color: #6366f1;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .step {
            background: #f0f9ff;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-right: 5px solid #6366f1;
        }

        .step h3 {
            color: #6366f1;
            font-size: 1.5em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-number {
            background: #6366f1;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1em;
            font-weight: bold;
        }

        .step ul {
            margin-right: 20px;
            line-height: 2;
        }

        .step li {
            margin: 10px 0;
            font-size: 1.05em;
        }

        /* Fireworks */
        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            display: none;
        }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--x), var(--y)) scale(0);
            }
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .input-group {
                flex-direction: column;
            }

            #flagInput {
                width: 100%;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ” ××ª×’×¨ CTF - ××‘×¦×¢ "×¦×•×¤×Ÿ ×”×”×—×œ×¤×”"</h1>
            <p class="subtitle">×¤×¢× ×— ××ª ×”××¡×¨ ×”×¡×•×“×™ ×©×œ ×”×¤×¨×˜×™×–× ×™× ×•××¦× ××ª ×”×“×’×œ!</p>
        </div>

        <!-- Mission Briefing -->
        <div class="mission-briefing">
            <h2>ğŸ“‹ ×ª×“×¨×™×š ×”××©×™××”</h2>
            <div class="story">
                <strong>×”××¦×‘:</strong><br>
                ×‘××”×œ×š ××œ×—××ª ×”×¢×•×œ× ×”×©× ×™×™×”, ×§×‘×•×¦×ª ×¤×¨×˜×™×–× ×™× ×”×©×ª××©×” ×‘×¦×•×¤×Ÿ ×”×—×œ×¤×” ××ª×•×—×›× ×œ×”×¢×‘×¨×ª ××¡×¨×™× ×¡×•×“×™×™×.<br>
                ×”×¡×˜×•×¨×™×•×Ÿ ×¦×‘××™ ××¦× ×”×•×“×¢×” ××•×¦×¤× ×ª ×¢× ×›××” ×¨××–×™× ×©×”×¤×¨×˜×™×–× ×™× ×”×©××™×¨×•.<br><br>

                <strong>×”××©×™××” ×©×œ×š:</strong><br>
                ×”××¡×¨ ××›×™×œ ××ª ×“×’×œ ×¡×•×“×™ ×©×œ×™×“×• ×™×© ×ª×•×›× ×™×•×ª ×¦×‘××™×•×ª ×—×©×•×‘×•×ª!<br>
                ×¢×œ×™×š ×œ×”×©×ª××© ×‘×›×œ×™× ×©×œ××“×ª×, ×—×©×™×‘×” ×œ×•×’×™×ª ×•×”×¨××–×™× ×©×§×‘×œ×ª× ×›×“×™ ×œ×¤×¢× ×— ××ª ×”××¡×¨ ×•×œ××¦×•× ××ª ×”×“×’×œ.
            </div>

            <h3 style="color: #dc2626; margin-top: 30px; font-size: 1.5em;">ğŸ“œ ×”×”×•×“×¢×” ×”××•×¦×¤× ×ª:</h3>
            <pre class="cipher-box">ZLQ KQXWQZ VGKKGRO RJ ZLQ XWIMZRBWYMLI GK LGCCQO GO ZLQ RNC NGPWYWI PUGNCGOB OQYW ZLQ ZWYGO KZYZGRO PQLGOC ZLQ PYOS GO ZLQ ORWZLQWO KQXZGRO RJ ZLQ LGNNK ZLQ QOQVI JRWXQK LYTQ PUGNZ Y OQZARWS RJ ZUOOQNK UOCQWBWRUOC GO ZLQ XRYKZYN YWQYK ZR ZWYOKMRWZ AQYMROK YOC KUMMNGQK JRW ZLQGW VGNGZYWI RMQWYZGROK ZLQKQ ZUOOQNK YWQ BUYWCQC PI ZLQ PQKZ KRNCGQWK JWRV ZLQ WQBGVQOZ YOC ZLQI LYTQ KZWGXZ RWCQWK ZR CQJQOC ZLQV AGZL ZLQGW NGTQK GJ OQXQKKYWI ZLQ JGWKZ ZUOOQN GK NRXYZQC UOCQWBWRUOC YZ ZLQ RNC XLUWXL ALQWQ ZLQ MWYIQW PRRS GK LGCCQO PQLGOC ZLQ YNZYW ZLQ KQXROC ZUOOQN GK OQYW ZLQ WRXS XRTQK ALQWQ ZLQ AGZXL NQJZ LQW VYWS GO ZLQ JYXQ RJ ZLQ WGKGOB KUO ZLQ ZLGWC ZUOOQN GK UOCQWBWRUOC UOCQW ZLQ YQWGYN WGCBQ GO ZLQ LYWPRW ALQWQ ZLQ JGKLQWVQO KYGNZLQGW PRYZK YZ CYAO YOC ALQWQ ZLQ KQXWQZ VQQZGOB MNYXQ AYKKQZ UM JRW VRWQ ZLYO ZARLUOCWQC IQYWK ZLQ GVMRWZYOZ CRXUVQOZ GK GO ZLQ KQXROC ZUOOQN YOC ZLQ XWUXGYN XNUQK GK GO ZLQ RONI KYJQ MNYXQ GK UOCQW ZLQ KZROQKZQMK ZLQ JNYB GO ZLQ XYZLQCWYN</pre>
        </div>

        <!-- Hints Section -->
        <div class="hints-section">
            <h2>ğŸ” ×”×¨××–×™× ×©×‘×™×“×š</h2>

            <div class="hint">
                <div class="hint-number">1</div>
                <div>×”××™×œ×” "THE" ×”×™× ×”××™×œ×” ×”× ×¤×•×¦×” ×‘×™×•×ª×¨ ×‘×× ×’×œ×™×ª ×•××•×¤×™×¢×” ×”×›×™ ×”×¨×‘×” ×¤×¢××™× ×‘×˜×§×¡×˜</div>
            </div>

            <div class="hint">
                <div class="hint-number">2</div>
                <div>×”××™×œ×” "UNDERGROUND" (××ª×—×ª ×œ××“××”) ××•×¤×™×¢×” ××¡×¤×¨ ×¤×¢××™× ×‘×”×•×“×¢×”</div>
            </div>

            <div class="hint">
                <div class="hint-number">3</div>
                <div>×”××™×œ×” "SECRET" (×¡×•×“) ××•×¤×™×¢×” ×™×•×ª×¨ ××¤×¢× ××—×ª ×‘×˜×§×¡×˜</div>
            </div>

            <div class="hint">
                <div class="hint-number">4</div>
                <div>×”××™×œ×” "FLAG" ××•×¤×™×¢×” ×‘××©×¤×˜ ×”××—×¨×•×Ÿ ×©×œ ×”×”×•×“×¢×”</div>
            </div>

            <div class="hint">
                <div class="hint-number">5</div>
                <div><strong>×¤×•×¨××˜ ×”×“×’×œ:</strong> FLAG{XXXXXXXX} (×”××™×œ×” FLAG ×•××—×¨×™×” ××™×œ×™× × ×•×¡×¤×ª ×œ×œ× ×¨×•×•×—)</div>
            </div>
        </div>

        <!-- Answer Section -->
        <div class="answer-section">
            <h2>ğŸ¯ ×”×–×Ÿ ××ª ×”×“×’×œ ×©××¦××ª</h2>
            <div class="input-group">
                <input type="text" id="flagInput" placeholder="×”×–×Ÿ ××ª ×”×“×’×œ ×›××Ÿ... ×œ×“×•×’××”: FLAG{EXAMPLE}" />
                <button class="btn btn-submit" onclick="checkFlag()">âœ“ ×‘×“×•×§ ×ª×©×•×‘×”</button>
                <button class="btn btn-hint" onclick="toggleGuide()">ğŸ’¡ ×”×¦×’ ××“×¨×™×š ×¤×ª×¨×•×Ÿ</button>
            </div>
            <div id="feedback" class="feedback"></div>
        </div>

        <!-- Guide Section -->
        <div class="guide-section" id="guideSection">
            <h2>ğŸ“š ××“×¨×™×š ×œ×¤×ª×¨×•×Ÿ ×¦×•×¤×Ÿ ×”×—×œ×¤×”</h2>

<!--            <div class="step">-->
<!--                <h3><span class="step-number">1</span> × ×™×ª×•×— ×ª×“×™×¨×•×ª ××•×ª×™×•×ª</h3>-->
<!--                <p><strong>××” ×œ×¢×©×•×ª:</strong> ×¡×¤×•×¨ ×›××” ×¤×¢××™× ×›×œ ××•×ª ××•×¤×™×¢×” ×‘×˜×§×¡×˜ ×”××•×¦×¤×Ÿ.</p>-->
<!--                <ul>-->
<!--                    <li>×‘×× ×’×œ×™×ª, ×”××•×ª ×”× ×¤×•×¦×” ×‘×™×•×ª×¨ ×”×™× <strong>E</strong> (12.7%)</li>-->
<!--                    <li>××—×¨×™×”: <strong>T</strong> (9.1%), <strong>A</strong> (8.2%), <strong>O</strong> (7.5%)</li>-->
<!--                    <li>×—×¤×© ××ª ×”××•×ª ×©××•×¤×™×¢×” ×”×›×™ ×”×¨×‘×” - ×–×• ×›× ×¨××” E</li>-->
<!--                </ul>-->
<!--                <div class="code-example">-->
<!--××¤×©×¨ ×œ×”×©×ª××© ×‘×›×œ×™ ××•× ×œ×™×™×Ÿ ××• ×œ×¡×¤×•×¨ ×™×“× ×™×ª:-->
<!--https://www.dcode.fr/frequency-analysis-->
<!--××•-->
<!--https://www.boxentriq.com/code-breaking/frequency-analysis-->
<!--                </div>-->
<!--            </div>-->

            <div class="step">
                <h3><span class="step-number">1</span> ×–×™×”×•×™ ×”××™×œ×” THE</h3>
                <p><strong>××” ×œ×¢×©×•×ª:</strong> ×”××™×œ×” "THE" ×”×™× ×”××™×œ×” ×”× ×¤×•×¦×” ×‘×™×•×ª×¨ ×‘×× ×’×œ×™×ª (7% ××›×œ ×”××™×œ×™×!).</p>
                <ul>
                    <li>×—×¤×© ××™×œ×” ×‘×ª 3 ××•×ª×™×•×ª ×©×—×•×–×¨×ª ×”×¨×‘×” ×××•×“</li>
                    <li>×›× ×¨××” ×©×–×• THE ×‘××§×•×¨</li>
                    <li>×–×” ×™×ª×Ÿ ×œ×š 3 ××•×ª×™×•×ª: T, H, E</li>
                </ul>
                <p><strong>×˜×™×¤:</strong> ×‘××§×¨×” ×©×œ× ×•, "ZLQ" ××•×¤×™×¢×” ×”×¨×‘×” ×××•×“ ×¤×¢××™×!</p>
            </div>

            <div class="step">
                <h3><span class="step-number">2</span> ×©×™××•×© ×‘×¨××–×™×</h3>
                <p><strong>××” ×œ×¢×©×•×ª:</strong> ×”×©×ª××© ×‘××™×œ×™× ×”×™×“×•×¢×•×ª ×›×“×™ ×œ××¦×•× ××•×ª×™×•×ª × ×•×¡×¤×•×ª.</p>
                <ul>
                    <li>×× ××¦××ª T, H, E - ×—×¤×© ××ª ×”××™×œ×” UNDERGROUND</li>
                    <li>×—×¤×© ×“×¤×•×¡×™×: __ __ __ __ _ _ _ _ _ __ __ (11 ××•×ª×™×•×ª)</li>
                    <li>×¢× ×”××•×ª×™×•×ª ×©×›×‘×¨ ×™×© ×œ×š, ×ª×•×›×œ ×œ×”×‘×™×Ÿ ××™×–×• ××™×œ×” ×–×•</li>
                    <li>××•×ª×• ×“×‘×¨ ×¢× SECRET (6 ××•×ª×™×•×ª) ×•-FLAG</li>
                </ul>
            </div>

            <div class="step">
                <h3><span class="step-number">3</span> ×”×©×œ××” ×”×“×¨×’×ª×™×ª</h3>
                <p><strong>××” ×œ×¢×©×•×ª:</strong> ×”×©×ª××© ×‘×”×™×’×™×•×Ÿ ×•×”×§×©×¨ ×›×“×™ ×œ×”×©×œ×™× ××™×œ×™×.</p>
                <ul>
                    <li>×›×©×™×© ×œ×š 30-40% ××”××•×ª×™×•×ª, ×ª×•×›×œ ×œ×”×‘×™×Ÿ ××™×œ×™× ××”×”×§×©×¨</li>
                    <li>×œ×“×•×’××”: "TH_ _NN_L" â†’ ×›× ×¨××” "TUNNEL"</li>
                    <li>××•: "_ND_RGR__ND" â†’ ×›× ×¨××” "UNDERGROUND"</li>
                    <li>×›×œ ××™×œ×” ×©×ª×¤×¢× ×— ×ª×™×ª×Ÿ ×œ×š ××•×ª×™×•×ª × ×•×¡×¤×•×ª!</li>
                </ul>
            </div>

            <div class="step">
                <h3><span class="step-number">4</span> ××¦×™××ª ×”×“×’×œ</h3>
                <p><strong>××” ×œ×¢×©×•×ª:</strong> ××—×¨×™ ×©×ª×¤×¢× ×— ××ª ×”×˜×§×¡×˜, ×—×¤×© ××ª ×”××™×œ×” FLAG.</p>
                <ul>
                    <li>×”×“×’×œ × ××¦× ×‘××©×¤×˜ ×”××—×¨×•×Ÿ</li>
                    <li>×”×¤×•×¨××˜: FLAG{XXXXXXXX} (××™×œ×” ××—×ª ×©×œ××”)</li>
                    <li>×”×–×Ÿ ××ª ×”×“×’×œ ×œ×œ× ×¨×•×•×—×™×</li>
                </ul>
            </div>

            <div class="step">
                <h3><span class="step-number">ğŸ’¡</span> ×˜×™×¤×™× × ×•×¡×¤×™×</h3>
                <ul>
                    <li>××™×œ×™× × ×¤×•×¦×•×ª × ×•×¡×¤×•×ª: AND, FOR, WITH, THAT</li>
                    <li>××•×ª×™×•×ª ×‘×•×“×“×•×ª × ×¤×•×¦×•×ª: A (a/an), I</li>
                    <li>×¦××“×™ ××•×ª×™×•×ª × ×¤×•×¦×™×: TH, HE, IN, ER, AN, RE</li>
                    <li>×¢×‘×•×“ ×‘×©×™×˜×ª×™×•×ª - ×ª×¢×“ ×›×œ ××™×¤×•×™ ×©××ª×” ××•×¦×</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Fireworks Container -->
    <div class="fireworks" id="fireworks"></div>

    <script>
<!--        const correctFlag = "FLAG{INTHECATHEDRAL}";-->
        const correctFlagHash = "eee7fa9a62912753165bd1f24f1c44c3b956378a4bb6be7c89466cc61fc7b665";

        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            return hashHex;
        }

        async function checkFlag() {
            const input = document.getElementById('flagInput').value.trim().toUpperCase();
            const feedback = document.getElementById('feedback');

            if (input === '') {
                feedback.className = 'feedback error';
                feedback.textContent = 'âš ï¸ ×× × ×”×–×Ÿ ×“×’×œ ×œ×‘×“×™×§×”';
                feedback.style.display = 'block';
                return;
            }

            const inputHash = await sha256(input);

            if (inputHash === correctFlagHash) {
                feedback.className = 'feedback success';
                feedback.innerHTML = 'ğŸ‰ ××¢×•×œ×”! ×¤×™×¦×—×ª ××ª ×”×¦×•×¤×Ÿ!<br>×”×“×’×œ × ×›×•×Ÿ!';
                feedback.style.display = 'block';
                launchFireworks();
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'âŒ ×”×“×’×œ ×©×’×•×™. × ×¡×” ×©×•×‘!';
                feedback.style.display = 'block';
            }
        }

        function toggleGuide() {
            const guide = document.getElementById('guideSection');
            if (guide.style.display === 'none' || guide.style.display === '') {
                guide.style.display = 'block';
                guide.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                guide.style.display = 'none';
            }
        }

        function launchFireworks() {
            const container = document.getElementById('fireworks');
            container.style.display = 'block';

            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffa500'];

            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight * 0.5;
                    createFirework(x, y, colors[Math.floor(Math.random() * colors.length)]);
                }, i * 100);
            }

            setTimeout(() => {
                container.style.display = 'none';
                container.innerHTML = '';
            }, 6000);
        }

        function createFirework(x, y, color) {
            const container = document.getElementById('fireworks');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = color;

                const angle = (Math.PI * 2 * i) / particleCount;
                const velocity = 100 + Math.random() * 100;
                const xVel = Math.cos(angle) * velocity;
                const yVel = Math.sin(angle) * velocity;

                particle.style.setProperty('--x', xVel + 'px');
                particle.style.setProperty('--y', yVel + 'px');

                container.appendChild(particle);

                setTimeout(() => particle.remove(), 1000);
            }
        }

        // Allow Enter key to submit
        document.getElementById('flagInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                checkFlag();
            }
        });
    </script>
</body>
</html>