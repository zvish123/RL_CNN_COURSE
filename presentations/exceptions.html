<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>טיפול בשגיאות (Exceptions) - Python</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            margin-top: 20px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #4ade80;
            width: 0%;
            transition: width 0.3s ease;
        }

        .slide {
            display: none;
            padding: 40px;
            animation: slideIn 0.5s ease;
        }

        .slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content {
            line-height: 1.8;
            font-size: 1.1em;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            position: relative;
            direction: ltr;
        }

        .code-block::before {
            content: 'Python';
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.8em;
            color: #94a3b8;
        }

        .highlight {
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .info-box {
            background: #dbeafe;
            border-right: 4px solid #3b82f6;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .warning-box {
            background: #fef3c7;
            border-right: 4px solid #f59e0b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .success-box {
            background: #d1fae5;
            border-right: 4px solid #10b981;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .quiz-question {
            background: #f1f5f9;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .quiz-options {
            margin-top: 15px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #667eea;
            transform: translateX(-5px);
        }

        .quiz-option.correct {
            background: #d1fae5;
            border-color: #10b981;
        }

        .quiz-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }

        .interactive-demo {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .demo-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            font-size: 1em;
            margin: 10px 0;
        }

        .demo-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .demo-output {
            background: #1e293b;
            color: #4ade80;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            min-height: 50px;
            font-family: 'Courier New', monospace;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 20px 40px;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: #5568d3;
            transform: scale(1.05);
        }

        .nav-button:disabled {
            background: #cbd5e1;
            cursor: not-allowed;
            transform: none;
        }

        .exception-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .exception-card {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .exception-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .exception-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .slide-counter {
            text-align: center;
            color: white;
            margin-top: 10px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🐍 טיפול בשגיאות ב-Python</h1>
            <p>מצגת אינטראקטיבית ללימוד Exceptions</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">10</span>
            </div>
        </div>

        <!-- Slide 1: Introduction -->
        <div class="slide active" data-slide="1">
            <h2>💡 מה זה Exceptions?</h2>
            <div class="content">
                <p><strong>Exception</strong> (חריגה) היא שגיאה המתרחשת בזמן ריצת התוכנית.</p>

                <div class="info-box">
                    <strong>🎯 המטרה שלנו:</strong>
                    <ul style="margin-top: 10px;">
                        <li>למנוע מהתוכנית לקרוס</li>
                        <li>לשלוט בזרימת התוכנית גם במקרה של שגיאות</li>
                        <li>לספק משוב ידידותי למשתמש</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong>⚠️ עובדה חשובה:</strong> בפייתון, גם שגיאות הן אובייקטים! כל Exception הוא אובייקט מסוג מסוים.
                </div>

                <pre class="code-block">
>>> int('abc')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: invalid literal for int() with base 10: 'abc'
                </pre>

                <p style="margin-top: 20px;">👆 בדוגמה זו, <span class="highlight">ValueError</span> הוא סוג של Exception שמתרחש כאשר ניסינו להמיר מחרוזת לא חוקית למספר.</p>
            </div>
        </div>

        <!-- Slide 2: Try-Except Basics -->
        <div class="slide" data-slide="2">
            <h2>🛡️ המבנה הבסיסי: try-except</h2>
            <div class="content">
                <p>המבנה <span class="highlight">try-except</span> מאפשר לנו לנסות להריץ קוד ולטפל בשגיאות שעלולות להתרחש.</p>

                <pre class="code-block">
try:
    # קוד שעלול לגרום לשגיאה
    result = 10 / 0
except ZeroDivisionError:
    # קוד שירוץ אם יש שגיאה
    print("לא ניתן לחלק באפס!")
                </pre>

                <div class="info-box">
                    <strong>📋 איך זה עובד:</strong>
                    <ol style="margin-top: 10px;">
                        <li>Python מנסה להריץ את הקוד בבלוק <code>try</code></li>
                        <li>אם אין שגיאות - הקוד ממשיך באופן רגיל</li>
                        <li>אם יש שגיאה - Python קופץ לבלוק <code>except</code> המתאים</li>
                        <li>הקוד שהיה לפני השגיאה - כבר התבצע!</li>
                    </ol>
                </div>

                <div class="interactive-demo">
                    <h3>🎮 התנסות אינטראקטיבית</h3>
                    <p>הזן שני מספרים ונחלק אותם (נסה לחלק באפס!):</p>
                    <input type="number" id="num1" class="demo-input" placeholder="מספר ראשון">
                    <input type="number" id="num2" class="demo-input" placeholder="מספר שני">
                    <button class="demo-button" onclick="tryDivision()">חלק!</button>
                    <div class="demo-output" id="divOutput">התוצאה תופיע כאן...</div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Common Exceptions -->
        <div class="slide" data-slide="3">
            <h2>📚 Exceptions נפוצים</h2>
            <div class="content">
                <p>בואו נכיר את ה-Exceptions השכיחים ביותר ב-Python:</p>

                <div class="exception-list">
                    <div class="exception-card">
                        <h4>ValueError</h4>
                        <p>ערך לא תקין לפונקציה</p>
                        <code style="font-size: 0.9em;">int('abc')</code>
                    </div>

                    <div class="exception-card">
                        <h4>ZeroDivisionError</h4>
                        <p>חלוקה באפס</p>
                        <code style="font-size: 0.9em;">10 / 0</code>
                    </div>

                    <div class="exception-card">
                        <h4>FileNotFoundError</h4>
                        <p>קובץ לא נמצא</p>
                        <code style="font-size: 0.9em;">open('x.txt')</code>
                    </div>

                    <div class="exception-card">
                        <h4>IndexError</h4>
                        <p>אינדקס מחוץ לטווח</p>
                        <code style="font-size: 0.9em;">[1,2,3][10]</code>
                    </div>

                    <div class="exception-card">
                        <h4>KeyError</h4>
                        <p>מפתח לא קיים במילון</p>
                        <code style="font-size: 0.9em;">{'a':1}['b']</code>
                    </div>

                    <div class="exception-card">
                        <h4>TypeError</h4>
                        <p>פעולה על טיפוס לא מתאים</p>
                        <code style="font-size: 0.9em;">'text' + 5</code>
                    </div>
                </div>

                <div class="warning-box" style="margin-top: 20px;">
                    <strong>💡 טיפ חשוב:</strong> תמיד נסה לטפל ב-Exception הספציפי ולא בכל ה-Exceptions בבת אחת! זה עוזר לזהות בעיות בקוד.
                </div>
            </div>
        </div>

        <!-- Slide 4: Multiple Except Blocks -->
        <div class="slide" data-slide="4">
            <h2>🎯 טיפול במספר Exceptions</h2>
            <div class="content">
                <p>לעיתים קוד יכול לגרום למספר סוגי שגיאות. אפשר לטפל בכל אחת בנפרד:</p>

                <pre class="code-block">
def get_list_element():
    data = [10, 20, 30]
    try:
        index = int(input("הזן אינדקס: "))
        print(f"הערך: {data[index]}")
    except ValueError:
        print("חייב להיות מספר שלם!")
    except IndexError:
        print("האינדקס מחוץ לטווח!")
    except KeyboardInterrupt:
        print("\nהמשתמש ביטל את הפעולה")
                </pre>

                <div class="success-box">
                    <strong>✅ יתרונות של טיפול ספציפי:</strong>
                    <ul style="margin-top: 10px;">
                        <li>הודעות שגיאה ברורות ומדויקות</li>
                        <li>קל יותר לאתר ולתקן בעיות</li>
                        <li>אפשר לטפל בכל מקרה בצורה שונה</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h3>❓ שאלת הבנה</h3>
                    <p><strong>מה יקרה בקוד הבא?</strong></p>
                    <pre class="code-block">
try:
    result = "10" + 5
except ValueError:
    print("שגיאת ערך")
except TypeError:
    print("שגיאת טיפוס")
                    </pre>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. יודפס "שגיאת ערך"</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ב. יודפס "שגיאת טיפוס"</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ג. יודפס 15</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ד. התוכנית תקרוס</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Raising Exceptions -->
        <div class="slide" data-slide="5">
            <h2>🚀 העלאת Exceptions - raise</h2>
            <div class="content">
                <p>לפעמים <strong>אנחנו</strong> רוצים להעלות Exception במכוון כדי לאותת על בעיה:</p>

                <pre class="code-block">
def divide_by_three(num):
    """הפונקציה מחלקת ב-3 רק מספרים שמתחלקים ב-3"""
    if num % 3 != 0:
        raise ValueError(f'{num} לא מתחלק ב-3!')
    return num / 3

# שימוש:
try:
    result = divide_by_three(10)
except ValueError as e:
    print(f"שגיאה: {e}")
                </pre>

                <div class="info-box">
                    <strong>🎓 מתי להשתמש ב-raise:</strong>
                    <ul style="margin-top: 10px;">
                        <li>כאשר הפונקציה מקבלת פרמטרים לא תקינים</li>
                        <li>כאשר מצב מסוים בקוד הוא בלתי אפשרי לוגית</li>
                        <li>כדי להעביר שגיאה מפורטת לקוד הקורא</li>
                    </ul>
                </div>

                <div class="interactive-demo">
                    <h3>🎮 נסה בעצמך</h3>
                    <p>הזן מספר - הפונקציה תבדוק אם הוא מתחלק ב-3:</p>
                    <input type="number" id="divByThree" class="demo-input" placeholder="הזן מספר">
                    <button class="demo-button" onclick="testDivideByThree()">בדוק!</button>
                    <div class="demo-output" id="divByThreeOutput">התוצאה תופיע כאן...</div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Finally Block -->
        <div class="slide" data-slide="6">
            <h2>🎬 בלוק Finally - תמיד מתבצע!</h2>
            <div class="content">
                <p>בלוק <span class="highlight">finally</span> מתבצע <strong>תמיד</strong>, בין אם הייתה שגיאה ובין אם לא:</p>

                <pre class="code-block">
def read_file(filename):
    try:
        f = open(filename, 'r')
        content = f.read()
        print(content)
    except FileNotFoundError:
        print("הקובץ לא נמצא!")
    finally:
        print("ניקוי משאבים...")
        # f.close() - אם הקובץ נפתח
                </pre>

                <div class="warning-box">
                    <strong>⚠️ למה צריך finally?</strong>
                    <p style="margin-top: 10px;">הבלוק finally מבטיח שקוד ניקוי (כמו סגירת קבצים או חיבורי רשת) יתבצע גם אם:</p>
                    <ul style="margin-top: 10px;">
                        <li>יש return בתוך הבלוק try</li>
                        <li>יש return בתוך הבלוק except</li>
                        <li>התרחשה שגיאה שלא נתפסה</li>
                    </ul>
                </div>

                <pre class="code-block">
def example_with_return():
    try:
        print("מנסה...")
        return "מחזיר מ-try"
    except:
        return "מחזיר מ-except"
    finally:
        print("finally תמיד מתבצע!")  # 👈 זה ירוץ לפני ה-return!
                </pre>

                <div class="success-box">
                    <strong>✅ שימושים נפוצים ל-finally:</strong>
                    <ul style="margin-top: 10px;">
                        <li>סגירת קבצים</li>
                        <li>ניתוק מחיבורי רשת</li>
                        <li>שחרור משאבים</li>
                        <li>רישום לוג (logging)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 7: File Handling Example -->
        <div class="slide" data-slide="7">
            <h2>📁 דוגמה מעשית: עבודה עם קבצים</h2>
            <div class="content">
                <p>אחת הדוגמאות הנפוצות ביותר לשימוש ב-Exceptions היא עבודה עם קבצים:</p>

                <pre class="code-block">
def safe_file_read(filename):
    """קריאת קובץ בצורה בטוחה עם טיפול בשגיאות"""
    finished = False

    while not finished:
        try:
            with open(filename, 'r', encoding='utf-8') as f:
                content = f.read()
                print(f"✅ הקובץ נקרא בהצלחה!")
                print(content)
                finished = True

        except FileNotFoundError:
            print(f"❌ הקובץ {filename} לא נמצא")
            filename = input("הזן שם קובץ אחר: ")

        except PermissionError:
            print(f"❌ אין הרשאה לקרוא את {filename}")
            break

        except UnicodeDecodeError:
            print(f"❌ בעיית קידוד בקובץ")
            try:
                with open(filename, 'r', encoding='windows-1255') as f:
                    content = f.read()
                    print(content)
                    finished = True
            except:
                print("לא הצלחנו לקרוא את הקובץ")
                break
                </pre>

                <div class="info-box">
                    <strong>💡 שימו לב:</strong>
                    <ul style="margin-top: 10px;">
                        <li>השימוש ב-<code>with</code> מבטיח סגירה אוטומטית של הקובץ</li>
                        <li>ה-loop נותן למשתמש הזדמנות להזין שם קובץ אחר</li>
                        <li>מטפלים בכל Exception בצורה ספציפית ומשמעותית</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h3>❓ שאלת יישום</h3>
                    <p><strong>מה החיסרון בקוד הבא?</strong></p>
                    <pre class="code-block">
try:
    f = open('data.txt', 'r')
    content = f.read()
except:
    print("שגיאה כלשהי")
                    </pre>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. הקוד לא יעבוד</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ב. לא ברור איזו שגיאה התרחשה</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ג. הקובץ לא ייסגר</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ד. גם ב וגם ג</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Best Practices -->
        <div class="slide" data-slide="8">
            <h2>⭐ שיטות עבודה מומלצות</h2>
            <div class="content">
                <div class="success-box">
                    <strong>✅ עשה:</strong>
                    <ul style="margin-top: 10px;">
                        <li>תפוס Exceptions ספציפיים (ValueError, FileNotFoundError וכו')</li>
                        <li>ספק הודעות שגיאה ברורות ומועילות למשתמש</li>
                        <li>השתמש ב-finally לניקוי משאבים</li>
                        <li>תעד (document) אילו Exceptions הפונקציה שלך עלולה להעלות</li>
                        <li>השתמש ב-<code>with</code> statement לעבודה עם קבצים</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong>❌ אל תעשה:</strong>
                    <ul style="margin-top: 10px;">
                        <li>אל תשתמש ב-<code>except:</code> ריק (תפוס את כל השגיאות)</li>
                        <li>אל תתעלם מ-Exceptions בשקט (silent failures)</li>
                        <li>אל תשתמש ב-Exceptions לשליטת זרימה רגילה</li>
                        <li>אל תעלה Exceptions כלליים מדי</li>
                    </ul>
                </div>

                <h3 style="margin-top: 30px; color: #667eea;">דוגמאות השוואה:</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <h4 style="color: #ef4444;">❌ קוד לא טוב</h4>
                        <pre class="code-block">
try:
    do_something()
except:
    pass  # לא טוב!
                        </pre>
                    </div>
                    <div>
                        <h4 style="color: #10b981;">✅ קוד טוב</h4>
                        <pre class="code-block">
try:
    do_something()
except ValueError as e:
    print(f"שגיאה: {e}")
    logging.error(f"Error: {e}")
                        </pre>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <h4 style="color: #ef4444;">❌ קוד לא טוב</h4>
                        <pre class="code-block">
try:
    result = risky_operation()
    other_operation()
    more_operations()
except Exception:
    print("שגיאה")
                        </pre>
                    </div>
                    <div>
                        <h4 style="color: #10b981;">✅ קוד טוב</h4>
                        <pre class="code-block">
try:
    result = risky_operation()
except SpecificError as e:
    handle_error(e)
else:
    other_operation()
    more_operations()
                        </pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Practice Exercise -->
        <div class="slide" data-slide="9">
            <h2>🏋️ תרגול מעשי</h2>
            <div class="content">
                <p>בואו נכתוב פונקציה
שמטפלת במספר סוגי Exceptions:</p>

                <div class="quiz-question">
                    <h3>📝 תרגיל 1: מחשבון בטוח</h3>
                    <p>כתוב פונקציה שמקבלת שני מספרים ופעולה (+, -, *, /) ומטפלת בשגיאות אפשריות:</p>
                    <pre class="code-block">
def safe_calculator(num1, num2, operation):
    """
    מחשבון שמטפל בשגיאות
    """
    try:
        # המר למספרים
        a = float(num1)
        b = float(num2)

        # בצע פעולה
        if operation == '+':
            return a + b
        elif operation == '-':
            return a - b
        elif operation == '*':
            return a * b
        elif operation == '/':
            return a / b
        else:
            raise ValueError("פעולה לא חוקית")

    except ValueError:
        return "שגיאה: יש להזין מספרים תקינים"
    except ZeroDivisionError:
        return "שגיאה: לא ניתן לחלק באפס"
    except Exception as e:
        return f"שגיאה לא צפויה: {e}"
                    </pre>
                </div>

                <div class="interactive-demo">
                    <h3>🎮 נסה את המחשבון</h3>
                    <input type="text" id="calcNum1" class="demo-input" placeholder="מספר ראשון">
                    <select id="calcOp" class="demo-input">
                        <option value="+">+</option>
                        <option value="-">-</option>
                        <option value="*">×</option>
                        <option value="/">/</option>
                    </select>
                    <input type="text" id="calcNum2" class="demo-input" placeholder="מספר שני">
                    <button class="demo-button" onclick="runCalculator()">חשב!</button>
                    <div class="demo-output" id="calcOutput">התוצאה תופיע כאן...</div>
                </div>

                <div class="quiz-question" style="margin-top: 30px;">
                    <h3>📝 תרגיל 2: קלט בטוח מהמשתמש</h3>
                    <p>כתוב פונקציה שמבקשת מספר שלם מהמשתמש ולא מוותרת עד שמקבלת קלט תקין:</p>
                    <pre class="code-block">
def get_integer_input(prompt):
    """
    מבקשת מספר שלם מהמשתמש
    """
    while True:
        try:
            value = input(prompt)
            return int(value)
        except ValueError:
            print("❌ זה לא מספר שלם! נסה שוב.")
        except KeyboardInterrupt:
            print("\n⚠️ המשתמש ביטל")
            return None

# שימוש:
age = get_integer_input("מה הגיל שלך? ")
if age:
    print(f"הגיל שלך הוא {age}")
                    </pre>
                </div>

                <div class="success-box">
                    <strong>💡 נקודות למחשבה:</strong>
                    <ul style="margin-top: 10px;">
                        <li>מה יקרה אם המשתמש ילחץ Ctrl+C?</li>
                        <li>למה חשוב להשתמש ב-loop כאן?</li>
                        <li>איך נוכל לשפר את הודעות השגיאה?</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 10: Summary and Quiz -->
        <div class="slide" data-slide="10">
            <h2>🎓 סיכום ומבחן סופי</h2>
            <div class="content">
                <div class="info-box">
                    <strong>📌 נקודות מרכזיות לזכור:</strong>
                    <ul style="margin-top: 10px;">
                        <li><strong>try-except</strong> - מבנה בסיסי לטיפול בשגיאות</li>
                        <li><strong>finally</strong> - קוד שמתבצע תמיד, גם אם יש שגיאה</li>
                        <li><strong>raise</strong> - להעלות Exception במכוון</li>
                        <li><strong>תפוס Exceptions ספציפיים</strong> - לא את כולם יחד</li>
                        <li><strong>ספק הודעות שגיאה ברורות</strong> למשתמש</li>
                    </ul>
                </div>

                <h3 style="margin-top: 30px; color: #667eea;">מבחן סופי - בדוק את עצמך! 🎯</h3>

                <div class="quiz-question">
                    <p><strong>שאלה 1:</strong> מה יודפס?</p>
                    <pre class="code-block">
try:
    print("א")
    raise ValueError()
    print("ב")
except ValueError:
    print("ג")
finally:
    print("ד")
                    </pre>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">1. א, ד</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">2. רק א</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">3. א, ג, ד</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">4. א, ב, ג, ד</div>
                    </div>
                </div>

                <div class="quiz-question">
                    <p><strong>שאלה 2:</strong> איזה Exception יתפס?</p>
                    <pre class="code-block">
my_list = [1, 2, 3]
try:
    print(my_list[5])
except ???:
    print("תפסנו!")
                    </pre>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. ValueError</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ב. KeyError</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ג. TypeError</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ד. IndexError</div>
                    </div>
                </div>

                <div class="quiz-question">
                    <p><strong>שאלה 3:</strong> מה הבעיה בקוד הזה?</p>
                    <pre class="code-block">
try:
    risky_operation()
except:
    pass
                    </pre>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. חסר finally</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ב. השם except שגוי</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ג. תופס כל Exception ומתעלם ממנו</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ד. אין בעיה</div>
                    </div>
                </div>

                <div class="quiz-question">
                    <p><strong>שאלה 4:</strong> מתי נשתמש ב-raise?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. כדי לתפוס Exception</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ב. כדי להעלות Exception במכוון</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ג. כדי לסגור קובץ</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ד. כדי לבטל Exception</div>
                    </div>
                </div>

                <div class="quiz-question">
                    <p><strong>שאלה 5:</strong> מה יקרה אם יש return בתוך try ויש finally?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkAnswer(this, false)">א. finally לא יתבצע</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ב. יהיה Exception</div>
                        <div class="quiz-option" onclick="checkAnswer(this, false)">ג. finally יתבצע אחרי ה-return</div>
                        <div class="quiz-option" onclick="checkAnswer(this, true)">ד. finally יתבצע לפני ה-return</div>
                    </div>
                </div>

                <div id="finalScore" class="success-box" style="display: none; margin-top: 30px;">
                    <h3>🎉 כל הכבוד!</h3>
                    <p id="scoreText"></p>
                </div>

                <div class="warning-box" style="margin-top: 30px;">
                    <strong>📚 משימות תרגול נוספות:</strong>
                    <ol style="margin-top: 10px;">
                        <li>כתוב תוכנית לניהול רשימת קניות עם טיפול בשגיאות</li>
                        <li>צור מערכת login בסיסית שמטפלת בקלט לא תקין</li>
                        <li>בנה parser לקובץ CSV עם טיפול בשגיאות</li>
                        <li>כתוב פונקציה שמחשבת שורש ריבועי עם בדיקות</li>
                        <li>צור מערכת ניהול קבצים עם Exception handling מלא</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">⏮ הקודם</button>
            <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">הבא ⏭</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 10;
        let correctAnswers = 0;
        let totalQuestions = 0;

        function updateSlide() {
            // Hide all slides
            document.querySelectorAll('.slide').forEach(slide => {
                slide.classList.remove('active');
            });

            // Show current slide
            document.querySelector(`[data-slide="${currentSlide}"]`).classList.add('active');

            // Update progress bar
            const progress = (currentSlide / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Update slide counter
            document.getElementById('currentSlide').textContent = currentSlide;

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide < 1) currentSlide = 1;
            if (currentSlide > totalSlides) currentSlide = totalSlides;
            updateSlide();
        }

        function checkAnswer(element, isCorrect) {
            // Remove previous selections
            element.parentElement.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });

            // Mark answer
            if (isCorrect) {
                element.classList.add('correct');
                correctAnswers++;
            } else {
                element.classList.add('incorrect');
            }

            totalQuestions++;

            // Show final score on last slide
            if (currentSlide === 10) {
                const finalScore = document.getElementById('finalScore');
                const scoreText = document.getElementById('scoreText');
                finalScore.style.display = 'block';

                const percentage = Math.round((correctAnswers / 5) * 100);
                let message = '';

                if (percentage === 100) {
                    message = `מושלם! ענית נכון על כל השאלות! 🌟`;
                } else if (percentage >= 80) {
                    message = `מצוין! ענית נכון על ${correctAnswers} מתוך 5 שאלות (${percentage}%) 👏`;
                } else if (percentage >= 60) {
                    message = `טוב! ענית נכון על ${correctAnswers} מתוך 5 שאלות (${percentage}%). כדאי לחזור על החומר 📖`;
                } else {
                    message = `ענית נכון על ${correctAnswers} מתוך 5 שאלות (${percentage}%). מומלץ לעבור שוב על המצגת 🔄`;
                }

                scoreText.textContent = message;
            }
        }

        function tryDivision() {
            const num1 = document.getElementById('num1').value;
            const num2 = document.getElementById('num2').value;
            const output = document.getElementById('divOutput');

            try {
                const n1 = parseFloat(num1);
                const n2 = parseFloat(num2);

                if (isNaN(n1) || isNaN(n2)) {
                    throw new Error("ValueError: נא להזין מספרים תקינים");
                }

                if (n2 === 0) {
                    throw new Error("ZeroDivisionError: לא ניתן לחלק באפס!");
                }

                const result = n1 / n2;
                output.innerHTML = `✅ תוצאה: ${n1} / ${n2} = ${result}`;
                output.style.color = '#4ade80';
            } catch (error) {
                output.innerHTML = `❌ ${error.message}`;
                output.style.color = '#f87171';
            }
        }

        function testDivideByThree() {
            const num = document.getElementById('divByThree').value;
            const output = document.getElementById('divByThreeOutput');

            try {
                const n = parseFloat(num);

                if (isNaN(n)) {
                    throw new Error("ValueError: נא להזין מספר תקין");
                }

                if (n % 3 !== 0) {
                    throw new Error(`ValueError: ${n} לא מתחלק ב-3!`);
                }

                const result = n / 3;
                output.innerHTML = `✅ מצוין! ${n} / 3 = ${result}`;
                output.style.color = '#4ade80';
            } catch (error) {
                output.innerHTML = `❌ ${error.message}`;
                output.style.color = '#f87171';
            }
        }

        function runCalculator() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            const operation = document.getElementById('calcOp').value;
            const output = document.getElementById('calcOutput');

            try {
                const a = parseFloat(num1);
                const b = parseFloat(num2);

                if (isNaN(a) || isNaN(b)) {
                    throw new Error("ValueError: יש להזין מספרים תקינים");
                }

                let result;
                switch(operation) {
                    case '+':
                        result = a + b;
                        break;
                    case '-':
                        result = a - b;
                        break;
                    case '*':
                        result = a * b;
                        break;
                    case '/':
                        if (b === 0) {
                            throw new Error("ZeroDivisionError: לא ניתן לחלק באפס");
                        }
                        result = a / b;
                        break;
                    default:
                        throw new Error("ValueError: פעולה לא חוקית");
                }

                output.innerHTML = `✅ תוצאה: ${a} ${operation} ${b} = ${result}`;
                output.style.color = '#4ade80';
            } catch (error) {
                output.innerHTML = `❌ ${error.message}`;
                output.style.color = '#f87171';
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight') {
                changeSlide(-1); // RTL
            } else if (event.key === 'ArrowLeft') {
                changeSlide(1); // RTL
            }
        });

        // Initialize
        updateSlide();
    </script>
</body>
</html>
