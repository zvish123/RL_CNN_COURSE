<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×—×¨×•×ª ×¤×™×¦×•×— ×¦×¤× ×™× - ×ª×™×›×•×Ÿ ×‘×œ×™×š</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&family=Heebo:wght@300;400;700;900&family=Assistant:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0e27;
            --bg-card: #131829;
            --accent-cyan: #00fff5;
            --accent-purple: #b537ff;
            --accent-pink: #ff006e;
            --text-primary: #e0e6ff;
            --text-secondary: #8b92b8;
            --success: #00ff88;
            --warning: #ffaa00;
            --grid-color: rgba(0, 255, 245, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Assistant', 'Heebo', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background grid */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Glowing orbs */
        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.3;
            pointer-events: none;
            z-index: 0;
        }

        .orb1 {
            width: 400px;
            height: 400px;
            background: var(--accent-cyan);
            top: -200px;
            right: -100px;
            animation: float 15s ease-in-out infinite;
        }

        .orb2 {
            width: 300px;
            height: 300px;
            background: var(--accent-purple);
            bottom: -150px;
            left: -100px;
            animation: float 12s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, 30px) scale(1.1); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 60px 20px 40px;
            background: linear-gradient(135deg, rgba(181, 55, 255, 0.1), rgba(0, 255, 245, 0.1));
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 245, 0.2);
            backdrop-filter: blur(10px);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Rubik Mono One', monospace;
            font-size: 3rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(0, 255, 245, 0.3);
            letter-spacing: 2px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-top: 10px;
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            animation: fadeIn 0.8s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stat-card {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(0, 255, 245, 0.2);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 245, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-cyan);
            box-shadow: 0 10px 30px rgba(0, 255, 245, 0.3);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--accent-cyan);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Timer */
        #timer {
            font-family: 'Rubik Mono One', monospace;
            font-size: 2rem;
        }

        #timer.warning {
            color: var(--warning);
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Progress bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--accent-cyan);
        }

        /* Section headers */
        .section-header {
            background: linear-gradient(135deg, rgba(181, 55, 255, 0.15), rgba(0, 255, 245, 0.15));
            padding: 30px;
            border-radius: 15px;
            margin: 40px 0 20px;
            border: 1px solid rgba(0, 255, 245, 0.3);
            animation: fadeIn 0.8s ease-out;
        }

        .section-header h2 {
            font-family: 'Rubik Mono One', monospace;
            color: var(--accent-cyan);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .section-description {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Question cards */
        .question-card {
            background: var(--bg-card);
            padding: 30px;
            margin-bottom: 25px;
            border-radius: 15px;
            border: 1px solid rgba(0, 255, 245, 0.2);
            transition: all 0.3s ease;
            animation: fadeIn 0.8s ease-out;
        }

        .question-card:hover {
            border-color: var(--accent-cyan);
            box-shadow: 0 5px 20px rgba(0, 255, 245, 0.2);
        }

        .question-card.solved {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.05), rgba(0, 255, 245, 0.05));
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-title {
            font-family: 'Rubik Mono One', monospace;
            font-size: 1.3rem;
            color: var(--accent-cyan);
        }

        .difficulty-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .difficulty-easy {
            background: rgba(0, 255, 136, 0.2);
            color: var(--success);
        }

        .difficulty-medium {
            background: rgba(255, 170, 0, 0.2);
            color: var(--warning);
        }

        .difficulty-hard {
            background: rgba(255, 0, 110, 0.2);
            color: var(--accent-pink);
        }

        .difficulty-extreme {
            background: linear-gradient(135deg, rgba(181, 55, 255, 0.3), rgba(255, 0, 110, 0.3));
            color: var(--accent-purple);
        }

        .question-content {
            margin-bottom: 20px;
        }

        .question-content p {
            margin-bottom: 15px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .encrypted-text {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            color: var(--accent-cyan);
            font-size: 1.1rem;
            letter-spacing: 1px;
            border: 1px solid rgba(0, 255, 245, 0.2);
            direction: ltr;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Answer section */
        .answer-section {
            margin-top: 20px;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(0, 255, 245, 0.3);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 245, 0.3);
        }

        input[type="text"].correct {
            border-color: var(--success);
            background: rgba(0, 255, 136, 0.1);
        }

        input[type="text"].incorrect {
            border-color: var(--accent-pink);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        button {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 255, 245, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        /* Final Check Button */
        .final-check-container {
            position: sticky;
            bottom: 20px;
            margin: 40px 0 20px;
            text-align: center;
            z-index: 100;
        }

        .final-check-btn {
            padding: 20px 50px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-pink));
            font-size: 1.3rem;
            box-shadow: 0 10px 30px rgba(181, 55, 255, 0.5);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 10px 30px rgba(181, 55, 255, 0.5); }
            50% { box-shadow: 0 10px 50px rgba(181, 55, 255, 0.8); }
        }

        /* Feedback messages */
        .feedback {
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            display: none;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: rgba(0, 255, 136, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .feedback.incorrect {
            background: rgba(255, 0, 110, 0.2);
            color: var(--accent-pink);
            border: 1px solid var(--accent-pink);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--bg-card);
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid var(--accent-cyan);
            box-shadow: 0 0 50px rgba(0, 255, 245, 0.5);
            animation: modalSlide 0.5s ease-out;
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal h2 {
            font-family: 'Rubik Mono One', monospace;
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .score {
            font-size: 5rem;
            font-weight: 900;
            color: var(--accent-cyan);
            text-shadow: 0 0 30px rgba(0, 255, 245, 0.5);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .dashboard {
                grid-template-columns: repeat(2, 1fr);
            }

            .input-group {
                flex-direction: column;
            }

            .question-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>

    <div class="container">
        <header>
            <h1>ğŸ” ×ª×—×¨×•×ª ×¤×™×¦×•×— ×¦×¤× ×™× ğŸ”</h1>
            <p class="subtitle">×ª×™×›×•×Ÿ ×‘×œ×™×š - ××¡×œ×•×œ ×¡×™×™×‘×¨</p>
        </header>

        <!-- Dashboard -->
        <div class="dashboard">
            <div class="stat-card">
                <div class="stat-value" id="timer">60:00</div>
                <div class="stat-label">×–××Ÿ × ×•×ª×¨</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">× ×™×§×•×“</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="solved">0/15</div>
                <div class="stat-label">×©××œ×•×ª × ×¤×ª×¨×•</div>
                <div class="progress-container">
                    <div class="progress-bar" id="progress"></div>
                </div>
            </div>
        </div>

        <!-- Stage 1: Caesar Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 1: ×¦×•×¤×Ÿ ×§×™×¡×¨ (Caesar Cipher)</h2>
            <div class="section-description">×”×¦×•×¤×Ÿ ×”×§×œ××¡×™ ×‘×™×•×ª×¨ - ×›×œ ××•×ª ××•×–×–×ª ×‘××¡×¤×¨ ×§×‘×•×¢ ×©×œ ××§×•××•×ª ×‘××œ×¤×‘×™×ª.</div>
        </div>

        <!-- Question 1 -->
        <div class="question-card" data-question="1" data-points="2">
            <div class="question-header">
                <div class="question-title">×©××œ×” 1</div>
                <div class="difficulty-badge difficulty-easy">×§×œ - 2 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×”×–×–×”:</strong> 3 ××§×•××•×ª ×§×“×™××”</p>
                <div class="encrypted-text">Wkh txlfn eurzq ira mxpsv ryhu wkh odcb grj.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer1" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(1)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback1"></div>
            </div>
        </div>

        <!-- Question 2 -->
        <div class="question-card" data-question="2" data-points="3">
            <div class="question-header">
                <div class="question-title">×©××œ×” 2</div>
                <div class="difficulty-badge difficulty-easy">×§×œ - 3 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×”×–×–×”:</strong> ×œ× ×™×“×•×¢×” - ×¢×œ×™×›× ×œ××¦×•×!</p>
                <div class="encrypted-text">Ymj ijhwnts ns fsi nx gwfaj.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer2" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(2)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback2"></div>
            </div>
        </div>

        <!-- Stage 2: Substitution Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 2: ×¦×•×¤×Ÿ ×”×—×œ×¤×” (Substitution Cipher)</h2>
            <div class="section-description">×›×œ ××•×ª ××•×—×œ×¤×ª ×‘××•×ª ××—×¨×ª ×œ×¤×™ ××¤×ª×— ×¡×•×“×™.</div>
        </div>

        <!-- Question 3 -->
        <div class="question-card" data-question="3" data-points="4">
            <div class="question-header">
                <div class="question-title">×©××œ×” 3</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 4 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¨××–:</strong> ×”××•×ª ×”× ×¤×•×¦×” ×‘×™×•×ª×¨ ×‘×× ×’×œ×™×ª ×”×™× 'E'</p>
                <div class="encrypted-text">Gwcugz ku gwc xgv, yjg yksg ycv tcy.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer3" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(3)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback3"></div>
            </div>
        </div>

        <!-- Stage 3: Atbash Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 3: ×¦×•×¤×Ÿ ××˜×‘"×© (Atbash)</h2>
            <div class="section-description">Aâ†”Z, Bâ†”Y, Câ†”X... ×”××œ×¤×‘×™×ª ×”×¤×•×š!</div>
        </div>

        <!-- Question 4 -->
        <div class="question-card" data-question="4" data-points="3">
            <div class="question-header">
                <div class="question-title">×©××œ×” 4</div>
                <div class="difficulty-badge difficulty-easy">×§×œ - 3 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>Atbash:</strong> A=Z, B=Y, C=X...</p>
                <div class="encrypted-text">Gsv hvrxiv gl hfxxvhh rh gl mvevi trev fk.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer4" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(4)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback4"></div>
            </div>
        </div>

        <!-- Stage 4: Reverse Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 4: ×¦×•×¤×Ÿ ×”×™×¤×•×š (Reverse)</h2>
            <div class="section-description">×”××—×¨×•×–×ª ×›×ª×•×‘×” ×”×¤×•×š!</div>
        </div>

        <!-- Question 5 -->
        <div class="question-card" data-question="5" data-points="2">
            <div class="question-header">
                <div class="question-title">×©××œ×” 5</div>
                <div class="difficulty-badge difficulty-easy">×§×œ - 2 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <div class="encrypted-text">.kcab emit nrut t'nac uoY</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer5" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(5)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback5"></div>
            </div>
        </div>

        <!-- Stage 5: ROT13 -->
        <div class="section-header">
            <h2>×©×œ×‘ 5: ROT13</h2>
            <div class="section-description">×¡×•×’ ××™×•×—×“ ×©×œ ×¦×•×¤×Ÿ ×§×™×¡×¨ ×¢× ×”×–×–×” ×©×œ 13 ××§×•××•×ª.</div>
        </div>

        <!-- Question 6 -->
        <div class="question-card" data-question="6" data-points="3">
            <div class="question-header">
                <div class="question-title">×©××œ×” 6</div>
                <div class="difficulty-badge difficulty-easy">×§×œ - 3 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>ROT13:</strong> ×”×–×–×” ×©×œ 13 ××§×•××•×ª</p>
                <div class="encrypted-text">Gur orfg jnl gb cerqvpg gur shgher vf gb perngr vg.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer6" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(6)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback6"></div>
            </div>
        </div>

        <!-- Stage 6: XOR Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 6: ×¦×•×¤×Ÿ XOR</h2>
            <div class="section-description">×›×œ ×ª×• ×-XOR ×¢× ××¤×ª×—.</div>
        </div>

        <!-- Question 7 -->
        <div class="question-card" data-question="7" data-points="5">
            <div class="question-header">
                <div class="question-title">×©××œ×” 7</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 5 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>××¤×ª×— XOR:</strong> 42 (×‘×¢×©×¨×•× ×™)</p>
                <p><strong>×¨××–:</strong> XOR ×›×œ ×ª×• ×¢× ×”××¡×¤×¨ 42</p>
                <div class="encrypted-text" style="direction: ltr; text-align: left;">
50 78 68 118 68 66 42 66 78 42 66 78 68 118 68 88 42 70 94 64 88 78 64 90 90 42 78 64 78 68 78 68 88 62
                </div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer7" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(7)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback7"></div>
            </div>
        </div>

        <!-- Stage 7: Rail Fence Cipher -->
        <div class="section-header">
            <h2>×©×œ×‘ 7: ×¦×•×¤×Ÿ ×’×“×¨ ×”××¡×™×œ×” (Rail Fence)</h2>
            <div class="section-description">×”×˜×§×¡×˜ × ×›×ª×‘ ×‘×–×™×’×–×’ ×¢×œ ××¡×¤×¨ ×©×•×¨×•×ª.</div>
        </div>

        <!-- Question 8 -->
        <div class="question-card" data-question="8" data-points="5">
            <div class="question-header">
                <div class="question-title">×©××œ×” 8</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 5 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>××¡×¤×¨ ×©×•×¨×•×ª:</strong> 3</p>
                <div class="encrypted-text">Teevrhsetneiataowhh yg.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer8" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(8)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback8"></div>
            </div>
        </div>

        <!-- Question 9 -->
        <div class="question-card" data-question="9" data-points="6">
            <div class="question-header">
                <div class="question-title">×©××œ×” 9</div>
                <div class="difficulty-badge difficulty-hard">×§×©×” - 6 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>××¡×¤×¨ ×©×•×¨×•×ª:</strong> ×œ× ×™×“×•×¢ - ×¢×œ×™×›× ×œ××¦×•×!</p>
                <div class="encrypted-text">Tig  eahwhehfsryee tsb  ttm iuod  ssnatr .</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer9" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(9)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback9"></div>
            </div>
        </div>

        <!-- Stage 8: Columnar Transposition -->
        <div class="section-header">
            <h2>×©×œ×‘ 8: ×˜×¨× ×¡×¤×•×–×™×¦×™×” ×˜×•×¨×™×ª (Columnar Transposition)</h2>
            <div class="section-description">×”×˜×§×¡×˜ ××¡×•×“×¨ ×‘×˜×‘×œ×” ×œ×¤×™ ×¡×™×¡××”, ×•××– × ×§×¨× ×œ×¤×™ ×¢××•×“×•×ª.</div>
        </div>

        <!-- Question 10 -->
        <div class="question-card" data-question="10" data-points="5">
            <div class="question-header">
                <div class="question-title">×©××œ×” 10</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 5 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¡×™×¡××”:</strong> 4132</p>
                <div class="encrypted-text">Tgiasn hke  ocirtsehgmtw  </div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer10" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(10)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback10"></div>
            </div>
        </div>

        <!-- Question 11 -->
        <div class="question-card" data-question="11" data-points="6">
            <div class="question-header">
                <div class="question-title">×©××œ×” 11</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 6 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¡×™×¡××”:</strong> 31524</p>
                <div class="encrypted-text">Pes ec rssn  tuiscaed  sni e.</div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer11" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(11)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback11"></div>
            </div>
        </div>

        <!-- Question 12 -->
        <div class="question-card" data-question="12" data-points="7">
            <div class="question-header">
                <div class="question-title">×©××œ×” 12</div>
                <div class="difficulty-badge difficulty-hard">×§×©×” - 7 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¡×™×¡××”:</strong> 2413</p>
                <pre class="encrypted-text">Oyntwg ounoh  ur  aelr  yn  t  e oodpne i</pre>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer12" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(12)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback12"></div>
            </div>
        </div>

        <!-- Question 13 -->
        <div class="question-card" data-question="13" data-points="6">
            <div class="question-header">
                <div class="question-title">×©××œ×” 13</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 6 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¡×™×¡××”:</strong> 321456</p>
                <pre class="encrypted-text">bgh rcil.enttu  cyDi rtgs tu eonhna gi fiatr gsa nooi</pre>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer13" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(13)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback13"></div>
            </div>
        </div>

        <!-- Question 14 -->
        <div class="question-card" data-question="14" data-points="8">
            <div class="question-header">
                <div class="question-title">×©××œ×” 14</div>
                <div class="difficulty-badge difficulty-hard">×§×©×” - 8 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>×¡×™×¡××”:</strong> ×œ× ×™×“×•×¢×” - ×¢×œ×™×›× ×œ××¦×•×!</p>
                <pre class="encrypted-text">Ar ohao  lgar d  vnbctggtcseyan tgntnlaoa.snli  vnhe;snieao  te oarmnlacle omscseysl</pre>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer14" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(14)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback14"></div>
            </div>
        </div>

        <!-- Question 15 -->
        <div class="section-header">
            <h2>×©×œ×‘ 9: ×¦×•×¤×Ÿ ×•×™×–'× ×¨ (VigenÃ¨re)</h2>
            <div class="section-description">××©×ª××©×™× ×‘××™×œ×”-××¤×ª×— ×”×—×•×–×¨×ª ×¢×œ ×¢×¦××” ×›×“×™ ×œ×”×¦×¤×™×Ÿ ××ª ×”×”×•×“×¢×”.</div>
        </div>

        <div class="question-card" data-question="15" data-points="6">
            <div class="question-header">
                <div class="question-title">×©××œ×” 15</div>
                <div class="difficulty-badge difficulty-medium">×‘×™× ×•× ×™ - 6 × ×§×•×“×•×ª</div>
            </div>
            <div class="question-content">
                <p><strong>××™×œ×ª ××¤×ª×—:</strong> key</p>
                <div class="encrypted-text">
                    "Yrji xfywc yj tkpso ml dipww mp hyde â€“ rrmlu hgpjcbild sd xir zsqcmzvi ry hccmex eln xccx."
                </div>
            </div>
            <div class="answer-section">
                <div class="input-group">
                    <input type="text" id="answer15" placeholder="×”×–×Ÿ ××ª ×”×ª×©×•×‘×” ×›××Ÿ..." dir="ltr">
                    <button onclick="checkAnswer(15)">×‘×“×•×§ ×ª×©×•×‘×”</button>
                </div>
                <div class="feedback" id="feedback15"></div>
            </div>
        </div>

        <!-- Final Check Button -->
        <div class="final-check-container">
            <button class="final-check-btn" onclick="checkAllAnswers()">ğŸ† ×‘×“×™×§×” ×¡×•×¤×™×ª ×©×œ ×›×œ ×”×ª×©×•×‘×•×ª ğŸ†</button>
        </div>
    </div>

    <!-- Final Score Modal -->
    <div class="modal" id="finalModal">
        <div class="modal-content">
            <h2>ğŸ† ×ª×—×¨×•×ª ×”×¡×ª×™×™××”!</h2>
            <div class="score" id="finalScore">0</div>
            <p style="margin-top: 20px; color: var(--text-secondary);">× ×§×•×“×•×ª</p>
            <p style="margin-top: 20px;">×¢×‘×•×“×” ××¦×•×™× ×ª! ğŸš€</p>
            <button onclick="location.reload()" style="margin-top: 30px;">×”×ª×—×œ ××—×“×©</button>
        </div>
    </div>

    <script>
        // SHA-256 implementation
        function sha256(str) {
            function rightRotate(value, amount) {
                return (value >>> amount) | (value << (32 - amount));
            }
            
            const mathPow = Math.pow;
            const maxWord = mathPow(2, 32);
            const lengthProperty = 'length';
            let result = '';
            const words = [];
            const asciiBitLength = str[lengthProperty] * 8;
            
            let hash = sha256.h = sha256.h || [];
            const k = sha256.k = sha256.k || [];
            let primeCounter = k[lengthProperty];
            
            const isComposite = {};
            for (let candidate = 2; primeCounter < 64; candidate++) {
                if (!isComposite[candidate]) {
                    for (let i = 0; i < 313; i += candidate) {
                        isComposite[i] = candidate;
                    }
                    hash[primeCounter] = (mathPow(candidate, .5) * maxWord) | 0;
                    k[primeCounter++] = (mathPow(candidate, 1 / 3) * maxWord) | 0;
                }
            }
            
            str += '\x80';
            while (str[lengthProperty] % 64 - 56) str += '\x00';
            for (let i = 0; i < str[lengthProperty]; i++) {
                const j = str.charCodeAt(i);
                if (j >> 8) return;
                words[i >> 2] |= j << ((3 - i) % 4) * 8;
            }
            words[words[lengthProperty]] = ((asciiBitLength / maxWord) | 0);
            words[words[lengthProperty]] = (asciiBitLength);
            
            for (let j = 0; j < words[lengthProperty];) {
                const w = words.slice(j, j += 16);
                const oldHash = hash;
                hash = hash.slice(0, 8);
                
                for (let i = 0; i < 64; i++) {
                    const w15 = w[i - 15], w2 = w[i - 2];
                    const a = hash[0], e = hash[4];
                    const temp1 = hash[7]
                        + (rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25))
                        + ((e & hash[5]) ^ ((~e) & hash[6]))
                        + k[i]
                        + (w[i] = (i < 16) ? w[i] : (
                            w[i - 16]
                            + (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ (w15 >>> 3))
                            + w[i - 7]
                            + (rightRotate(w2, 17) ^ rightRotate(w2, 19) ^ (w2 >>> 10))
                        ) | 0
                        );
                    const temp2 = (rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22))
                        + ((a & hash[1]) ^ (a & hash[2]) ^ (hash[1] & hash[2]));
                    
                    hash = [(temp1 + temp2) | 0].concat(hash);
                    hash[4] = (hash[4] + temp1) | 0;
                }
                
                for (let i = 0; i < 8; i++) {
                    hash[i] = (hash[i] + oldHash[i]) | 0;
                }
            }
            
            for (let i = 0; i < 8; i++) {
                for (let j = 3; j + 1; j--) {
                    const b = (hash[i] >> (j * 8)) & 255;
                    result += ((b < 16) ? 0 : '') + b.toString(16);
                }
            }
            return result;
        }

        // Hashed answers dictionary (SHA-256)
        const hashedAnswers = {
            1: "3f27e339d2b93625eab457d5c3dfa89f1879767a5ebc37577ead13b6cab7c03f",
            2: "118c5a9ace40eb72d96bbcbcfda9f37c09540835b0c36a33aaacfb6499c2f28e",
            3: "23915bd8e71f30539cea3d8ea5e98818e3cadc0ade2c01a01d4d4771640b5131",
            4: "5f9dd4d82b28ce9b7dc706f643d03aa7df4a5e28417b77893ab5228366ef09fa",
            5: "85498ff9f6f9061d34ddd624771ad093b496530bf4392744f0003e160306933b",
            6: "8300b80625fa6d2e2f653eec50b762abf4677cf7ce13e921628c940031773a00",
            7: "759e5603fedbecf445752900a51dddedbe30442634b4583df34d4542d757af19",
            8: "ab95f66ef01d975efd3f6077b4cf67a9267aad99fe304f08d8aca4b8c096d2a3",
            9: "71da35b8e90be3d1512d1d6e5414f5ad438a6cd9bde0c642afbcbf06d98ac714",
            10: "4ff373bd249f82aa7876d64dcd979caae65275f2359cb50c229523d280d3b07a",
            11: "3711a8b78ea0e67aa0bd0b51fa5e841cddb6c74d6e81521c6bae9741671d9d3c",
            12: "eba295b4e5b960c0fa830f83014e9d891690c217c04209288ccfa5ed351ce853",
            13: "4c73eafeabbf6814961de1190bccc01f16bcd26166fe3a5b1c03fd3478bdba7b",
            14: "e2a5d257e66b88e21be015d5402a4e89348056c2cbcd2959e2635bfa93904c58",
            15: "9e770b950673f220bad1cd2ff5625f1a517df0c0962c470e0903b9d6ce1d8342"
        };

        // Game state
        let score = 0;
        let solved = 0;
        let timeLeft = 3600; // 60 minutes in seconds
        let timerInterval;

        // Start timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Warning when 5 minutes left
            if (timeLeft <= 300 && !timerElement.classList.contains('warning')) {
                timerElement.classList.add('warning');
            }
        }

        function checkAnswer(questionNum) {
            const input = document.getElementById(`answer${questionNum}`);
            const feedback = document.getElementById(`feedback${questionNum}`);
            const userAnswer = input.value.trim();
            
            if (!userAnswer) {
                feedback.className = 'feedback show incorrect';
                feedback.textContent = 'âŒ ×× × ×”×–×Ÿ ×ª×©×•×‘×”!';
                return;
            }
            
            const correctHashedAnswer = hashedAnswers[questionNum];
            
            // Check if already solved
            const card = document.querySelector(`[data-question="${questionNum}"]`);
            if (card.classList.contains('solved')) {
                feedback.className = 'feedback show incorrect';
                feedback.textContent = 'âŒ ×›×‘×¨ ×¤×ª×¨×ª ×©××œ×” ×–×•!';
                return;
            }
            
            // Hash the user's answer using our SHA-256 implementation
            const userHash = sha256(userAnswer);
            
            if (userHash === correctHashedAnswer) {
                const points = parseInt(card.dataset.points);
                score += points;
                solved++;
                
                input.classList.remove('incorrect');
                input.classList.add('correct');
                feedback.className = 'feedback show correct';
                feedback.textContent = `âœ… × ×›×•×Ÿ! ×§×™×‘×œ×ª ${points} × ×§×•×“×•×ª!`;
                card.classList.add('solved');
                
                updateDashboard();
                
                // Check if all solved
                if (solved === 15) {
                    setTimeout(endGame, 1500);
                }
            } else {
                input.classList.remove('correct');
                input.classList.add('incorrect');
                feedback.className = 'feedback show incorrect';
                feedback.textContent = 'âŒ ×ª×©×•×‘×” ×©×’×•×™×”. × ×¡×” ×©×•×‘!';
            }
        }

        function checkAllAnswers() {
            let unanswered = [];
            let incorrect = [];
            let totalCorrect = 0;
            
            // Go through all 15 questions
            for (let i = 1; i <= 15; i++) {
                const input = document.getElementById(`answer${i}`);
                const card = document.querySelector(`[data-question="${i}"]`);
                const userAnswer = input.value.trim();
                
                // Skip if already solved
                if (card.classList.contains('solved')) {
                    totalCorrect++;
                    continue;
                }
                
                // Check if answered
                if (!userAnswer) {
                    unanswered.push(i);
                    continue;
                }
                
                // Check if correct
                const userHash = sha256(userAnswer);
                const correctHashedAnswer = hashedAnswers[i];
                
                if (userHash === correctHashedAnswer) {
                    // Mark as correct
                    const points = parseInt(card.dataset.points);
                    score += points;
                    solved++;
                    totalCorrect++;
                    
                    input.classList.remove('incorrect');
                    input.classList.add('correct');
                    const feedback = document.getElementById(`feedback${i}`);
                    feedback.className = 'feedback show correct';
                    feedback.textContent = `âœ… × ×›×•×Ÿ! ×§×™×‘×œ×ª ${points} × ×§×•×“×•×ª!`;
                    card.classList.add('solved');
                } else {
                    incorrect.push(i);
                    input.classList.add('incorrect');
                    const feedback = document.getElementById(`feedback${i}`);
                    feedback.className = 'feedback show incorrect';
                    feedback.textContent = 'âŒ ×ª×©×•×‘×” ×©×’×•×™×”!';
                }
            }
            
            updateDashboard();
            
            // Show summary
            let message = `âœ¨ ×¡×™×›×•× ×‘×“×™×§×” ×¡×•×¤×™×ª âœ¨\n\n`;
            message += `âœ… ×ª×©×•×‘×•×ª × ×›×•× ×•×ª: ${totalCorrect}/15\n`;
            
            if (incorrect.length > 0) {
                message += `âŒ ×ª×©×•×‘×•×ª ×©×’×•×™×•×ª: ×©××œ×•×ª ${incorrect.join(', ')}\n`;
            }
            
            if (unanswered.length > 0) {
                message += `âš ï¸ ×œ× × ×¢× ×•: ×©××œ×•×ª ${unanswered.join(', ')}\n`;
            }
            
            message += `\nğŸ¯ × ×™×§×•×“ ×›×•×œ×œ: ${score} × ×§×•×“×•×ª`;
            
            alert(message);
            
            // If all correct, end game
            if (totalCorrect === 15) {
                setTimeout(endGame, 1500);
            }
        }

        function updateDashboard() {
            document.getElementById('score').textContent = score;
            document.getElementById('solved').textContent = `${solved}/15`;
            const progress = (solved / 15) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function endGame() {
            clearInterval(timerInterval);
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalModal').classList.add('show');
        }

        // Initialize
        window.addEventListener('load', () => {
            startTimer();
        });

        // Prevent page refresh accidentally
        window.addEventListener('beforeunload', (e) => {
            if (solved < 15 && timeLeft > 0) {
                e.preventDefault();
                e.returnValue = '';
            }
        });

        // Allow Enter key to check answer
        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const activeElement = document.activeElement;
                if (activeElement && activeElement.tagName === 'INPUT') {
                    const questionNum = activeElement.id.replace('answer', '');
                    checkAnswer(parseInt(questionNum));
                }
            }
        });
    </script>
</body>
</html>
