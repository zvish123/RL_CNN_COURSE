<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wireshark + ARP Spoofing/MITM â€” ×–×™×”×•×™ ×¤×¢×™×œ×•×ª arpspoof</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#111b2e;
      --card2:#0f172a;
      --text:#e7eefc;
      --muted:#b6c3df;
      --accent:#4f8cff;
      --good:#3ddc97;
      --bad:#ff5c7a;
      --warn:#ffd166;
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --radius: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans Hebrew", sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 600px at 20% 10%, rgba(79,140,255,.25), transparent 60%),
                  radial-gradient(900px 500px at 90% 40%, rgba(61,220,151,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
      min-height:100vh;
      overflow:hidden;
    }

    /* Top bar */
    .topbar{
      position:fixed; inset:0 0 auto 0;
      padding:14px 18px;
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      background: linear-gradient(to bottom, rgba(11,18,32,.92), rgba(11,18,32,.65));
      backdrop-filter: blur(10px);
      z-index:10;
      border-bottom:1px solid rgba(231,238,252,.08);
    }
    .brand{
      display:flex; gap:12px; align-items:center;
      min-width: 260px;
    }
    .badge{
      width:44px; height:44px; border-radius:14px;
      display:grid; place-items:center;
      background: rgba(79,140,255,.18);
      border:1px solid rgba(79,140,255,.35);
      box-shadow: var(--shadow);
      font-size:22px;
    }
    .brand h1{
      margin:0;
      font-size:15px;
      line-height:1.2;
      letter-spacing:.2px;
    }
    .brand p{
      margin:2px 0 0 0;
      font-size:18px;
      color:var(--muted);
    }
    .controls{
      display:flex; gap:10px; align-items:center;
    }
    button{
      border:0;
      background: rgba(231,238,252,.08);
      color:var(--text);
      padding:10px 14px;
      border-radius:12px;
      cursor:pointer;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
      border:1px solid rgba(231,238,252,.10);
      font-weight:600;
    }
    button:hover{ background: rgba(231,238,252,.12); }
    button:active{ transform: translateY(1px); }
    .primary{
      background: rgba(79,140,255,.20);
      border-color: rgba(79,140,255,.40);
    }
    .primary:hover{ background: rgba(79,140,255,.28); }
    .ghost{
      background: transparent;
      border-color: rgba(231,238,252,.14);
    }

    /* Progress */
    .progress-wrap{
      position:fixed; inset:auto 0 0 0;
      padding: 10px 18px 14px;
      z-index:10;
      background: linear-gradient(to top, rgba(11,18,32,.92), rgba(11,18,32,.55));
      backdrop-filter: blur(10px);
      border-top:1px solid rgba(231,238,252,.08);
    }
    .progress{
      height:10px;
      background: rgba(231,238,252,.10);
      border-radius: 999px;
      overflow:hidden;
      border:1px solid rgba(231,238,252,.10);
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(79,140,255,.95), rgba(61,220,151,.85));
      border-radius: 999px;
      transition: width .25s ease;
    }
    .progress-meta{
      display:flex; justify-content:space-between; align-items:center;
      margin-top:8px;
      font-size:18px; color:var(--muted);
    }

    /* Slides */
    .stage{
      position:fixed;
      inset: 74px 0 62px 0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .deck{
      width:min(1100px, 100%);
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .slide{
      display:none;
      width:100%;
      max-height:100%;
      overflow:auto;
      padding: 26px;
    }
    .slide.active{ display:block; }
    .card{
      background: linear-gradient(180deg, rgba(17,27,46,.96), rgba(15,23,42,.92));
      border:1px solid rgba(231,238,252,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 26px;
    }
    .title{
      font-size: 34px;
      margin: 0 0 10px 0;
      line-height:1.1;
      letter-spacing:.2px;
    }
    .subtitle{
      margin: 0 0 18px 0;
      color: var(--muted);
      font-size: 20px;
      line-height:1.6;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
    }
    @media (max-width: 900px){
      .grid{ grid-template-columns: 1fr; }
      .brand{ min-width: 0; }
    }

    .kpi{
      background: rgba(231,238,252,.06);
      border:1px solid rgba(231,238,252,.10);
      border-radius: 16px;
      padding: 16px;
    }
    .kpi h3{
      margin:0 0 8px 0;
      font-size:14px;
      color: var(--muted);
      letter-spacing:.2px;
    }
    .kpi .big{
      font-size:18px;
      font-weight:800;
      line-height:1.35;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(79,140,255,.14);
      border:1px solid rgba(79,140,255,.35);
      color: var(--text);
      font-size:16px;
      font-weight:700;
      margin: 4px 8px 4px 0;
    }
    .pill.warn{
      background: rgba(255,209,102,.12);
      border-color: rgba(255,209,102,.35);
    }
    .pill.good{
      background: rgba(61,220,151,.12);
      border-color: rgba(61,220,151,.35);
    }

    .bullets{
      margin: 12px 0 0 0;
      padding: 0 18px 0 0;
      color: var(--text);
      line-height:1.75;
    }
    .bullets li{ margin: 6px 0; }
    .muted{ color: var(--muted); }

    .code{
      direction:ltr;
      text-align:left;
      font-family: var(--mono);
      background: rgba(3,7,18,.55);
      border:1px solid rgba(231,238,252,.12);
      border-radius: 14px;
      padding: 14px 16px;
      overflow:auto;
      font-size: 16px;
      line-height:1.55;
      margin: 12px 0;
      white-space: pre;
    }
    .callout{
      border-right: 5px solid rgba(79,140,255,.75);
      background: rgba(79,140,255,.10);
      border-radius: 14px;
      padding: 14px 16px;
      margin: 12px 0;
      line-height:1.7;
    }
    .callout.warn{
      border-right-color: rgba(255,209,102,.85);
      background: rgba(255,209,102,.10);
    }
    .callout.good{
      border-right-color: rgba(61,220,151,.85);
      background: rgba(61,220,151,.10);
    }

    /* Quiz */
    .quiz{
      margin-top: 14px;
      display:grid;
      gap:10px;
    }
    .option{
      display:flex;
      align-items:flex-start;
      gap:10px;
      padding: 12px 14px;
      border-radius: 14px;
      border:1px solid rgba(231,238,252,.14);
      background: rgba(231,238,252,.06);
      cursor:pointer;
      transition: background .15s ease, border-color .15s ease, transform .08s ease;
      user-select:none;
    }
    .option:hover{
      background: rgba(231,238,252,.08);
      border-color: rgba(231,238,252,.20);
    }
    .option:active{ transform: translateY(1px); }
    .dot{
      width:14px; height:14px; border-radius:999px;
      margin-top: 4px;
      background: rgba(231,238,252,.25);
      border:1px solid rgba(231,238,252,.28);
      flex:0 0 auto;
    }
    .option.correct{
      border-color: rgba(61,220,151,.55);
      background: rgba(61,220,151,.10);
    }
    .option.wrong{
      border-color: rgba(255,92,122,.55);
      background: rgba(255,92,122,.10);
    }
    .option.correct .dot{ background: rgba(61,220,151,.85); border-color: rgba(61,220,151,.85); }
    .option.wrong .dot{ background: rgba(255,92,122,.85); border-color: rgba(255,92,122,.85); }

    .feedback{
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 14px;
      border:1px solid rgba(231,238,252,.14);
      background: rgba(231,238,252,.05);
      color: var(--muted);
      line-height:1.7;
      display:none;
    }
    .feedback.show{ display:block; }
    .feedback.good{ border-color: rgba(61,220,151,.35); color: var(--text); background: rgba(61,220,151,.08); }
    .feedback.bad{ border-color: rgba(255,92,122,.35); color: var(--text); background: rgba(255,92,122,.08); }

    .small{ font-size: 13px; color: var(--muted); }

    /* Footer hint */
    .hint{
      position: fixed;
      right: 18px;
      bottom: 76px;
      z-index: 9;
      background: rgba(231,238,252,.06);
      border:1px solid rgba(231,238,252,.12);
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 12px;
      color: var(--muted);
      backdrop-filter: blur(10px);
    }
    .kbd{
      direction:ltr;
      display:inline-block;
      padding: 2px 8px;
      border-radius: 8px;
      border:1px solid rgba(231,238,252,.18);
      background: rgba(3,7,18,.55);
      color: var(--text);
      font-family: var(--mono);
      font-size: 12px;
      margin:0 4px;
    }
    a { color: #a8c7ff; text-decoration: none; }
    a:hover{ text-decoration: underline; }
  </style>
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <div class="badge">ğŸ§ª</div>
      <div>
        <h1>×–×™×”×•×™ ARP Spoofing & MITM ×‘-Wireshark (×œ××—×¨ arpspoof)</h1>
        <p>×›×™×ª×” ×™"× ×¡×™×™×‘×¨ â€¢ ××¢×‘×“×” ××•×¨×©×™×ª ×‘×œ×‘×“ â€¢ Wireshark + Kali VM</p>
      </div>
    </div>
    <div class="controls">
      <button class="ghost" id="btnOverview" title="×¨×©×™××ª ×©×§×¤×™×">ğŸ“š ×ª×•×›×Ÿ</button>
      <button class="ghost" id="btnRestart" title="×”×ª×—×œ×” ××—×“×©">ğŸ” ××ª×—×•×œ</button>
      <button id="btnPrev" title="×©×§×£ ×§×•×“×">â¡ï¸ ×§×•×“×</button>
      <button class="primary" id="btnNext" title="×©×§×£ ×”×‘×">×”×‘× â¬…ï¸</button>
    </div>
  </header>

  <main class="stage">
    <div class="deck">

      <!-- Slide 1 -->
      <section class="slide active" data-title="×¤×ª×™×—×”">
        <div class="card">
          <h2 class="title">ARP Spoofing + MITM: ××™×š ××–×”×™× ×‘-Wireshark?</h2>
          <p class="subtitle">
            ×”×™×•× × ×œ××“ ×œ×–×”×•×ª ×‘×¨×©×ª ××ª <b>×”×¤×¢×™×œ×•×ª ×©× ×•×¦×¨×ª ××—×¨×™ ×”×¨×¦×ª</b>:
          </p>
          <div class="code">arpspoof -i eth0 -t 192.168.1.1 192.168.1.10</div>

          <div class="grid" style="margin-top:12px;">
            <div>
              <div class="callout warn">
                <b>×›×œ×œ ×‘×¨×–×œ:</b> ×¢×•×‘×“×™× ×¨×§ ×‘×¡×‘×™×‘×ª ××¢×‘×“×”/×›×™×ª×” ×¢× ××™×©×•×¨.
                Arp spoofing ×”×•× ×›×œ×™ ×”×ª×§×¤×™ ×©××˜×¨×ª×• ×œ×”×˜×¢×•×ª ×˜×‘×œ××•×ª ARP.
              </div>
              <ul class="bullets">
                <li><b>× ×‘×™×Ÿ</b> ××” ARP ×¢×•×©×” ×•×œ××” ×§×œ ×œ×”×˜×¢×•×ª ××•×ª×•.</li>
                <li><b>× ×¨××”</b> ××” arpspoof â€œ××©×“×¨â€ ×‘×¤×•×¢×œ.</li>
                <li><b>× ×œ××“</b> ×¤×™×œ×˜×¨×™× ×‘-Wireshark ×©××‘×•×“×“×™× ××ª ×”×”×ª× ×”×’×•×ª.</li>
                <li><b>× ×‘×“×•×§</b> ×× ×–×” ×¨×§ Poisoning ×œ×›×™×•×•×Ÿ ××—×“ ××• MITM ××œ×.</li>
              </ul>
            </div>
            <div>
              <div class="kpi">
                <h3>×™×¢×“×™ ×”×ª×¨×’×•×œ</h3>
                <div class="big">×œ×–×”×•×ª ARP Replies ××–×•×™×¤×™×</div>
                <div class="muted">×•×œ×”×¡×™×§ ××™ â€œ××©×§×¨â€ ×œ××™, ×•×‘××™×–×” ×›×™×•×•×Ÿ.</div>
              </div>
              <div class="kpi" style="margin-top:12px;">
                <h3>×”×’×“×¨×•×ª ×“×•×’××”</h3>
                <div class="big">
                  Gateway: <span class="pill">192.168.1.1</span><br/>
                  Victim: <span class="pill">192.168.1.10</span><br/>
                  Attacker: <span class="pill warn">Kali (eth0)</span>
                </div>
              </div>
            </div>
          </div>

          <p class="small">×˜×™×¤ × ×™×•×•×˜: ××§×©×™× <span class="kbd">â†</span> <span class="kbd">â†’</span> ×œ×©×§×¤×™×, <span class="kbd">R</span> ××ª×—×•×œ.</p>
        </div>
      </section>

      <!-- Slide 2 -->
      <section class="slide" data-title="××” ×–×” ARP?">
        <div class="card">
          <h2 class="title">××” ×–×” ARP (×‘×¤×©×˜×•×ª)?</h2>
          <p class="subtitle">
            ARP ×”×•× ×¤×¨×•×˜×•×§×•×œ ×©××ª×¨×’× <b>IP â†’ MAC</b> ×‘×ª×•×š ×¨×©×ª ××§×•××™×ª (LAN).
            ×›×“×™ ×œ×©×œ×•×— ××¡×’×¨×ª Ethernet ×¦×¨×™×š ×œ×“×¢×ª MAC ×©×œ ×”×™×¢×“.
          </p>

          <div class="grid">
            <div>
              <div class="pill good">ARP Request</div>
              <div class="code">Who has 192.168.1.10? Tell 192.168.1.20</div>

              <div class="pill good" style="margin-top:8px;">ARP Reply</div>
              <div class="code">192.168.1.10 is-at AA:BB:CC:DD:EE:FF</div>

              <div class="callout">
                <b>×—×©×•×‘:</b> ARP â€œ×¡×•××šâ€ ×¢×œ ×ª×©×•×‘×•×ª â€” ××™×Ÿ ×—×ª×™××” ×§×¨×™×¤×˜×•×’×¨×¤×™×ª.
                ×œ×›×Ÿ ××¤×©×¨ ×œ×©×§×¨ ×•×œ×”×—×œ×™×£ ×©×™×•×š IPâ†”MAC.
              </div>
            </div>

            <div>
              <div class="kpi">
                <h3>××™×¤×” ×–×” × ×©××¨?</h3>
                <div class="big">ARP Table / Neighbor Cache</div>
                <div class="muted">××™×¤×•×™ ×–×× ×™: IP â†” MAC</div>
              </div>
              <div class="kpi" style="margin-top:12px;">
                <h3>××˜×¨×” ×©×œ ×”×ª×•×§×£</h3>
                <div class="big">×œ×’×¨×•× ×œ×§×•×¨×‘×Ÿ/× ×ª×‘ ×œ×©×œ×•×— ××œ×™×• ×ª×¢×‘×•×¨×”</div>
                <div class="muted">×›×“×™ ×œ×™×™×¨×˜ (MITM) ××• ×œ×©×‘×© (DoS).</div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- Slide 3 -->
      <section class="slide" data-title="ARP Spoofing ×•-MITM">
        <div class="card">
          <h2 class="title">ARP Spoofing â‰  MITM (××‘×œ ×–×” ×”×©×¢×¨ ××œ×™×•)</h2>
          <p class="subtitle">
            <b>ARP Spoofing</b> = â€œ×”×¨×¢×œ×”â€ ×©×œ ×˜×‘×œ×ª ARP: <span class="muted">IP ×©×œ ××™×©×”×• â†’ MAC ×©×œ×™</span><br/>
            <b>MITM</b> = ×ª×¢×‘×•×¨×” ×¢×•×‘×¨×ª ×“×¨×›×™ ×‘×¤×•×¢×œ, ×•×× ×™ ×™×›×•×œ ×œ×¦×¤×•×ª/×œ×©× ×•×ª/×œ×”×¢×‘×™×¨ ×”×œ××”.
          </p>

          <div class="grid">
            <div>
              <div class="kpi">
                <h3>××” ×§×•×¨×” ××—×¨×™ ×”×¤×§×•×“×” ×©×œ× ×•?</h3>
                <div class="big">×× ×—× ×• â€œ××“×‘×¨×™×â€ ××œ ×”× ×ª×‘ (Gateway)</div>
                <div class="muted">×•×× ×¡×™× ×œ×©×›× ×¢ ××•×ª×• ×©×”×§×•×¨×‘×Ÿ 192.168.1.10 ×”×•× ×”-MAC ×©×œ Kali.</div>
              </div>

              <div class="callout warn">
                <b>×©×™× ×œ×‘:</b> ×”×¤×§×•×“×” ×©×¡×™×¤×§×ª ××¨×¢×™×œ×” ×‘×¢×™×§×¨ ××ª <b>×”× ×ª×‘</b>.
                ×›×“×™ MITM â€œ××œ×â€ ×œ×¨×•×‘ ××¨×™×¦×™× ×’× ××ª ×”×›×™×•×•×Ÿ ×”×”×¤×•×š (××œ ×”×§×•×¨×‘×Ÿ)
                ×•××¤×¢×™×œ×™× ×”×¢×‘×¨×ª IP (IP forwarding).
              </div>
            </div>

            <div>
              <div class="kpi">
                <h3>×”×¤×§×•×“×”</h3>
                <div class="code">arpspoof -i eth0 -t 192.168.1.1 192.168.1.10</div>
                <div class="muted">
                  <b>-t</b> = ×”×™×¢×“ ×©××§×‘×œ ××ª ×”×©×§×¨ (×”× ×ª×‘)<br/>
                  ×”××¨×’×•×× ×˜ ×”××—×¨×•×Ÿ = ××™ â€œ××ª×—×–×”â€ (×”×§×•×¨×‘×Ÿ)
                </div>
              </div>

              <div class="kpi" style="margin-top:12px;">
                <h3>×”×˜×¢× ×” ×”××–×•×™×¤×ª</h3>
                <div class="big">â€œ192.168.1.10 is-at &lt;MAC ×©×œ Kali&gt;â€</div>
                <div class="muted">× ×©×œ×— ×©×•×‘ ×•×©×•×‘ ××œ 192.168.1.1</div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- Slide 4 -->
      <section class="slide" data-title="×”×›× ×” ×œ×œ×›×™×“×”">
        <div class="card">
          <h2 class="title">×œ×¤× ×™ ×©××¡×ª×›×œ×™×: ××™×š ×œ×œ×›×•×“ × ×›×•×Ÿ?</h2>
          <p class="subtitle">
            ×× ×”×œ×›×™×“×” ×œ× × ×›×•× ×” â€” ×œ× ×ª×¨××• ××ª ×”×“×¤×•×¡. ×–×” ××” ×©×¢×•×©×™× ×‘×›×™×ª×”/××¢×‘×“×”.
          </p>

          <ul class="bullets">
            <li>×‘-Wireshark ×‘×—×¨×• ××ª ×”×××©×§ ×©×œ Kali: ×œ×¨×•×‘ <b>eth0</b> (×•×•×“××• ×ª×¢×‘×•×¨×” × ×¢×”).</li>
            <li>×”×ª×—×™×œ×• Capture ×•××– ×”×¨×™×¦×• ××ª arpspoof.</li>
            <li>×¨×¦×•×™ ×œ×œ×›×•×“ <b>30â€“60 ×©× ×™×•×ª</b> ×›×“×™ ×œ×¨××•×ª ×—×–×¨×ª×™×•×ª.</li>
            <li>×¤×ª×—×• ×¢××•×“×•×ª ARP (×× ××™×Ÿ): <span class="muted">Sender IP, Sender MAC, Target IP, Target MAC</span>.</li>
          </ul>

          <div class="callout good">
            <b>×ª×•×¦×¨ ×¦×¤×•×™ ×‘×œ×›×™×“×”:</b> ×”×¨×‘×” ××¡×’×¨×•×ª ARP Reply ×©×—×•×–×¨×•×ª ×¢×œ ××•×ª×” â€œ×”×¦×”×¨×”â€
            ×‘×ª×“×™×¨×•×ª ×§×‘×•×¢×” â€” ×–×” ×¡×™××Ÿ â€œ×—×ª×™××”â€ ×©×œ arpspoof.
          </div>

          <div class="code">×¤×™×œ×˜×¨ ×¤×ª×™×—×” ××”×™×¨ ×‘-Wireshark:
arp</div>
        </div>
      </section>

      <!-- Slide 5 -->
      <section class="slide" data-title="×”×—×ª×™××” ×©×œ arpspoof">
        <div class="card">
          <h2 class="title">×”×—×ª×™××” ×©×œ arpspoof ×‘×œ×›×™×“×”</h2>
          <p class="subtitle">
            ××—×¨×™ ×”×¤×§×•×“×” ×©×œ×š, ×—×¤×©×• ARP Replies (â€œis-atâ€) ×©××¦×™×’×™× <b>×©×§×¨ ×¢×§×‘×™</b>.
          </p>

          <div class="grid">
            <div>
              <div class="pill">××” ×¨×•××™×?</div>
              <ul class="bullets">
                <li><b>Opcode = Reply</b> (×‘×“×¨×š ×›×œ×œ opcode 2).</li>
                <li><b>Sender IP</b> × ×¨××” ×›××• ×”×§×•×¨×‘×Ÿ: <b>192.168.1.10</b></li>
                <li><b>Sender MAC</b> ×‘×¤×•×¢×œ ×”×•× ×”-MAC ×©×œ Kali (×”×ª×•×§×£).</li>
                <li><b>Target IP</b> ×”×•× ×”× ×ª×‘: <b>192.168.1.1</b></li>
                <li>××•×ª×• ××©×¤×˜ ×—×•×–×¨ <b>×”×¨×‘×” ×¤×¢××™×</b> ×›×“×™ â€œ×œ×©××¨â€ ××ª ×”×”×¨×¢×œ×”.</li>
              </ul>

              <div class="callout warn">
                <b>Unsolicited ARP:</b> ×œ×¢×™×ª×™× ×ª×¨××• Replies ×‘×œ×™ Requests ×§×•×“××™× â€” ×–×” ×—×©×•×“ ×××•×“.
              </div>
            </div>

            <div>
              <div class="pill">×¤×™×œ×˜×¨×™× ×××•×§×“×™×</div>
              <div class="code">arp.opcode == 2</div>
              <div class="code">arp.opcode == 2 && arp.dst.proto_ipv4 == 192.168.1.1</div>
              <div class="code">arp.opcode == 2 && arp.src.proto_ipv4 == 192.168.1.10</div>

              <div class="callout">
                <b>××” ×¢×•×©×™× ×‘×¤×•×¢×œ?</b><br/>
                1) ××¡× × ×™× ×œÖ¾ARP Reply<br/>
                2) ××‘×•×“×“×™× ××™ ××§×‘×œ (Gateway)<br/>
                3) ×‘×•×“×§×™× ×”×× Sender IP â€œ××ª×—×–×”â€ ×œ×§×•×¨×‘×Ÿ
              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- Slide 6 -->
      <section class="slide" data-title="×‘×“×™×§×ª MITM ××œ×">
        <div class="card">
          <h2 class="title">××™×š ××–×”×™× ×× ×–×” MITM ××œ× ××• ×¨×§ ×›×™×•×•×Ÿ ××—×“?</h2>
          <p class="subtitle">
            MITM ××œ× ×œ×¨×•×‘ ××•××¨: ×’× ×”× ×ª×‘ ×•×’× ×”×§×•×¨×‘×Ÿ â€œ××××™× ×™×â€ ×©×”-MAC ×©×œ Kali ×©×™×™×š ×œ×¦×“ ×”×©× ×™.
          </p>

          <div class="grid">
            <div>
              <div class="kpi">
                <h3>×‘×¤×§×•×“×” ×©×œ×š (×›×™×•×•×Ÿ ××—×“)</h3>
                <div class="big">Gateway ××•×¨×¢×œ ×œ×’×‘×™ 192.168.1.10</div>
                <div class="muted">×ª×¨××” ARP Reply ×œ×›×™×•×•×Ÿ 192.168.1.1</div>
              </div>

              <div class="kpi" style="margin-top:12px;">
                <h3>×‘-MITM ××œ× (×©× ×™ ×›×™×•×•× ×™×)</h3>
                <div class="big">×’× Victim ××•×¨×¢×œ ×œ×’×‘×™ 192.168.1.1</div>
                <div class="muted">×ª×¨××” ARP Reply ×’× ×œ×›×™×•×•×Ÿ 192.168.1.10</div>
              </div>

              <div class="callout warn">
                <b>×¨××– ×œ×–×™×”×•×™:</b> ×—×¤×©×• ×’× ××¡×’×¨×•×ª ARP ×©××¦×”×™×¨×•×ª<br/>
                â€œ192.168.1.1 is-at &lt;MAC ×©×œ Kali&gt;â€ ××œ ×”×§×•×¨×‘×Ÿ.
              </div>
            </div>

            <div>
              <div class="pill">×¤×™×œ×˜×¨ â€œ×›×™×•×•×Ÿ ×œ×§×•×¨×‘×Ÿâ€</div>
              <div class="code">arp.opcode == 2 && arp.dst.proto_ipv4 == 192.168.1.10</div>

              <div class="pill">×¡×™××Ÿ ×—×–×§: ×›×¤×™×œ×•×ª IP</div>
              <ul class="bullets">
                <li>Statistics â†’ <b>Endpoints</b> (Ethernet/ARP)</li>
                <li>Analyze â†’ <b>Expert Information</b> (×œ×¢×™×ª×™× â€œDuplicate IP addressâ€)</li>
                <li>××•×ª×• IP ××•×¤×™×¢ ×¢× <b>×™×•×ª×¨ ×-MAC ××—×“</b> ×œ××•×¨×š ×”×–××Ÿ</li>
              </ul>
            </div>
          </div>

        </div>
      </section>

      <!-- Slide 7 -->
      <section class="slide" data-title="××©×™××ª ××¢×‘×“×”">
        <div class="card">
          <h2 class="title">××©×™××ª ××¢×‘×“×” (10â€“15 ×“×§×³)</h2>
          <p class="subtitle">
            ×”××˜×¨×”: ×œ×”×•×›×™×— ×‘-Wireshark ×©-ARP Poisoning ××ª×¨×—×© ×•×œ×”×¦×‘×™×¢ ×¢×œ â€œ××™ ××©×§×¨ ×œ××™â€.
          </p>

          <ol class="bullets">
            <li>×”×ª×—×™×œ×• Capture ×¢×œ <b>eth0</b> ×‘-Kali.</li>
            <li>×”×¨×™×¦×• ××ª ×”×¤×§×•×“×”:
              <div class="code">arpspoof -i eth0 -t 192.168.1.1 192.168.1.10</div>
            </li>
            <li>×‘-Wireshark ×”×¤×¢×™×œ×• ×¤×™×œ×˜×¨:
              <div class="code">arp.opcode == 2</div>
            </li>
            <li>××¦××• 3 ××¡×’×¨×•×ª ×—×©×•×“×•×ª ×•×”×©×œ×™××•:
              <ul class="bullets">
                <li>Sender IP = ?</li>
                <li>Sender MAC = ? (×œ××™ ×”×•× ×©×™×™×š ×‘×××ª?)</li>
                <li>Target IP = ?</li>
              </ul>
            </li>
            <li>×¦×™×œ×•× ××¡×š + ××©×¤×˜ ××¡×›×: â€œ×”× ×ª×‘ ××××™×Ÿ ×©-_____ × ××¦× ×¢×œ MAC ×©×œ _____â€.</li>
          </ol>

          <div class="callout good">
            <b>×‘×•× ×•×¡:</b> × ×¡×• ×œ×–×”×•×ª ×”×× ×™×© ×’× â€œ×›×™×•×•×Ÿ ×”×¤×•×šâ€ ××œ ×”×§×•×¨×‘×Ÿ ×‘×¢×–×¨×ª ×¤×™×œ×˜×¨
            <span class="muted">arp.dst.proto_ipv4 == 192.168.1.10</span>.
          </div>
        </div>
      </section>

      <!-- Slide 8: Quiz 1 -->
      <section class="slide" data-title="×©××œ×” 1">
        <div class="card">
          <h2 class="title">×©××œ×ª ×”×‘× ×” 1</h2>
          <p class="subtitle">××”×• ×”×¡×™××Ÿ ×”××™×™×“×™ ×‘×™×•×ª×¨ ×‘-Wireshark ×œ×›×š ×©×¨×¥ arpspoof?</p>

          <div class="quiz" data-quiz
               data-correct="c"
               data-explain-good="× ×›×•×Ÿ. arpspoof ××™×™×¦×¨ ×–×¨× ×©×œ ARP Replies (is-at) ×©×—×•×–×¨×™× ×‘×ª×“×™×¨×•×ª ×§×‘×•×¢×” ×›×“×™ ×œ×©××¨ ××ª ×”×”×¨×¢×œ×”."
               data-explain-bad="×›××¢×˜. ×—×¤×© ×‘×¢×™×§×¨ ARP Replies ×©×—×•×–×¨×™× ×©×•×‘ ×•×©×•×‘ ×•××¦×”×™×¨×™× ×¢×œ IPâ†’MAC ×œ× ×××™×Ÿ.">
            <div class="option" data-id="a"><span class="dot"></span><div>×¨×¦×£ ×’×“×•×œ ×©×œ DNS Queries ×¢× ××•×ª×• ×©× ×“×•××™×™×Ÿ</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>×¤×™× ×’×™× ×¨×‘×™× (ICMP) ×¢× TTL ×—×¨×™×’ ×‘×¨×©×ª ×”××§×•××™×ª</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>×”×¨×‘×” ARP Replies ×—×•×–×¨×™× ×©××¦×”×™×¨×™× ×¢×œ IPâ†’MAC</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>×¡×“×¨×•×ª TCP SYN ××”×™×¨×•×ª ×œ×¤×•×¨×˜×™× ×¨×‘×™× ×‘××•×ª×• ×™×¢×“</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
          <p class="small">×˜×™×¤: ×”×ª×©×•×‘×•×ª ××¡×•×“×¨×•×ª ×›×œ ×˜×¢×™× ×” ××—×“×© ×‘××•×¤×Ÿ ×¨× ×“×•××œ×™.</p>
        </div>
      </section>

      <!-- Slide 9: Quiz 2 -->
      <section class="slide" data-title="×©××œ×” 2">
        <div class="card">
          <h2 class="title">×©××œ×ª ×™×™×©×•× 2</h2>
          <p class="subtitle">××™×–×” ×¤×™×œ×˜×¨ ×”×›×™ ××ª××™× ×›×“×™ ×œ×¨××•×ª ARP Replies ×©××™×•×¢×“×™× ×œ-Gateway (192.168.1.1)?</p>

          <div class="quiz" data-quiz
               data-correct="b"
               data-explain-good="× ×›×•×Ÿ. ××ª×” ××¡× ×Ÿ ×’× Reply ×•×’× ×™×¢×“ ×¤×¨×•×˜×•×§×•×œ×™ (Target IP) ×©×œ ×”-Gateway."
               data-explain-bad="×œ× ×‘×“×™×•×§. ×¦×¨×™×š ×œ××§×“ ×œ-ARP Reply ×•×’× ×©×”×™×¢×“ ×™×”×™×” 192.168.1.1.">
            <div class="option" data-id="a"><span class="dot"></span><div>ip.addr == 192.168.1.1 && tcp</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>arp.opcode == 2 && arp.dst.proto_ipv4 == 192.168.1.1</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>arp && arp.src.proto_ipv4 == 192.168.1.1</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>eth.dst == ff:ff:ff:ff:ff:ff && arp</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
        </div>
      </section>

      <!-- Slide 10: Quiz 3 -->
      <section class="slide" data-title="×©××œ×” 3">
        <div class="card">
          <h2 class="title">×©××œ×ª ×”×‘× ×” 3</h2>
          <p class="subtitle">
            ×œ×¤×™ ×”×¤×§×•×“×”: <span class="muted">-t 192.168.1.1 192.168.1.10</span>
            â€” ××™ â€œ××§×‘×œâ€ ××ª ×”×©×§×¨ ×•××™ â€œ××ª×—×–×”â€?
          </p>

          <div class="quiz" data-quiz
               data-correct="d"
               data-explain-good="× ×›×•×Ÿ. ×”-Gateway ×”×•× ×”×™×¢×“ ×©××§×‘×œ ××ª ×”-ARP Reply ×”××–×•×™×£, ×•×”-Kali ××ª×—×–×” ×œ×§×•×¨×‘×Ÿ 192.168.1.10."
               data-explain-bad="×œ×. ×‘×¤×§×•×“×” ×”×–×• ×”-Target ×”×•× ×”-Gateway, ×•×”-IP ×”××—×¨×•×Ÿ ×”×•× ×–×” ×©×”×ª×•×§×£ ××ª×—×–×” ××œ×™×•.">
            <div class="option" data-id="a"><span class="dot"></span><div>×”×§×•×¨×‘×Ÿ ××§×‘×œ, ×•×”× ×ª×‘ ××ª×—×–×” ×œ-Kali ×œ××•×¨×š ×–××Ÿ</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>Kali ××§×‘×œ, ×•×”× ×ª×‘ ××ª×—×–×” ×œ×§×•×¨×‘×Ÿ ×‘×¨××ª MAC</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>×”×§×•×¨×‘×Ÿ ××§×‘×œ, ×•-Kali ××ª×—×–×” ×œ× ×ª×‘ ×‘×¨×©×ª ××§×•××™×ª</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>×”× ×ª×‘ ××§×‘×œ, ×•-Kali ××ª×—×–×” ×œ×§×•×¨×‘×Ÿ 192.168.1.10</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
        </div>
      </section>

      <!-- Slide 11: Quiz 4 -->
      <section class="slide" data-title="×©××œ×” 4">
        <div class="card">
          <h2 class="title">×©××œ×ª ×™×™×©×•× 4</h2>
          <p class="subtitle">××™×–×” ×××¤×™×™×Ÿ ×”×•×¤×š ××ª ×”-ARP Replies ×©×œ arpspoof ×œ×—×©×•×“×™× ×‘××™×•×—×“?</p>

          <div class="quiz" data-quiz
               data-correct="a"
               data-explain-good="× ×›×•×Ÿ. Replies ×©×—×•×–×¨×™× ×‘×œ×™ Request ×§×•×“×, ×•×‘×ª×“×™×¨×•×ª ×’×‘×•×”×”, ×”× ×—×ª×™××” ×§×œ××¡×™×ª ×œ×”×¨×¢×œ×”."
               data-explain-bad="×œ×. ×”×—×©×“ ×”××¨×›×–×™ ×”×•× Replies ×œ× ××‘×•×§×©×™× ×©×—×•×–×¨×™× ×©×•×‘ ×•×©×•×‘ ×›×“×™ ×œ×©××¨ ARP poisoning.">
            <div class="option" data-id="a"><span class="dot"></span><div>Replies ×—×•×–×¨×™× ×œ×œ× Requests ×§×•×“××™×, ×‘×§×¦×‘ ×§×‘×•×¢ ×•××”×™×¨</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>Requests ××©×•×“×¨×™× ×œ×›×•×œ× ×¢× ×›×ª×•×‘×ª Broadcast ×‘×§×‘×™×¢×•×ª</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>UDP Traffic ×’×‘×•×” ×¢× ×¤×•×¨×˜ 53 ×”×™×•×¦× ××¨×©×ª ××§×•××™×ª</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>TCP RST ××¨×•×‘×™× ×©××•×¤×™×¢×™× ×‘×¡×™×•× ×—×™×‘×•×¨×™× ×¨×’×™×œ×™×</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
        </div>
      </section>

      <!-- Slide 12: Quiz 5 -->
      <section class="slide" data-title="×©××œ×” 5">
        <div class="card">
          <h2 class="title">×©××œ×ª ×—×©×™×‘×” 5</h2>
          <p class="subtitle">××™×š Wireshark ×™×›×•×œ ×œ×¢×–×•×¨ ×œ×–×”×•×ª â€œ×›×¤×™×œ×•×ª IPâ€ ×›×ª×•×¦××” ××”×¨×¢×œ×”?</p>

          <div class="quiz" data-quiz
               data-correct="c"
               data-explain-good="× ×›×•×Ÿ. Endpoints/Expert Information ×™×›×•×œ×™× ×œ×”×¨××•×ª ××•×ª×• IP ×¢× MAC×™× ×©×•× ×™× ××• ××–×”×¨×•×ª ×›×¤×™×œ×•×ª."
               data-explain-bad="×œ×. ×”×ª×©×•×‘×” ×”× ×›×•× ×” ××¢×¨×‘×ª ×¡×˜×˜×™×¡×˜×™×§×•×ª Endpoints/Expert ×©××‘×œ×™×˜×•×ª IP ×©××•×¤×™×¢ ×¢× MAC×™× ×©×•× ×™×.">
            <div class="option" data-id="a"><span class="dot"></span><div>×‘×’×¨×£ I/O × ×™×ª×Ÿ ×œ×¨××•×ª ×¢×œ×™×” ×—×“×” ×‘-TCP Retransmissions</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>×‘-HTTP Object List ×™×•×¤×™×¢×• ×›×•×ª×¨×•×ª â€œX-Forwarded-Forâ€</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>Statistics/Expert ××¦×™×’×™× ××•×ª×• IP ×¢× ×™×•×ª×¨ ×-MAC ××—×“</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>×‘-DNS Statistics × ×¨××” ×©×™× ×•×™ ×‘×¡×“×¨ ×”×¨×©×•××•×ª ×œ××•×¨×š ×–××Ÿ</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
        </div>
      </section>

      <!-- Slide 13: Quiz 6 -->
      <section class="slide" data-title="×©××œ×” 6">
        <div class="card">
          <h2 class="title">×©××œ×ª ×™×™×©×•× 6</h2>
          <p class="subtitle">××” ×ª×‘×“×•×§ ×‘×©×“×•×ª ARP ×›×“×™ ×œ×”×•×›×™×— ×©×”×©×•×œ×— â€œ××ª×—×–×”â€?</p>

          <div class="quiz" data-quiz
               data-correct="b"
               data-explain-good="× ×›×•×Ÿ. ××¡×ª×›×œ×™× ×¢×œ Sender IP ××•×œ Sender MAC: ×”-IP ×©×œ ×”×§×•×¨×‘×Ÿ, ××‘×œ MAC ×©×œ Kali."
               data-explain-bad="×œ×. ×¦×¨×™×š ×œ×”×ª××§×“ ×‘×¦×™××•×“ Sender IP ××•×œ Sender MAC ×•×œ×’×œ×•×ª ××™-×ª××™××•×ª.">
            <div class="option" data-id="a"><span class="dot"></span><div>Target MAC ××•×œ Broadcast ×›×“×™ ×œ×•×•×“× ×©×–×• ×‘×§×©×ª ARP ×¨×’×™×œ×”</div></div>
            <div class="option" data-id="b"><span class="dot"></span><div>Sender IP ×”×•× 192.168.1.10 ××‘×œ Sender MAC ×”×•× ×©×œ Kali</div></div>
            <div class="option" data-id="c"><span class="dot"></span><div>Protocol Type ×©×•×•×” IPv6 ×›×“×™ ×œ×–×”×•×ª ×©×›×‘×ª ×¨×©×ª</div></div>
            <div class="option" data-id="d"><span class="dot"></span><div>TCP Window Size ×§×˜×Ÿ ×©××¨××– ×¢×œ ×ª×•×§×£ ×‘×ª×©×ª×™×ª</div></div>
          </div>

          <div class="feedback" aria-live="polite"></div>
        </div>
      </section>

      <!-- Slide 14 -->
      <section class="slide" data-title="×¡×™×›×•×">
        <div class="card">
          <h2 class="title">×¡×™×›×•×: â€œ××” ×œ×¨××•×ª ×‘×¢×™× ×™×™×â€ ×ª×•×š 60 ×©× ×™×•×ª</h2>
          <p class="subtitle">×ª×¡×¨×™×˜ ×¢×‘×•×“×” ××”×™×¨ ×œ×–×™×”×•×™ arpspoof ×œ××—×¨ ×”×¤×§×•×“×” ×”× ×ª×•× ×”.</p>

          <div class="grid">
            <div>
              <div class="kpi">
                <h3>×©×œ×‘ 1 â€” ×‘×™×“×•×“ ARP</h3>
                <div class="code">arp</div>
                <div class="muted">×× ××™×Ÿ ×”×¨×‘×” ARP â€” ×—×›×• 20â€“30 ×©× ×™×•×ª.</div>
              </div>

              <div class="kpi" style="margin-top:12px;">
                <h3>×©×œ×‘ 2 â€” ×¨×§ Replies</h3>
                <div class="code">arp.opcode == 2</div>
                <div class="muted">×—×¤×©×• ×—×–×¨×ª×™×•×ª (Flood) ×•×¡×’× ×•×Ÿ â€œis-atâ€.</div>
              </div>

              <div class="kpi" style="margin-top:12px;">
                <h3>×©×œ×‘ 3 â€” ×”×•×›×—×ª ×”×”×ª×—×–×•×ª</h3>
                <div class="muted">×‘×“×§×•: Sender IP = 192.168.1.10, ××‘×œ Sender MAC = Kali</div>
              </div>
            </div>

            <div>
              <div class="kpi">
                <h3>×¤×™×œ×˜×¨ ×××•×§×“ ×œ×¤×§×•×“×”</h3>
                <div class="code">arp.opcode == 2 && arp.dst.proto_ipv4 == 192.168.1.1</div>
                <div class="muted">×–×” ××¨××” ××ª ×”×©×§×¨ ×©× ×©×œ×— ××œ ×”-Gateway.</div>
              </div>

              <div class="kpi" style="margin-top:12px;">
                <h3>×‘×“×™×§×ª MITM ××œ×</h3>
                <div class="code">arp.opcode == 2 && arp.dst.proto_ipv4 == 192.168.1.10</div>
                <div class="muted">×× ×¨×•××™× ×’× ×œ×›×™×•×•×Ÿ ×”×§×•×¨×‘×Ÿ â€” ×–×” ×›×‘×¨ â€œ×©× ×™ ×›×™×•×•× ×™×â€.</div>
              </div>

              <div class="callout good" style="margin-top:12px;">
                <b>××¡×§× ×” ×©××ª×” ×›×•×ª×‘ ×‘×“×•×—:</b><br/>
                â€œ×–×•×”×ª×” ×”×¨×¢×œ×” ×©×œ ×˜×‘×œ×ª ARP: ×”-Gateway ×§×™×‘×œ ARP Replies ×©××™×™×—×¡×™× ××ª IP ×©×œ ×”×§×•×¨×‘×Ÿ ×œ-MAC ×©×œ Kali.â€
              </div>
            </div>
          </div>

          <p class="small">×¡×™×•×. ××¤×©×¨ ×œ×—×–×•×¨ ×œ×©××œ×•×ª ×‘×¢×–×¨×ª â€œ×§×•×“×â€ ××• ××ª×—×•×œ.</p>
        </div>
      </section>

      <!-- Slide 15: Overview -->
      <section class="slide" data-title="×ª×•×›×Ÿ">
        <div class="card">
          <h2 class="title">×ª×•×›×Ÿ ×”××¦×’×ª</h2>
          <p class="subtitle">×œ×—×¦×• ×¢×œ ×©×§×£ ×›×“×™ ×œ×§×¤×•×¥ ××œ×™×•.</p>
          <div id="toc" class="quiz" style="gap:8px;"></div>
          <div class="callout warn" style="margin-top:14px;">
            <b>×ª×–×›×•×¨×ª:</b> ×¢×‘×•×“×” ×¢× ARP Spoofing ×¨×§ ×‘××¢×‘×“×” ××•×¨×©×™×ª/×ª×¨×’×•×œ ×‘×™×ª-×¡×¤×¨×™.
          </div>
        </div>
      </section>

    </div>
  </main>

  <div class="hint">×§×™×¦×•×¨×™×: <span class="kbd">â†</span> ×”×‘× â€¢ <span class="kbd">â†’</span> ×§×•×“× â€¢ <span class="kbd">R</span> ××ª×—×•×œ</div>

  <footer class="progress-wrap">
    <div class="progress"><div class="bar" id="bar"></div></div>
    <div class="progress-meta">
      <div id="metaLeft">×©×§×£ 1/1</div>
      <div id="metaRight" class="muted">â€”</div>
    </div>
  </footer>

<script>
(function(){
  const slides = Array.from(document.querySelectorAll('.slide'));
  const btnNext = document.getElementById('btnNext');
  const btnPrev = document.getElementById('btnPrev');
  const btnRestart = document.getElementById('btnRestart');
  const btnOverview = document.getElementById('btnOverview');
  const bar = document.getElementById('bar');
  const metaLeft = document.getElementById('metaLeft');
  const metaRight = document.getElementById('metaRight');
  const toc = document.getElementById('toc');

  // Keep last slide as TOC
  const tocIndex = slides.findIndex(s => s.id === "" && s.dataset.title === "×ª×•×›×Ÿ");
  // If not found by id, use last
  const overviewIndex = (tocIndex >= 0) ? tocIndex : slides.length - 1;

  let index = 0;

  function clamp(n, lo, hi){ return Math.max(lo, Math.min(hi, n)); }

  function setSlide(i){
    index = clamp(i, 0, slides.length - 1);
    slides.forEach((s, k) => s.classList.toggle('active', k === index));

    const human = index + 1;
    metaLeft.textContent = `×©×§×£ ${human} / ${slides.length}`;
    metaRight.textContent = slides[index].dataset.title ? slides[index].dataset.title : 'â€”';

    const pct = ((index) / (slides.length - 1)) * 100;
    bar.style.width = `${isFinite(pct) ? pct : 0}%`;

    // Disable prev/next at ends
    btnPrev.disabled = (index === 0);
    btnNext.disabled = (index === slides.length - 1);

    // Scroll slide to top on navigation
    const active = slides[index];
    active.scrollTop = 0;
  }

  function next(){ setSlide(index + 1); }
  function prev(){ setSlide(index - 1); }
  function restart(){ setSlide(0); resetAllQuizzes(); }

  btnNext.addEventListener('click', next);
  btnPrev.addEventListener('click', prev);
  btnRestart.addEventListener('click', restart);
  btnOverview.addEventListener('click', () => setSlide(overviewIndex));

  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight') next();
    if (e.key === 'ArrowLeft') prev();
    if (e.key.toLowerCase() === 'r') restart();
    if (e.key.toLowerCase() === 't') setSlide(overviewIndex);
  });

  // Build TOC
  function buildTOC(){
    if(!toc) return;
    toc.innerHTML = '';
    slides.forEach((s, i) => {
      if(i === overviewIndex) return;
      const title = s.dataset.title ? s.dataset.title : `×©×§×£ ${i+1}`;
      const item = document.createElement('div');
      item.className = 'option';
      item.innerHTML = `<span class="dot"></span><div>${title}</div>`;
      item.addEventListener('click', () => setSlide(i));
      toc.appendChild(item);
    });
  }

  // Quiz logic: shuffle options randomly, keep correct by data-id
  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function initQuiz(quizEl){
    const correctId = quizEl.dataset.correct;
    const explainGood = quizEl.dataset.explainGood || '';
    const explainBad  = quizEl.dataset.explainBad  || '';
    const options = Array.from(quizEl.querySelectorAll('.option'));
    const feedback = quizEl.parentElement.querySelector('.feedback');

    // Shuffle DOM order
    const shuffled = shuffle(options.slice());
    shuffled.forEach(opt => quizEl.appendChild(opt));

    function clearMarks(){
      shuffled.forEach(o => o.classList.remove('correct','wrong'));
      if(feedback){
        feedback.classList.remove('show','good','bad');
        feedback.textContent = '';
      }
    }

    function onPick(opt){
      if(opt.classList.contains('correct') || opt.classList.contains('wrong')) return; // prevent repeat spam
      clearMarks();
      const pickedId = opt.dataset.id;

      // mark picked
      if(pickedId === correctId){
        opt.classList.add('correct');
        if(feedback){
          feedback.classList.add('show','good');
          feedback.textContent = 'âœ… ' + explainGood;
        }
      }else{
        opt.classList.add('wrong');
        // also highlight correct
        const right = shuffled.find(x => x.dataset.id === correctId);
        if(right) right.classList.add('correct');
        if(feedback){
          feedback.classList.add('show','bad');
          feedback.textContent = 'âŒ ' + explainBad;
        }
      }
    }

    shuffled.forEach(opt => opt.addEventListener('click', () => onPick(opt)));

    // expose reset
    quizEl._reset = clearMarks;
  }

  function initAllQuizzes(){
    document.querySelectorAll('[data-quiz]').forEach(initQuiz);
  }

  function resetAllQuizzes(){
    document.querySelectorAll('[data-quiz]').forEach(q => q._reset && q._reset());
  }

  // Boot
  buildTOC();
  initAllQuizzes();
  setSlide(0);
})();
</script>

</body>
</html>
