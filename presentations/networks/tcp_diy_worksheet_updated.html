<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×™××ª TCP DIY - ×‘× ×™×™×ª ×¤×¨×•×˜×•×§×•×œ ××©×œ×š</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;700;900&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyber-primary: #00ff9f;
            --cyber-secondary: #00d4ff;
            --cyber-danger: #ff3366;
            --cyber-warning: #ffaa00;
            --bg-dark: #0a0e27;
            --bg-card: #141930;
            --bg-code: #1a1f3a;
            --text-primary: #e4e4e7;
            --text-secondary: #a1a1aa;
            --border-color: rgba(0, 255, 159, 0.2);
            --glow: 0 0 20px rgba(0, 255, 159, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--bg-dark) 0%, #0f1529 100%);
            color: var(--text-primary);
            font-family: 'Heebo', sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background grid */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 50px, rgba(0, 255, 159, 0.03) 50px, rgba(0, 255, 159, 0.03) 51px),
                repeating-linear-gradient(90deg, transparent, transparent 50px, rgba(0, 255, 159, 0.03) 50px, rgba(0, 255, 159, 0.03) 51px);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 20px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--glow);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--cyber-primary), transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            to {
                left: 100%;
            }
        }

        .header h1 {
            font-size: 3em;
            font-weight: 900;
            background: linear-gradient(135deg, var(--cyber-primary), var(--cyber-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .mission-tag {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(0, 255, 159, 0.1);
            border: 1px solid var(--cyber-primary);
            border-radius: 20px;
            color: var(--cyber-primary);
            font-weight: 600;
            font-size: 1em;
            letter-spacing: 1px;
            margin-top: 10px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2em;
            margin-top: 15px;
            font-weight: 300;
        }

        /* Architecture Diagram */
        .architecture-box {
            background: var(--bg-card);
            border: 2px solid var(--cyber-secondary);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            animation: fadeIn 1s ease-out 0.2s both;
        }

        .architecture-box h2 {
            color: var(--cyber-secondary);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8em;
        }

        .diagram {
            font-family: 'JetBrains Mono', monospace;
            background: #000;
            color: #00ffcc;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            line-height: 1.8;
            direction: ltr;
            text-align: left;
            font-size: 1em;
        }

        .principle-box {
            background: linear-gradient(135deg, rgba(0, 255, 159, 0.1), rgba(0, 212, 255, 0.1));
            border-right: 4px solid var(--cyber-primary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .principle-box h3 {
            color: var(--cyber-primary);
            margin-bottom: 10px;
        }

        /* Mission Brief */
        .mission-brief {
            background: linear-gradient(135deg, rgba(255, 51, 102, 0.1), rgba(255, 170, 0, 0.1));
            border: 2px solid var(--cyber-danger);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            position: relative;
            animation: fadeIn 1s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mission-brief::before {
            content: 'âš  MISSION BRIEFING';
            position: absolute;
            top: -12px;
            right: 20px;
            background: var(--bg-dark);
            padding: 0 15px;
            color: var(--cyber-danger);
            font-weight: 700;
            font-size: 1em;
            letter-spacing: 2px;
        }

        .mission-brief h2 {
            color: var(--cyber-danger);
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        /* Files Structure */
        .files-structure {
            background: var(--bg-code);
            border: 2px solid var(--cyber-warning);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .files-structure h3 {
            color: var(--cyber-warning);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .files-structure h3::before {
            content: 'ğŸ“‚';
            font-size: 1.3em;
        }

        .file-item {
            background: rgba(0, 255, 159, 0.05);
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 6px;
            border-right: 3px solid var(--cyber-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .file-item strong {
            color: var(--cyber-primary);
            display: block;
            margin-bottom: 5px;
        }

        /* Stage Card */
        .stage-card {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 30px;
            overflow: hidden;
            transition: all 0.3s ease;
            animation: fadeIn 1s ease-out both;
        }

        .stage-card:nth-child(2) { animation-delay: 0.1s; }
        .stage-card:nth-child(3) { animation-delay: 0.2s; }
        .stage-card:nth-child(4) { animation-delay: 0.3s; }
        .stage-card:nth-child(5) { animation-delay: 0.4s; }

        .stage-card:hover {
            border-color: var(--cyber-primary);
            box-shadow: var(--glow);
            transform: translateY(-2px);
        }

        .stage-header {
            background: linear-gradient(135deg, rgba(0, 255, 159, 0.1), rgba(0, 212, 255, 0.1));
            padding: 20px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.3s ease;
        }

        .stage-header:hover {
            background: linear-gradient(135deg, rgba(0, 255, 159, 0.15), rgba(0, 212, 255, 0.15));
        }

        .stage-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: var(--cyber-primary);
            color: var(--bg-dark);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 900;
            font-size: 1.2em;
            margin-left: 15px;
            box-shadow: 0 0 15px rgba(0, 255, 159, 0.5);
        }

        .stage-title {
            flex: 1;
            font-size: 1.5em;
            font-weight: 700;
            color: var(--text-primary);
        }

        .stage-toggle {
            font-size: 1.5em;
            color: var(--cyber-primary);
            transition: transform 0.3s ease;
        }

        .stage-card.collapsed .stage-toggle {
            transform: rotate(180deg);
        }

        .stage-content {
            padding: 30px;
            display: block;
            max-height: 5000px;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }

        .stage-card.collapsed .stage-content {
            max-height: 0;
            padding: 0 30px;
        }

        /* Code Block */
        .code-block {
            background: var(--bg-code);
            border: 1px solid rgba(0, 255, 159, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'JetBrains Mono', monospace;
            direction: ltr;
            text-align: left;
            position: relative;
            overflow-x: auto;
        }

        .code-block::before {
            content: 'Python';
            position: absolute;
            top: 8px;
            left: 8px;
            background: var(--cyber-primary);
            color: var(--bg-dark);
            padding: 2px 10px;
            border-radius: 4px;
            font-size: 1.2em;
            font-weight: 700;
        }

        .code-block pre {
            margin-top: 25px;
            color: #e4e4e7;
            line-height: 1.6;
            font-size: 1.2em;
        }

        .code-comment {
            color: #6b7280;
        }

        .code-keyword {
            color: var(--cyber-secondary);
            font-weight: 600;
        }

        .code-string {
            color: #fbbf24;
        }

        .code-function {
            color: var(--cyber-primary);
        }

        /* Task Box */
        .task-box {
            background: rgba(0, 212, 255, 0.05);
            border-right: 4px solid var(--cyber-secondary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .task-box h4 {
            color: var(--cyber-secondary);
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .task-list {
            list-style: none;
            padding-right: 0;
        }

        .task-list li {
            padding: 8px 0 8px 30px;
            position: relative;
        }

        .task-list li::before {
            content: 'â–¸';
            position: absolute;
            right: 0;
            color: var(--cyber-secondary);
            font-weight: 700;
        }

        /* AI Guidance Box */
        .ai-guide {
            background: linear-gradient(135deg, rgba(255, 170, 0, 0.1), rgba(255, 51, 102, 0.1));
            border: 2px dashed var(--cyber-warning);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .ai-guide h4 {
            color: var(--cyber-warning);
            margin-bottom: 15px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-guide h4::before {
            content: 'ğŸ¤–';
            font-size: 1.3em;
        }

        .allowed, .forbidden {
            margin: 15px 0;
        }

        .allowed h5 {
            color: var(--cyber-primary);
            margin-bottom: 8px;
        }

        .forbidden h5 {
            color: var(--cyber-danger);
            margin-bottom: 8px;
        }

        .allowed ul, .forbidden ul {
            list-style: none;
            padding-right: 0;
        }

        .allowed li::before {
            content: 'âœ… ';
            margin-left: 5px;
        }

        .forbidden li::before {
            content: 'âŒ ';
            margin-left: 5px;
        }

        /* Output Box */
        .output-box {
            background: var(--bg-code);
            border: 2px solid var(--cyber-primary);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .output-box h4 {
            color: var(--cyber-primary);
            margin-bottom: 15px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .output-box h4::before {
            content: 'ğŸ“¦';
            font-size: 1.3em;
        }

        /* Questions Box */
        .questions-box {
            background: rgba(0, 255, 159, 0.05);
            border-right: 4px solid var(--cyber-primary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .questions-box h4 {
            color: var(--cyber-primary);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .question-item {
            background: var(--bg-card);
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border-right: 2px solid rgba(0, 255, 159, 0.3);
        }

        /* Text Area for Documentation */
        .doc-area {
            width: 100%;
            min-height: 150px;
            background: var(--bg-code);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            color: var(--text-primary);
            font-family: 'Heebo', sans-serif;
            font-size: 1em;
            margin: 15px 0;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .doc-area:focus {
            outline: none;
            border-color: var(--cyber-primary);
            box-shadow: var(--glow);
        }

        /* Timer Display */
        .timer {
            display: inline-block;
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid var(--cyber-warning);
            padding: 8px 15px;
            border-radius: 20px;
            color: var(--cyber-warning);
            font-weight: 600;
            font-size: 0.9em;
        }

        /* Success Box */
        .success-box {
            background: linear-gradient(135deg, rgba(0, 255, 159, 0.1), rgba(0, 212, 255, 0.1));
            border: 2px solid var(--cyber-primary);
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .success-box h3 {
            color: var(--cyber-primary);
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        /* Button */
        .btn {
            background: linear-gradient(135deg, var(--cyber-primary), var(--cyber-secondary));
            color: var(--bg-dark);
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 255, 159, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 255, 159, 0.5);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .stage-title {
                font-size: 1.2em;
            }

            .stage-content {
                padding: 20px;
            }
        }

        /* Progress Bar */
        .progress-bar {
            height: 4px;
            background: rgba(0, 255, 159, 0.2);
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cyber-primary), var(--cyber-secondary));
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 255, 159, 0.8);
        }

        .emoji {
            font-size: 1.2em;
            margin: 0 5px;
        }

        /* Warning Box */
        .warning-box {
            background: rgba(255, 51, 102, 0.1);
            border: 2px solid var(--cyber-danger);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-box h4 {
            color: var(--cyber-danger);
            margin-bottom: 10px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ›¡ï¸ ××©×™××ª Mini-TCP</h1>
            <div class="mission-tag">CLASSIFIED PROJECT</div>
            <p class="subtitle">×‘× ×™×™×ª ×¤×¨×•×˜×•×§×•×œ ×ª×§×©×•×¨×ª ×××™×Ÿ ××¢×œ ×¨×©×ª ×œ× ×××™× ×”</p>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <!-- Architecture Explanation -->
        <div class="architecture-box">
            <h2>ğŸ—ï¸ ××¨×›×™×˜×§×˜×•×¨×ª ×”××¢×¨×›×ª</h2>
            
            <div class="principle-box">
                <h3>×¢×§×¨×•×Ÿ ×™×¡×•×“: ×”×¤×¨×“×ª ××—×¨×™×•×ª</h3>
                <p><strong>×”×¨×©×ª (UnreliableNetwork)</strong> - ×¨×§ ××¢×‘×™×¨×” ××™×“×¢ ×•××“××” ×‘×¢×™×•×ª ğŸŒ</p>
                <p><strong>×”×¤×¨×•×˜×•×§×•×œ (SimpleTCProtocol)</strong> - ×—×•×©×‘, ××ª×§×Ÿ, ×•××‘×˜×™×— ×××™× ×•×ª ğŸ§ </p>
            </div>

            <pre class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Application         â”‚
â”‚    client.py / server.py   â”‚
â”‚     ×©×œ×™×—×ª/×§×‘×œ×ª ×§×‘×¦×™×          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SimpleTCProtocol.py     â”‚
â”‚  â€¢ ×¤×™×¦×•×œ ×œ×—×‘×™×œ×•×ª               â”‚
â”‚   â€¢ ××¡×¤×•×¨ (SEQ)             â”‚
â”‚  â€¢ ACK / Timeout           â”‚
â”‚  â€¢ Retransmission          â”‚
â”‚  â€¢ ×¡×™×“×•×¨ × ×ª×•× ×™×                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UnreliableNetwork.py      â”‚
â”‚  â€¢ ××•×‘×“×Ÿ ×—×‘×™×œ×•×ª âŒ            â”‚
â”‚  â€¢ ×¢×™×›×•×‘/×©×™× ×•×™ ×¡×“×¨ â±ï¸          â”‚
â”‚  â€¢ ×©×›×¤×•×œ ×—×‘×™×œ×•×ª ğŸ“¦ğŸ“¦          â”‚
â”‚  â— ×¨×§ send() - ×œ×œ× recv()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Python Socket        â”‚
â”‚         (TCP/UDP)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </pre>

            <div class="warning-box">
                <h4>âš ï¸ ×›×œ×œ×™× ×§×¨×™×˜×™×™×</h4>
                <ul class="task-list">
                    <li>UnreliableNetwork ×¨×§ <strong>×©×•×œ×—×ª</strong> - ××™×Ÿ ×‘×” recv() ××• ×œ×•×’×™×§×”</li>
                    <li>SimpleTCProtocol ××—×¨××™×ª ×¢×œ <strong>×›×œ</strong> ×”×œ×•×’×™×§×” - ACK, timeout, ×¡×™×“×•×¨</li>
                    <li>××¡×•×¨ ×œ×¢×¨×‘×‘ ××—×¨×™×•×ª ×‘×™×Ÿ ×”×©×›×‘×•×ª!</li>
                </ul>
            </div>
        </div>

        <!-- Files Structure -->
        <div class="files-structure">
            <h3>××‘× ×” ×”×§×‘×¦×™× ×©×ª×¢×‘×“×• ××™×ª×</h3>
            
            <div class="file-item">
                <strong>ğŸ“„ unreliable_network.py</strong>
                ××—×œ×§×” ××•×›× ×” ×©××“××” ×¨×©×ª ×œ× ×××™× ×”. <strong>××œ ×ª×©× ×• ××•×ª×”!</strong>
            </div>

            <div class="file-item">
                <strong>ğŸ“„ simple_tcp_protocol.py</strong>
                <strong>×–×” ×”×§×•×‘×¥ ×©××ª× ×ª×‘× ×•!</strong> ××—×œ×§×” ×¢× TODO ×©××ª× ×¦×¨×™×›×™× ×œ××œ×.
            </div>

            <div class="file-item">
                <strong>ğŸ“„ client_mini_tcp.py</strong>
                Client ×©××©×ª××© ×‘×¤×¨×•×˜×•×§×•×œ ×©×œ×›× ×œ×©×œ×•×— ×§×•×‘×¥.
            </div>

            <div class="file-item">
                <strong>ğŸ“„ server_mini_tcp.py</strong>
                Server ×©××§×‘×œ ×§×•×‘×¥ ×“×¨×š ×”×¤×¨×•×˜×•×§×•×œ ×©×œ×›×.
            </div>

            <div class="file-item">
                <strong>ğŸ“„ test_simple_tcp.py</strong>
                ×‘×“×™×§×•×ª ×©×ª×›×ª×‘×• ×›×“×™ ×œ×•×•×“× ×©×”×¤×¨×•×˜×•×§×•×œ ×¢×•×‘×“.
            </div>
        </div>

        <!-- Mission Brief -->
        <div class="mission-brief">
            <h2>ğŸ“‹ ×ª×“×¨×™×š ×”××©×™××”</h2>
            <p><strong>×ª×¨×—×™×©:</strong> ××ª× ××¤×ª×—×™ ×¤×¨×•×˜×•×§×•×œ×™× ×‘×—×‘×¨×ª ×¡×˜××¨×˜-××¤. ×¢×œ×™×›× ×œ×××© ××ª ×”××—×œ×§×” <code>SimpleTCProtocol</code> ×©××‘×˜×™×—×” ×”×¢×‘×¨×” ×××™× ×” ×©×œ ×§×‘×¦×™× ××¢×œ ×¨×©×ª ×œ× ×××™× ×”.</p>
            
            <p style="margin-top: 15px;"><strong>ğŸ¯ ×”×™×¢×“:</strong> Client ×™×©×œ×— ×§×•×‘×¥ ×“×¨×š ×¨×©×ª "×©×‘×•×¨×”" ×•-Server ×™×§×‘×œ ××•×ª×• <strong>×©×œ× ×•××¡×•×“×¨</strong>.</p>
            
            <p style="margin-top: 15px;"><strong>â±ï¸ ×–××Ÿ ××©×•×¢×¨:</strong> 90 ×“×§×•×ª</p>
        </div>

        <!-- Stage 0: Understanding the Problem -->
        <div class="stage-card">
            <div class="stage-header" onclick="toggleStage(this)">
                <span class="stage-number">0</span>
                <h3 class="stage-title">×”×‘× ×ª ×”×‘×¢×™×” - ×”×¨×¦×ª ×”×§×•×“ ×”×§×™×™×</h3>
                <span class="timer">â±ï¸ 15 ×“×§×•×ª</span>
                <span class="stage-toggle">â–¼</span>
            </div>
            <div class="stage-content">
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    ×œ×¤× ×™ ×©××ª×—×™×œ×™× ×œ×‘× ×•×ª, ×¦×¨×™×š ×œ×”×‘×™×Ÿ ××ª ×”×‘×¢×™×”! ×”×¨×™×¦×• ××ª ×”×§×•×“ ×”×§×™×™× ×•×¨××• ××” ×§×•×¨×”.
                </p>

                <div class="task-box">
                    <h4>ğŸ¯ ××©×™××•×ª ×©×œ×‘ ×–×”</h4>
                    <ul class="task-list">
                        <li>×”×•×¨×™×“×• ××ª ×›×œ ×”×§×‘×¦×™× ×œ×ª×™×§×™×™×” ××—×ª</li>
                        <li>×‘×“×§×• ××ª unreliable_network.py - ×”×‘×™× ×• ××” ×”×•× ×¢×•×©×”</li>
                        <li>×”×¡×ª×›×œ×• ×¢×œ client_mini_tcp.py ×•-server_mini_tcp.py</li>
                        <li>× ×¡×• ×œ×”×¨×™×¥ (×™×›×©×œ ×›×™ SimpleTCProtocol ×¢×“×™×™×Ÿ ×¨×™×§!)</li>
                    </ul>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># ×”×§×•×“ ×©×œ UnreliableNetwork (××•×›×Ÿ - ××œ ×ª×©× ×•!)</span>
<span class="code-keyword">class</span> <span class="code-function">UnreliableNetwork</span>:
    <span class="code-keyword">def</span> <span class="code-function">__init__</span>(self, drop_rate=<span class="code-string">0.2</span>, reorder_rate=<span class="code-string">0.3</span>):
        self.drop_rate = drop_rate
        self.reorder_rate = reorder_rate
        self.packet_counter = <span class="code-string">0</span>
    
    <span class="code-keyword">def</span> <span class="code-function">send</span>(self, sock, data):
        <span class="code-comment"># ××“××” ×¨×©×ª ×œ× ×××™× ×”</span>
        <span class="code-comment"># - 20% ×¡×™×›×•×™ ×©×”×—×‘×™×œ×” ×ª××‘×“</span>
        <span class="code-comment"># - 30% ×¡×™×›×•×™ ×œ×¢×™×›×•×‘ (= ×©×™× ×•×™ ×¡×“×¨)</span>
        self.packet_counter += 1
        packet_id = self.packet_counter

        # ××•×‘×“×Ÿ ×—×‘×™×œ×”
        <span class="code-keyword">if</span>  random.random() < self.drop_rate:
            print(f"ğŸ“¦âŒ Packet #{packet_id} LOST!")
            return False

        # ×¢×™×›×•×‘ = ×©×™× ×•×™ ×¡×“×¨
        <span class="code-keyword">if</span>  random.random() < self.reorder_rate:
            delay = random.uniform(0.1, 0.5)
            print(f"ğŸ“¦â±ï¸ Packet #{packet_id} DELAYED")
            threading.Timer(delay, sock.send, args=(data,)).start()
        <span class="code-keyword">else</span> :
            print(f"ğŸ“¦âœ… Packet #{packet_id} sent")
            sock.send(data)
       </pre>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># Client (××•×›×Ÿ)</span>
<span class="code-keyword">def</span> <span class="code-function">client</span>():
    sock = socket.socket()
    sock.connect((<span class="code-string">"localhost"</span>, <span class="code-string">9000</span>))
    
    network = UnreliableNetwork()
    tcp = SimpleTCProtocol(sock, network)
    
    tcp.send_reliable(<span class="code-string">b"HELLO THIS IS A FILE"</span>)</pre>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># Server (××•×›×Ÿ)</span>
<span class="code-keyword">def</span> <span class="code-function">server</span>():
    sock = socket.socket()
    sock.bind((<span class="code-string">"localhost"</span>, <span class="code-string">9000</span>))
    sock.listen(<span class="code-string">1</span>)
    
    client, _ = sock.accept()
    tcp = SimpleTCProtocol(client, <span class="code-string">None</span>)  <span class="code-comment"># Server ××™×Ÿ ×œ×• network</span>
    
    file_data = tcp.receive_reliable()
    <span class="code-function">print</span>(<span class="code-string">"ğŸ“ File received:"</span>, file_data)</pre>
                </div>

                <div class="questions-box">
                    <h4>ğŸ’­ ×©××œ×•×ª ×”×‘× ×”</h4>
                    <div class="question-item">
                        <strong>1.</strong> ×œ××” ×œ-Client ×™×© UnreliableNetwork ××‘×œ ×œ-Server ××™×Ÿ?
                    </div>
                    <div class="question-item">
                        <strong>2.</strong> ××” ×™×§×¨×” ×× Client ×™×©×œ×— 10 bytes ××‘×œ 3 ××”× ×™××‘×“×•?
                    </div>
                    <div class="question-item">
                        <strong>3.</strong> ××™×š Server ×™×›×•×œ ×œ×“×¢×ª ×©×”×•× ×§×™×‘×œ ×”×›×œ?
                    </div>
                </div>

                <div class="output-box">
                    <h4>×ª×•×¦×¨ ×©×œ×‘ 0</h4>
                    <textarea class="doc-area" placeholder="×ª×¢×“×•:
1. ××” ×”×‘× ×ª× ×¢×œ ××‘× ×” ×”××¢×¨×›×ª?
2. ×œ××” ×¦×¨×™×š ×”×¤×¨×“×” ×‘×™×Ÿ UnreliableNetwork ×œ-SimpleTCP?
3. ××™×œ×• ××ª×’×¨×™× ××ª× ×¦×•×¤×™×?"></textarea>
                </div>
            </div>
        </div>

        <!-- Stage 1: Protocol Design -->
        <div class="stage-card">
            <div class="stage-header" onclick="toggleStage(this)">
                <span class="stage-number">1</span>
                <h3 class="stage-title">×ª×›× ×•×Ÿ ×”×¤×¨×•×˜×•×§×•×œ - ××” ×¦×¨×™×š?</h3>
                <span class="timer">â±ï¸ 20 ×“×§×•×ª</span>
                <span class="stage-toggle">â–¼</span>
            </div>
            <div class="stage-content">
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    ×œ×¤× ×™ ×›×ª×™×‘×ª ×§×•×“, × ×ª×›× ×Ÿ! ××” ×”×¤×¨×•×˜×•×§×•×œ ×¦×¨×™×š ×œ×“×¢×ª ×•×œ×¢×©×•×ª?
                </p>

                <div class="task-box">
                    <h4>ğŸ¯ ×©××œ×•×ª ×ª×›× ×•×Ÿ ×§×¨×™×˜×™×•×ª</h4>
                    <ul class="task-list">
                        <li><strong>××‘× ×” × ×ª×•× ×™×:</strong> ××” SimpleTCProtocol ×¦×¨×™×š ×œ×©××•×¨ ×‘-__init__?</li>
                        <li><strong>×¤×•×¨××˜ ×—×‘×™×œ×”:</strong> ××” ××™×“×¢ ×›×œ ×—×‘×™×œ×” ×—×™×™×‘×ª ×œ×”×›×™×œ?</li>
                        <li><strong>ACK ×× ×’× ×•×Ÿ:</strong> ××™×š Receiver ××•×“×™×¢ ×œ-Sender ×©×§×™×‘×œ?</li>
                        <li><strong>Timeout:</strong> ×›××” ×–××Ÿ ×œ×—×›×•×ª ×œ×¤× ×™ ×©×œ×™×—×” ××—×“×©?</li>
                    </ul>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># SimpleTCProtocol - ××” ×¦×¨×™×š ×‘××—×œ×§×”?</span>
<span class="code-keyword">class</span> <span class="code-function">SimpleTCProtocol</span>:
    <span class="code-keyword">def</span> <span class="code-function">__init__</span>(self, sock, network):
        self.sock = sock              <span class="code-comment"># Socket ×œ×©×œ×™×—×”/×§×‘×œ×”</span>
        self.network = network        <span class="code-comment"># UnreliableNetwork (××• None ×‘-Server)</span>
        
        <span class="code-comment"># TODO: ××” ×¢×•×“ ×¦×¨×™×š?</span>
        <span class="code-comment"># ×¨××–×™×:</span>
        <span class="code-comment"># - ××¡×¤×¨ ×”×¡×“×¨×” ×”× ×•×›×—×™?</span>
        <span class="code-comment"># - ×’×•×“×œ ×—×‘×™×œ×” (CHUNK_SIZE)?</span>
        <span class="code-comment"># - ×–××Ÿ timeout?</span>
        <span class="code-comment"># - buffer ×œ×—×‘×™×œ×•×ª ×©×”×ª×§×‘×œ×• ×œ× ×‘×¡×“×¨?</span></pre>
                </div>

                <div class="questions-box">
                    <h4>ğŸ’­ ×©××œ×•×ª ×œ×ª×›× ×•×Ÿ ××‘× ×” ×—×‘×™×œ×”</h4>
                    <div class="question-item">
                        <strong>1. ××¡×¤×¨ ×¡×“×¨×” (SEQ):</strong> ×”×× ××¡×¤×¨ ×-0 ×¢×“ ××™× ×¡×•×£? ××• ×¢× wrap-around?
                    </div>
                    <div class="question-item">
                        <strong>2. ×’×•×“×œ ×—×‘×™×œ×”:</strong> 512 bytes? 1024? ××” ×”-tradeoff?
                    </div>
                    <div class="question-item">
                        <strong>3. ×¤×•×¨××˜:</strong> ×”×× `SEQ|DATA` ××¡×¤×™×§? ××• ×¦×¨×™×š ×’× LENGTH?
                    </div>
                    <div class="question-item">
                        <strong>4. ACK:</strong> ×”×× ×œ××©×¨ ×›×œ ×—×‘×™×œ×” ×‘× ×¤×¨×“ ××• ×œ××©×¨ ×˜×•×•×— (cumulative)?
                    </div>
                </div>

                <div class="ai-guide">
                    <h4>××™×š ×œ×”×©×ª××© ×‘-AI ×‘×©×œ×‘ ×–×”</h4>
                    
                    <div class="allowed">
                        <h5>âœ… ×©××œ×•×ª ××•××œ×¦×•×ª:</h5>
                        <ul>
                            <li>"××” ×”×™×ª×¨×•× ×•×ª ×•×”×—×¡×¨×•× ×•×ª ×©×œ cumulative ACK vs selective ACK?"</li>
                            <li>"××™×š TCP ×‘×•×—×¨ ××ª ×’×•×“×œ ×”-window? ××” ×”-tradeoffs?"</li>
                            <li>"×œ××” ×—×©×•×‘ sequence number? ×ª×Ÿ ×“×•×’××” ×œ××¦×‘ ×©×‘×œ×¢×“×™×• × ×›×©×œ"</li>
                            <li>"××™×š ×œ×—×©×‘ timeout ××•×¤×˜×™××œ×™? RTT ×–×” ××”?"</li>
                        </ul>
                    </div>

                    <div class="forbidden">
                        <h5>âŒ ××¡×•×¨ ×œ×‘×§×©:</h5>
                        <ul>
                            <li>"×ª×›×ª×•×‘ ×œ×™ ××ª SimpleTCProtocol ×”××œ×"</li>
                            <li>"×ª×Ÿ ×œ×™ ×§×•×“ ××•×›×Ÿ ×œ×›×œ ×”×¤×•× ×§×¦×™×•×ª"</li>
                            <li>"××” ×”×¤×ª×¨×•×Ÿ ×”×›×™ ×˜×•×‘?" (×‘×œ×™ ×©××ª× ××¡×‘×™×¨×™× ×œ××”)</li>
                        </ul>
                    </div>
                </div>

                <div class="output-box">
                    <h4>×ª×•×¦×¨ ×©×œ×‘ 1 - ××¡××š ×ª×›× ×•×Ÿ</h4>
                    
                    <h5 style="color: var(--cyber-secondary); margin: 20px 0 10px 0;">×”×—×œ×˜×•×ª ×ª×›× ×•×Ÿ:</h5>
                    <textarea class="doc-area" placeholder="×ª×›×ª×‘×•:
1. ××‘× ×” ××—×œ×§×” - ××™×œ×• ××©×ª× ×™× ×ª×©××¨×• ×‘-__init__?
2. ×¤×•×¨××˜ ×—×‘×™×œ×” - ××™×š ×ª×§×•×“×“×• SEQ + DATA?
3. ××¡×˜×¨×˜×’×™×™×ª ACK - cumulative ××• selective? ×œ××”?
4. Timeout - ××™×š ×ª×§×‘×¢×•? ×§×‘×•×¢ ××• ×“×™× ××™?
5. Buffer - ××™×š ×ª×˜×¤×œ×• ×‘×—×‘×™×œ×•×ª ×©××’×™×¢×•×ª ×œ× ×‘×¡×“×¨?"></textarea>

                    <h5 style="color: var(--cyber-warning); margin: 20px 0 10px 0;">×©××œ×•×ª ×©×©××œ×ª× ×-AI:</h5>
                    <textarea class="doc-area" placeholder="×ª×¢×“×• ××ª ×”×©×™×—×”:
1. ××” ×©××œ×ª×?
2. ××” AI ×¢× ×”?
3. ×”×× ×”×‘× ×ª×? ×”×× ×–×” ×”×’×™×•× ×™?
4. ××™×œ×• ×”×—×œ×˜×•×ª ×¢×–×¨×” ×œ×›× ×œ×§×‘×œ?"></textarea>
                </div>
            </div>
        </div>

        <!-- Stage 2: Implementation -->
        <div class="stage-card">
            <div class="stage-header" onclick="toggleStage(this)">
                <span class="stage-number">2</span>
                <h3 class="stage-title">××™××•×© ×”×¤×¨×•×˜×•×§×•×œ - ×§×•×“!</h3>
                <span class="timer">â±ï¸ 45 ×“×§×•×ª</span>
                <span class="stage-toggle">â–¼</span>
            </div>
            <div class="stage-content">
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    ×¢×›×©×™×• - ×œ×‘× ×•×ª ××ª ×”×¤×¨×•×˜×•×§×•×œ! ××œ××• ××ª ×”×¤×•× ×§×¦×™×•×ª ×‘-simple_tcp_protocol.py
                </p>

                <div class="task-box">
                    <h4>ğŸ¯ ×¤×•× ×§×¦×™×•×ª ×œ××™××•×©</h4>
                    <ul class="task-list">
                        <li><strong>send_reliable(data)</strong> - ×¤×™×¦×•×œ ×œ×—×‘×™×œ×•×ª, ×©×œ×™×—×” ×¢× retransmit</li>
                        <li><strong>receive_reliable()</strong> - ×§×‘×œ×”, ×¡×™×“×•×¨, ×©×œ×™×—×ª ACKs</li>
                        <li><strong>_send_packet(seq, data)</strong> - ×¢×–×¨: ×§×™×“×•×“ ×•×©×œ×™×—×”</li>
                        <li><strong>_wait_for_ack(seq, timeout)</strong> - ×¢×–×¨: ×”××ª× ×” ×œ-ACK</li>
                    </ul>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># ×ª×‘× ×™×ª ×œ××™××•×© - send_reliable</span>
<span class="code-keyword">def</span> <span class="code-function">send_reliable</span>(self, data):
    <span class="code-string">"""×©×•×œ×— data ×‘×¦×•×¨×” ×××™× ×”"""</span>
    
    <span class="code-comment"># ×©×œ×‘ 1: ×¤×¦×œ ××ª data ×œ×—×‘×™×œ×•×ª ×‘×’×•×“×œ CHUNK_SIZE</span>
    chunks = [data[i:i+CHUNK_SIZE] 
              <span class="code-keyword">for</span> i <span class="code-keyword">in</span> range(<span class="code-string">0</span>, len(data), CHUNK_SIZE)]
    
    <span class="code-comment"># ×©×œ×‘ 2: ×œ×›×œ ×—×‘×™×œ×”</span>
    <span class="code-keyword">for</span> seq, chunk <span class="code-keyword">in</span> enumerate(chunks):
        <span class="code-comment"># 2.1 ×§×•×“×“ ×—×‘×™×œ×”: SEQ + DATA</span>
        packet = self._encode_packet(seq, chunk)
        
        <span class="code-comment"># 2.2 ×©×œ×— ×“×¨×š UnreliableNetwork</span>
        self.network.send(self.sock, packet)
        
        <span class="code-comment"># 2.3 ×—×›×” ×œ-ACK</span>
        <span class="code-keyword">while</span> <span class="code-keyword">not</span> self._wait_for_ack(seq, timeout=<span class="code-string">2.0</span>):
            <span class="code-comment"># Timeout! ×©×œ×— ×©×•×‘</span>
            <span class="code-function">print</span>(<span class="code-string">f"âš ï¸ Timeout on packet {seq}, retransmitting..."</span>)
            self.network.send(self.sock, packet)
    
    <span class="code-comment"># ×©×œ×— FIN - ×¡×™××Ÿ ×œ×¡×™×•×</span>
    self._send_fin()</pre>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># ×ª×‘× ×™×ª ×œ××™××•×© - receive_reliable</span>
<span class="code-keyword">def</span> <span class="code-function">receive_reliable</span>(self):
    <span class="code-string">"""××§×‘×œ data ×‘×¦×•×¨×” ×××™× ×”"""</span>
    
    received_packets = {}  <span class="code-comment"># {seq: data}</span>
    expected_seq = <span class="code-string">0</span>
    
    <span class="code-keyword">while</span> <span class="code-keyword">True</span>:
        <span class="code-comment"># ×§×‘×œ ×—×‘×™×œ×”</span>
        packet = self.sock.recv(<span class="code-string">2048</span>)
        
        <span class="code-comment"># ×¤×¢× ×—: SEQ, DATA ××• FIN</span>
        msg_type, seq, data = self._decode_packet(packet)
        
        <span class="code-keyword">if</span> msg_type == <span class="code-string">"FIN"</span>:
            <span class="code-comment"># ×¡×™×™×× ×•! ×©×œ×— ACK ×œ-FIN</span>
            self._send_ack(seq)
            <span class="code-keyword">break</span>
        
        <span class="code-comment"># ×©×œ×— ACK (×ª××™×“! ×’× ×œ×—×‘×™×œ×•×ª ×›×¤×•×œ×•×ª)</span>
        self._send_ack(seq)
        
        <span class="code-comment"># ×‘×“×•×§ ×× ×–×• ×—×‘×™×œ×” ×—×“×©×”</span>
        <span class="code-keyword">if</span> seq <span class="code-keyword">not in</span> received_packets:
            received_packets[seq] = data
            <span class="code-function">print</span>(<span class="code-string">f"âœ… Received new packet {seq}"</span>)
        <span class="code-keyword">else</span>:
            <span class="code-function">print</span>(<span class="code-string">f"ğŸ“¦ Duplicate packet {seq}, ignored"</span>)
    
    <span class="code-comment"># ×¡×“×¨ ×œ×¤×™ sequence</span>
    sorted_data = [received_packets[i] 
                   <span class="code-keyword">for</span> i <span class="code-keyword">in</span> sorted(received_packets.keys())]
    
    <span class="code-keyword">return</span> <span class="code-string">b""</span>.join(sorted_data)</pre>
                </div>

                <div class="questions-box">
                    <h4>ğŸ’­ ×©××œ×•×ª ××™××•×©</h4>
                    <div class="question-item">
                        <strong>1. Encoding:</strong> ××™×š ×œ×§×•×“×“ SEQ+DATA? struct.pack? JSON? ××©×”×• ××—×¨?
                    </div>
                    <div class="question-item">
                        <strong>2. Threading:</strong> ×”×× ×¦×¨×™×š thread × ×¤×¨×“ ×œ×”××–×™×Ÿ ×œ-ACKs?
                    </div>
                    <div class="question-item">
                        <strong>3. Timeout:</strong> ×”×× timeout ×§×‘×•×¢ ××• ×œ×—×©×‘ ×œ×¤×™ RTT?
                    </div>
                    <div class="question-item">
                        <strong>4. FIN:</strong> ××™×š ×œ×¡××Ÿ ×©×”×§×•×‘×¥ × ×’××¨? ×—×‘×™×œ×” ××™×•×—×“×ª?
                    </div>
                </div>

                <div class="ai-guide">
                    <h4>×©××œ×•×ª ×˜×•×‘×•×ª ×œ-AI ×‘××™××•×©</h4>
                    
                    <div class="allowed">
                        <h5>âœ… ×“×•×’×××•×ª ×œ×©××œ×•×ª:</h5>
                        <ul>
                            <li>"××™×š ×œ×”×©×ª××© ×‘-struct.pack ×œ×§×™×“×•×“ int + bytes?"</li>
                            <li>"××” ×”×”×‘×“×œ ×‘×™×Ÿ select() ×œ-recv() ×¢× timeout?"</li>
                            <li>"×”×§×•×“ ×©×œ×™ ××ª× ×”×’ ×›×š... ×œ××” ×–×” ×§×•×¨×”?"</li>
                            <li>"××™×š ×œ×˜×¤×œ ×‘××¦×‘ ×©×‘×• ACK ××•×‘×“?"</li>
                        </ul>
                    </div>

                    <p style="margin-top: 15px;"><strong>×›×œ×œ ×–×”×‘:</strong> ×©××œ×• ×¢×œ <em>××™×š</em> ×œ×××© ×”×—×œ×˜×” ×©×›×‘×¨ ×§×™×‘×œ×ª×, ×œ× ××” ×œ×”×—×œ×™×˜.</p>
                </div>

                <div class="output-box">
                    <h4>×ª×•×¦×¨ ×©×œ×‘ 2</h4>
                    
                    <h5 style="color: var(--cyber-primary); margin: 15px 0 10px 0;">×§×•×“ ×¢×•×‘×“:</h5>
                    <p>×”×§×•×‘×¥ simple_tcp_protocol.py ×¢× ××™××•×© ××œ×</p>

                    <h5 style="color: var(--cyber-danger); margin: 15px 0 10px 0;">×‘×¢×™×•×ª ×©× ×ª×§×œ×ª×:</h5>
                    <textarea class="doc-area" placeholder="×ª×¢×“×• ×œ×¤×—×•×ª 3 ×‘×¢×™×•×ª:
1. ×”×‘×¢×™×”: [××” ×§×¨×”?]
2. ××™×š AI ×¢×–×¨: [×ª×™××•×¨ ×”×©×™×—×”]
3. ×”×¤×ª×¨×•×Ÿ: [××” ×¢×©×™×ª× ×•×œ××” ×–×” ×¢×•×‘×“]
4. ××” ×œ××“×ª×: [insight]"></textarea>

                    <h5 style="color: var(--cyber-warning); margin: 15px 0 10px 0;">Trade-offs:</h5>
                    <textarea class="doc-area" placeholder="××™×œ×• compromises ×¢×©×™×ª×?
- timeout ×§×‘×•×¢ vs ×“×™× ××™?
- buffer size - ×›××”?
- cumulative ACK vs selective?
- ××” ×•×™×ª×¨×ª× ×•××” ×¨×•×•×—×ª×?"></textarea>
                </div>
            </div>
        </div>

        <!-- Stage 3: Testing -->
        <div class="stage-card">
            <div class="stage-header" onclick="toggleStage(this)">
                <span class="stage-number">3</span>
                <h3 class="stage-title">×‘×“×™×§×•×ª - ×”×× ×–×” ×¢×•×‘×“?</h3>
                <span class="timer">â±ï¸ 25 ×“×§×•×ª</span>
                <span class="stage-toggle">â–¼</span>
            </div>
            <div class="stage-content">
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    ×–××Ÿ ×œ×‘×“×•×§! ×”×¨×™×¦×• ××ª client ×•-server ×•×‘×“×§×• ×ª×¨×—×™×©×™× ×©×•× ×™×.
                </p>

                <div class="task-box">
                    <h4>ğŸ§ª ×ª×¨×—×™×©×™ ×‘×“×™×§×”</h4>
                    <ul class="task-list">
                        <li><strong>×ª×¨×—×™×© 1:</strong> drop_rate=0.2, reorder_rate=0.2 - ×‘×¡×™×¡×™</li>
                        <li><strong>×ª×¨×—×™×© 2:</strong> drop_rate=0.5 - ××•×‘×“×Ÿ ×’×‘×•×”!</li>
                        <li><strong>×ª×¨×—×™×© 3:</strong> reorder_rate=0.8 - ×”×›×œ ×œ× ×‘×¡×“×¨!</li>
                        <li><strong>×ª×¨×—×™×© 4:</strong> ×§×•×‘×¥ ×’×“×•×œ (10KB+) - ×‘×™×¦×•×¢×™×</li>
                        <li><strong>×ª×¨×—×™×© 5:</strong> timeout ×§×¦×¨ ××“×™ - ××” ×§×•×¨×”?</li>
                    </ul>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># ×”×¨×¦×ª ×”×‘×“×™×§×”</span>
<span class="code-comment"># Terminal 1 (Server):</span>
$ python server_mini_tcp.py

<span class="code-comment"># Terminal 2 (Client):</span>
$ python client_mini_tcp.py

<span class="code-comment"># ×©× ×” ×¤×¨××˜×¨×™× ×‘-client:</span>
network = UnreliableNetwork(
    drop_rate=<span class="code-string">0.5</span>,      <span class="code-comment"># 50% ××•×‘×“×Ÿ!</span>
    reorder_rate=<span class="code-string">0.8</span>   <span class="code-comment"># 80% ×œ× ×‘×¡×“×¨!</span>
)</pre>
                </div>

                <div class="code-block">
<pre><span class="code-comment"># ×›×ª×‘×• ×‘×“×™×§×•×ª ×‘-test_simple_tcp.py</span>
<span class="code-keyword">def</span> <span class="code-function">test_basic_transfer</span>():
    <span class="code-string">"""×‘×“×™×§×” ×‘×¡×™×¡×™×ª - ×©×œ×™×—×ª 100 bytes"""</span>
    data = <span class="code-string">b"A" * 100</span>
    <span class="code-comment"># TODO: ×©×œ×—, ×§×‘×œ, ×‘×“×•×§ ×©×•×•×”</span>
    <span class="code-keyword">assert</span> sent_data == received_data

<span class="code-keyword">def</span> <span class="code-function">test_high_loss</span>():
    <span class="code-string">"""×‘×“×™×§×ª ×¢××™×“×•×ª - 60% ××•×‘×“×Ÿ"""</span>
    network = UnreliableNetwork(drop_rate=<span class="code-string">0.6</span>)
    <span class="code-comment"># TODO: ×”×× ×¢×“×™×™×Ÿ ×¢×•×‘×“?</span>

<span class="code-keyword">def</span> <span class="code-function">test_performance</span>():
    <span class="code-string">"""××“×™×“×ª ×‘×™×¦×•×¢×™× - 10KB"""</span>
    start = time.time()
    <span class="code-comment"># TODO: ×©×œ×— 10KB</span>
    duration = time.time() - start
    <span class="code-function">print</span>(<span class="code-string">f"Transfer time: {duration:.2f}s"</span>)</pre>
                </div>

                <div class="questions-box">
                    <h4>ğŸ’­ ×©××œ×•×ª × ×™×ª×•×—</h4>
                    <div class="question-item">
                        <strong>1.</strong> ××” ×§×•×¨×” ×›×©-timeout ×§×¦×¨ ××“×™? ××™×š ×–×” ××©×¤×™×¢ ×¢×œ ×‘×™×¦×•×¢×™×?
                    </div>
                    <div class="question-item">
                        <strong>2.</strong> ××™×–×” ×ª×¨×—×™×© ×”×›×™ ×§×©×” ×œ×¤×¨×•×˜×•×§×•×œ ×©×œ×›×? ×œ××”?
                    </div>
                    <div class="question-item">
                        <strong>3.</strong> ×›××” retransmissions ×‘×××•×¦×¢? ×”×× ××¤×©×¨ ×œ×”×¤×—×™×ª?
                    </div>
                </div>

                <div class="output-box">
                    <h4>×ª×•×¦×¨ ×©×œ×‘ 3</h4>
                    
                    <h5 style="color: var(--cyber-primary); margin: 15px 0 10px 0;">×ª×•×¦××•×ª ×‘×“×™×§×•×ª:</h5>
                    <textarea class="doc-area" placeholder="×œ×›×œ ×ª×¨×—×™×©:
1. ×¤×¨××˜×¨×™× (drop_rate, reorder_rate)
2. ×”×× ×¢×‘×¨? âœ… / × ×›×©×œ? âŒ
3. ××“×“×™×: ×–××Ÿ, retransmissions, throughput
4. ×”×¤×ª×¢×•×ª: ××” ×œ× ×¦×™×¤×™×ª×?"></textarea>

                    <h5 style="color: var(--cyber-secondary); margin: 15px 0 10px 0;">××•×¤×˜×™××™×–×¦×™×•×ª:</h5>
                    <textarea class="doc-area" placeholder="××” ×©×™×¤×¨×ª× ××—×¨×™ ×”×‘×“×™×§×•×ª?
- ×©×™× ×•×™ ×‘-timeout?
- ×©×™× ×•×™ ×‘-chunk size?
- ×©×™× ×•×™ ×‘××¡×˜×¨×˜×’×™×™×ª ACK?
- ××” ×”×©×™×¤×•×¨ ×‘×‘×™×¦×•×¢×™×?"></textarea>
                </div>
            </div>
        </div>

        <!-- Stage 4: Comparison with TCP -->
        <div class="stage-card">
            <div class="stage-header" onclick="toggleStage(this)">
                <span class="stage-number">âœ“</span>
                <h3 class="stage-title">×”×©×•×•××” ×œ-TCP ×”×××™×ª×™</h3>
                <span class="stage-toggle">â–¼</span>
            </div>
            <div class="stage-content">
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    ×¢×›×©×™×• ×©×‘× ×™×ª× Mini-TCP, ×”×’×™×¢ ×”×–××Ÿ ×œ×”×©×•×•×ª ×œ-TCP ×”×××™×ª×™ ×•×œ×”×‘×™×Ÿ ××” ×œ××“×ª×.
                </p>

                <div class="questions-box">
                    <h4>ğŸ” ×©××œ×•×ª ×”×©×•×•××”</h4>
                    <div class="question-item">
                        <strong>1. Three-Way Handshake:</strong> ×œ××” TCP ×¦×¨×™×š ××ª ×–×”? ×”×× ×¤×¡×¤×¡×ª× ××©×”×• ×‘×œ×™ ×–×”?
                    </div>
                    <div class="question-item">
                        <strong>2. Sliding Window:</strong> ××ª× ×©×œ×—×ª× ×—×‘×™×œ×” ××—×ª ×‘×›×œ ×¤×¢×. TCP ×©×•×œ×— ×”×¨×‘×” ×‘××§×‘×™×œ. ××” ×–×” × ×•×ª×Ÿ?
                    </div>
                    <div class="question-item">
                        <strong>3. Congestion Control:</strong> TCP ×××˜ ×›×©×”×¨×©×ª ×¢××•×¡×”. ××™×š ×–×” ×§×©×•×¨ ×œ×‘×¢×™×” ×©×¤×ª×¨×ª×?
                    </div>
                    <div class="question-item">
                        <strong>4. Fast Retransmit:</strong> TCP ×œ× ××—×›×” ×œ-timeout. ××™×š ×–×” ×¢×•×‘×“?
                    </div>
                    <div class="question-item">
                        <strong>5. Flow Control:</strong> ××” ×§×•×¨×” ×× Receiver ××™×˜×™? ××™×š TCP ××˜×¤×œ ×‘×–×”?
                    </div>
                </div>

                <div class="ai-guide">
                    <h4>×©××œ×•×ª ××¢××™×§×•×ª ×œ-AI</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin: 10px 0;">ğŸ’¡ "×”×¡×‘×¨ ××ª ×”×”×‘×“×œ ×‘×™×Ÿ Stop-and-Wait (××” ×©×¢×©×™× ×•) ×œ-Sliding Window"</li>
                        <li style="margin: 10px 0;">ğŸ’¡ "×œ××” TCP Tahoe ×©×•× ×” ×-TCP Reno? ××™×–×” ×‘×¢×™×” ×›×œ ××—×“ ×¤×•×ª×¨?"</li>
                        <li style="margin: 10px 0;">ğŸ’¡ "××” ×–×” Silly Window Syndrome ×•××™×š TCP × ×× ×¢ ××× ×•?"</li>
                        <li style="margin: 10px 0;">ğŸ’¡ "×œ××” TCP ×œ× ××ª××™× ×œ×¡×˜×¨×™××™× ×’ ×•×™×“××•? ××” ×”×‘×¢×™×”?"</li>
                    </ul>
                </div>

                <div class="output-box">
                    <h4>×ª×•×¦×¨ ×¡×•×¤×™ - ×¨×¤×œ×§×¦×™×” ××œ××”</h4>
                    
                    <h5 style="color: var(--cyber-primary); margin: 15px 0 10px 0;">×¢×œ TCP:</h5>
                    <textarea class="doc-area" placeholder="1. ××” ×œ××“×ª× ×¢×œ TCP ×©×œ× ×™×“×¢×ª×?
2. ×œ××” TCP ××•×¨×›×‘ ×›×œ ×›×š? ××™×œ×• ×‘×¢×™×•×ª ×”×•× ×¤×•×ª×¨ ×©×œ× ×¤×ª×¨×ª×?
3. ×‘××™×œ×• ××§×¨×™× TCP ×œ× ××ª××™×? ×œ××”?"></textarea>

                    <h5 style="color: var(--cyber-secondary); margin: 15px 0 10px 0;">×¢×œ ×¢×™×¦×•×‘ ××¢×¨×›×•×ª:</h5>
                    <textarea class="doc-area" placeholder="1. ×œ××” ×—×©×•×‘ ×œ×”×¤×¨×™×“ UnreliableNetwork ×-SimpleTCP?
2. ××™×œ×• tradeoffs ×¢×©×™×ª×? (×¤×©×˜×•×ª vs ×‘×™×¦×•×¢×™×, ×–×™×›×¨×•×Ÿ vs ××”×™×¨×•×ª)
3. ××™×š ×™×“×¢×ª× ×©×”×¤×ª×¨×•×Ÿ '×˜×•×‘ ××¡×¤×™×§'?
4. ××” ×”×™×ª× ××©× ×™× ×× ×”×™×” ×œ×›× ×¢×•×“ ×–××Ÿ?"></textarea>

                    <h5 style="color: var(--cyber-warning); margin: 15px 0 10px 0;">×¢×œ AI ×›×›×œ×™ ×œ××™×“×”:</h5>
                    <textarea class="doc-area" placeholder="1. ××™×œ×• ×©××œ×•×ª ×”×™×• ×”×›×™ ××•×¢×™×œ×•×ª?
2. ××ª×™ AI ×¢×–×¨ ×‘×××ª ×•××ª×™ ×œ×?
3. ×›×©AI ×˜×¢×” - ××™×š ×’×™×œ×™×ª×?
4. ××” ×œ××“×ª× ×¢×œ ××™×š ×œ×©××•×œ ×©××œ×•×ª ×˜×•×‘×•×ª?
5. ××” ×”×™×ª× ×¢×•×©×™× ××—×¨×ª ×‘×¤×¢× ×”×‘××”?"></textarea>
                </div>
            </div>
        </div>

        <!-- Success Box -->
        <div class="success-box">
            <h3>ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª× ××ª ×”××©×™××”</h3>
            <p style="margin-top: 10px;">×¢×›×©×™×• ××ª× ××‘×™× ×™× ×œ× ×¨×§ <strong>××™×š</strong> TCP ×¢×•×‘×“, ××œ× <strong>×œ××”</strong> ×”×•× ××¢×•×¦×‘ ×›××• ×©×”×•× ××¢×•×¦×‘!</p>
            <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.95em;">
                ×‘× ×™×ª× ×¤×¨×•×˜×•×§×•×œ ×ª×§×©×•×¨×ª ×××™×Ÿ ××¢×œ ×¨×©×ª ×œ× ×××™× ×” - ×–×” ×‘×“×™×•×§ ××” ×©××”× ×“×¡×™ ×¨×©×ª×•×ª ×¢×•×©×™×! ğŸš€
            </p>
        </div>
    </div>

    <script>
        // Toggle Stage Expansion
        function toggleStage(header) {
            const card = header.parentElement;
            card.classList.toggle('collapsed');
            updateProgress();
        }

        // Update Progress Bar
        function updateProgress() {
            const stages = document.querySelectorAll('.stage-card');
            const expandedStages = document.querySelectorAll('.stage-card:not(.collapsed)');
            const progress = (expandedStages.length / stages.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
        });
    </script>
</body>
</html>