<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>××“×¨×™×š 5: QThread ×•-Signals ××ª×§×“××™×</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.8;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 { font-size: 3em; margin-bottom: 10px; }
        .content { padding: 40px; }
        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-right: 5px solid #667eea;
        }
        .section h2 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .section h3 { color: #34495e; font-size: 1.8em; margin: 25px 0 15px 0; }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            font-family: 'Consolas', monospace;
            font-size: 1.1em;
            line-height: 1.6;
        }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .comment { color: #6a9955; font-style: italic; }
        .class-name { color: #4ec9b0; }
        .number { color: #b5cea8; }
        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-right: 5px solid #ff9800;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        .warning-box h4 { color: #e65100; margin-bottom: 10px; font-size: 1.5em; }
        .info-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-right: 5px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        .info-box h4 { color: #1565c0; margin-bottom: 10px; font-size: 1.5em; }
        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-right: 5px solid #4caf50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        .success-box h4 { color: #2e7d32; margin-bottom: 10px; font-size: 1.5em; }
        .diagram {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .thread-box {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        ul, ol { margin: 15px 0 15px 40px; }
        li { margin: 10px 0; font-size: 1.1em; }
        .icon { font-size: 1.5em; margin-left: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“˜ ××“×¨×™×š 5: QThread ×•-Signals</h1>
            <p>×ª×”×œ×™×›×•× ×™× ×•×ª×§×©×•×¨×ª ×‘×™×Ÿ ×¨×›×™×‘×™×</p>
        </div>

        <div class="content">
            <div class="section">
                <h2><span class="icon">âš¡</span>×œ××” ×¦×¨×™×š Threads?</h2>
                
                <p style="font-size: 1.2em; margin: 20px 0;">
                    ×›××©×¨ ××¨×™×¦×™× ×¤×¢×•×œ×” ××¨×•×›×” (×›××• ×”×•×¨×“×ª ×§×•×‘×¥ ××• ×—×™×©×•×‘ ××•×¨×›×‘) ×‘×—×•×˜ ×”×¨××©×™,
                    ×”×××©×§ "×§×•×¤×" ×•×œ× ××’×™×‘. <strong>QThread</strong> ×××¤×©×¨ ×œ×”×¨×™×¥ ×¤×¢×•×œ×•×ª ×‘×¨×§×¢.
                </p>

                <div class="warning-box">
                    <h4>âš ï¸ ×‘×¢×™×” ×œ×œ× Threads</h4>
                    <pre class="code-block">
<span class="keyword">import</span> time

<span class="keyword">def</span> <span class="function">long_task</span>(self):
    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):
        time.sleep(<span class="number">1</span>)  <span class="comment"># ×”×××©×§ ×§×•×¤×!</span>
        <span class="function">print</span>(<span class="string">f'×©×œ×‘ {i+1}'</span>)
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">ğŸ”§</span>×™×¦×™×¨×ª Thread</h2>

                <pre class="code-block">
<span class="keyword">from</span> PyQt6.QtCore <span class="keyword">import</span> QThread, pyqtSignal
<span class="keyword">import</span> time

<span class="keyword">class</span> <span class="class-name">WorkerThread</span>(QThread):
    <span class="comment"># ×”×’×“×¨×ª Signals</span>
    progress = pyqtSignal(int)
    finished = pyqtSignal(str)
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, name):
        <span class="keyword">super</span>().__init__()
        self.name = name
    
    <span class="keyword">def</span> <span class="function">run</span>(self):
        <span class="comment"># ×”×§×•×“ ×©×™×¨×•×¥ ×‘×¨×§×¢</span>
        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):
            time.sleep(<span class="number">0.5</span>)
            self.progress.emit(i * <span class="number">10</span>)  <span class="comment"># ×©×œ×™×—×ª ××—×•×–</span>
        
        self.finished.emit(<span class="string">f'{self.name} ×¡×™×™×!'</span>)
                </pre>

                <div class="info-box">
                    <h4>ğŸ’¡ ×”×¡×‘×¨</h4>
                    <ul>
                        <li><strong>run()</strong> - ×”×¤×•× ×§×¦×™×” ×©×¨×¦×” ×‘-thread</li>
                        <li><strong>emit()</strong> - ×©×œ×™×—×ª Signal</li>
                        <li><strong>pyqtSignal</strong> - ×”×’×“×¨×ª Signal ××•×ª××</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">ğŸ¯</span>×©×™××•×© ×‘-Thread</h2>

                <pre class="code-block">
<span class="keyword">class</span> <span class="class-name">MainWindow</span>(QWidget):
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        <span class="keyword">super</span>().__init__()
        
        <span class="comment"># ×™×¦×™×¨×ª thread</span>
        self.worker = WorkerThread(<span class="string">'×¢×•×‘×“ 1'</span>)
        
        <span class="comment"># ×—×™×‘×•×¨ signals</span>
        self.worker.progress.connect(self.update_progress)
        self.worker.finished.connect(self.on_finished)
        
        <span class="comment"># ×›×¤×ª×•×¨ ×”×ª×—×œ×”</span>
        btn = QPushButton(<span class="string">'×”×ª×—×œ'</span>)
        btn.clicked.connect(self.start_task)
    
    <span class="keyword">def</span> <span class="function">start_task</span>(self):
        self.worker.start()  <span class="comment"># ×”×¤×¢×œ×ª ×”-thread</span>
    
    <span class="keyword">def</span> <span class="function">update_progress</span>(self, value):
        <span class="comment"># ×¢×“×›×•×Ÿ ××”×××©×§</span>
        self.label.setText(<span class="string">f'×”×ª×§×“××•×ª: {value}%'</span>)
    
    <span class="keyword">def</span> <span class="function">on_finished</span>(self, message):
        self.label.setText(message)
                </pre>

                <div class="diagram">
                    <h4>×ª×¨×©×™× ×–×¨×™××”:</h4>
                    <div class="thread-box">
                        Main Thread<br>
                        (UI)
                    </div>
                    <div style="display: inline; font-size: 2em;">â†’</div>
                    <div class="thread-box">
                        Worker Thread<br>
                        (Background)
                    </div>
                    <div style="display: inline; font-size: 2em;">â†’</div>
                    <div class="thread-box">
                        Signals<br>
                        (Updates)
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">ğŸš¨</span>×›×œ×œ×™ ×–×”×‘</h2>

                <div class="warning-box">
                    <h4>âš ï¸ ××¡×•×¨!</h4>
                    <ul>
                        <li>×œ×’×¢×ª ×‘-UI widgets ×™×©×™×¨×•×ª ××ª×•×š run()</li>
                        <li>×œ×”×¤×¢×™×œ thread ×¤×¢××™×™× (×¦×•×¨ ××—×“×©)</li>
                        <li>×œ×©×›×•×— ×œ×—×›×•×ª ×œ-thread ×œ×¤× ×™ ×¡×’×™×¨×”</li>
                    </ul>
                </div>

                <div class="success-box">
                    <h4>âœ… ××•×ª×¨!</h4>
                    <ul>
                        <li>×œ×©×œ×•×— Signals ××”-thread</li>
                        <li>×œ×¢×‘×“ × ×ª×•× ×™× ×‘-run()</li>
                        <li>×œ×”×¨×™×¥ ××¡×¤×¨ threads ×‘××§×‘×™×œ</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">ğŸ“</span>×“×•×’××” ××œ××” - ××•×¨×™×“ ×§×‘×¦×™×</h2>

                <pre class="code-block">
<span class="keyword">class</span> <span class="class-name">DownloaderThread</span>(QThread):
    progress_update = pyqtSignal(int, str)
    
    <span class="keyword">def</span> <span class="function">__init__</span>(self, urls):
        <span class="keyword">super</span>().__init__()
        self.urls = urls
    
    <span class="keyword">def</span> <span class="function">run</span>(self):
        total = len(self.urls)
        <span class="keyword">for</span> i, url <span class="keyword">in</span> enumerate(self.urls):
            <span class="comment"># ×¡×™××•×œ×¦×™×” ×©×œ ×”×•×¨×“×”</span>
            time.sleep(<span class="number">1</span>)
            progress = int(((i + <span class="number">1</span>) / total) * <span class="number">100</span>)
            self.progress_update.emit(progress, url)

<span class="keyword">class</span> <span class="class-name">DownloaderApp</span>(QWidget):
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        <span class="keyword">super</span>().__init__()
        
        layout = QVBoxLayout()
        
        self.progress_bar = QProgressBar()
        self.status_label = QLabel(<span class="string">'××•×›×Ÿ'</span>)
        
        start_btn = QPushButton(<span class="string">'×”×ª×—×œ ×”×•×¨×“×”'</span>)
        start_btn.clicked.connect(self.start_download)
        
        layout.addWidget(self.progress_bar)
        layout.addWidget(self.status_label)
        layout.addWidget(start_btn)
        
        self.setLayout(layout)
    
    <span class="keyword">def</span> <span class="function">start_download</span>(self):
        urls = [<span class="string">'file1.txt'</span>, <span class="string">'file2.txt'</span>, <span class="string">'file3.txt'</span>]
        self.thread = DownloaderThread(urls)
        self.thread.progress_update.connect(self.on_progress)
        self.thread.start()
    
    <span class="keyword">def</span> <span class="function">on_progress</span>(self, percent, filename):
        self.progress_bar.setValue(percent)
        self.status_label.setText(<span class="string">f'××•×¨×™×“: {filename}'</span>)
                </pre>
            </div>

            <div class="section">
                <h2><span class="icon">ğŸ“</span>×¡×™×›×•×</h2>

                <div class="success-box">
                    <h4>âœ… ××” ×œ××“× ×•?</h4>
                    <ul>
                        <li>××”× Threads ×•×œ××” ×¦×¨×™×š ××•×ª×</li>
                        <li>×™×¦×™×¨×ª Worker Thread ×¢× QThread</li>
                        <li>×©×™××•×© ×‘-pyqtSignal ×œ×ª×§×©×•×¨×ª</li>
                        <li>×›×œ×œ×™ ×–×”×‘ ×•××” ××¡×•×¨ ×œ×¢×©×•×ª</li>
                        <li>×“×•×’××” ××¢×©×™×ª ×œ××•×¨×™×“ ×§×‘×¦×™×</li>
                    </ul>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                            color: white; padding: 30px; border-radius: 15px; text-align: center;">
                    <h3 style="font-size: 2em; margin-bottom: 10px;">ğŸ‰ ×›×œ ×”×›×‘×•×“!</h3>
                    <p style="font-size: 1.3em;">
                        ×¡×™×™××ª ××ª ×›×œ 5 ×”××“×¨×™×›×™×!<br>
                        ×¢×›×©×™×• ××ª×” ×™×•×“×¢ ×œ×™×¦×•×¨ ××¤×œ×™×§×¦×™×•×ª PyQt6 ××œ××•×ª.
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
